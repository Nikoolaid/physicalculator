/*! For license information please see 7d3f96adcd60ff11fe4b476b5cf07a7d4eeaa929-25d534fd48dc4d4dfaac.js.LICENSE.txt */
(self.webpackChunkphysicalculator=self.webpackChunkphysicalculator||[]).push([[330],{5900:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var o=i.apply(null,r);o&&e.push(o)}}else if("object"===a){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},1133:function(e,t,r){var n=r(1825);r(48),function(){"use strict";var e=n.getCore(),t=e.PARSER,r=e.groups.N,i=e.groups.P,a=e.groups.S,o=e.groups.EX,s=e.groups.FN,l=e.groups.PL,u=e.groups.CP,c=e.groups.CB,p=e.Utils.keys,f=e.Utils.even,m=e.Utils.variables,g=e.Utils.format,v=e.Utils.round,h=e.Frac,d=e.Utils.isInt,y=e.Symbol,b=e.Settings.CONST_HASH,w=e.Utils.importFunctions();e.Utils.evaluate;function S(r,n,i){if(e.Utils.isSymbol(r))this.parse(r),this.variable=this.variable||n;else if(isNaN(r))"string"==typeof r&&this.parse(t.parse(r));else{if(i=i||0,void 0===n)throw new e.exceptions.InvalidVariableNameError("Polynomial expects a variable name when creating using order");this.coeffs=[],this.coeffs[i]=r,this.fill(r)}}function x(){this.factors={},this.length=0}function q(t,r,n){this.terms=r||[],this.coeff=t,this.map=n,this.sum=new e.Frac(0),this.image=void 0}S.fromArray=function(t,r){if(void 0===r)throw new e.exceptions.InvalidVariableNameError("A variable name must be specified when creating polynomial from array");var n=new S;return n.coeffs=t,n.variable=r,n},S.fit=function(e,t,r,n,i,a){var o=new Array(i+1),s=r-t;o[0]=t,o[i]=e,s-=e*Math.pow(n,i);for(var l=i-1;l>0;l--){var u=Math.pow(n,l),c=s/u,p=Math.sign(c)*Math.floor(Math.abs(c));s-=p*u,o[l]=p}if(0!==s)return null;for(l=0;l<o.length;l++)o[l]=new h(o[l]);return S.fromArray(o,a)},S.prototype={parse:function(n,i){if(this.variable=m(n)[0],!n.isPoly())throw e.exceptions.NerdamerTypeError("Polynomial Expected! Received "+e.Utils.text(n));if(i=i||[],n.power.absEquals(1)||(n=t.expand(n)),n.group===e.groups.N)i[0]=n.multiplier;else if(n.group===e.groups.S)i[n.power.toDecimal()]=n.multiplier;else for(var a in n.symbols){var o=n.symbols[a],s=o.power;if(e.Utils.isSymbol(s))throw new e.exceptions.NerdamerTypeError("power cannot be a Symbol");s=o.group===r?0:s.toDecimal(),o.symbols?this.parse(o,i):i[s]=o.multiplier}this.coeffs=i,this.fill()},fill:function(e){e=Number(e)||0;for(var t=this.coeffs.length,r=0;r<t;r++)void 0===this.coeffs[r]&&(this.coeffs[r]=new h(e));return this},trim:function(){for(var e=this.coeffs.length;e--;){var t=this.coeffs[e],r=t.equals(0);if(!t||!r)break;if(0===e)break;this.coeffs.pop()}return this},modP:function(e){for(var t=this.coeffs.length,r=0;r<t;r++){var n=this.coeffs[r];if(n<0){for(var i,a=r;a<t;a++)if(this.coeffs[a]>0){i=this.coeffs[a];break}if(i){for(;a>r;a--)this.coeffs[a]=this.coeffs[a].subtract(new h(1)),this.coeffs[a-1]=this.coeffs[a-1].add(new h(e));n=this.coeffs[r]}}var o=n.mod(e),s=n.subtract(o).divide(e);if(!s.equals(0)){var l=r+1,u=this.coeffs[l]||new h(0);u=u.add(s),this.coeffs[l]=new h(u),this.coeffs[r]=new h(o)}}return this},add:function(e){for(var t=Math.max(this.coeffs.length,e.coeffs.length),r=0;r<t;r++){var n=this.coeffs[r]||new h(0),i=e.coeffs[r]||new h(0);this.coeffs[r]=n.add(i)}return this},subtract:function(e){for(var t=Math.max(this.coeffs.length,e.coeffs.length),r=0;r<t;r++){var n=this.coeffs[r]||new h(0),i=e.coeffs[r]||new h(0);this.coeffs[r]=n.subtract(i)}return this},divide:function(t){for(var r=this.variable,n=e.Utils.arrayClone(this.coeffs),i=e.Utils.arrayClone(t.coeffs),a=n.length,o=i.length-1,s=[],l=0;l<a;l++){var u=a-(l+1),c=u-o,p=n[u].divide(i[o]);if(c<0)break;s[c]=p;for(var f=0;f<=o;f++)n[f+c]=n[f+c].subtract(i[f].multiply(p))}var m=S.fromArray(n,r||"x").trim();return[S.fromArray(s,r||"x"),m]},multiply:function(e){for(var t=this.coeffs.length,r=e.coeffs.length,n=[],i=0;i<t;i++)for(var a=this.coeffs[i],o=0;o<r;o++){var s=i+o,l=e.coeffs[o],u=n[s]||new h(0);n[s]=u.add(a.multiply(l))}return this.coeffs=n,this},isZero:function(){for(var e=this.coeffs.length,t=0;t<e;t++){if(!this.coeffs[t].equals(0))return!1}return!0},sub:function(e){for(var t=new h(0),r=this.coeffs.length,n=0;n<r;n++){var i=this.coeffs[n];i.equals(0)||(t=t.add(i.multiply(new h(Math.pow(e,n)))))}return t},clone:function(){var e=new S;return e.coeffs=this.coeffs,e.variable=this.variable,e},deg:function(){return this.trim(),this.coeffs.length-1},lc:function(){return this.coeffs[this.deg()].clone()},monic:function(){for(var e=this.lc(),t=this.coeffs.length,r=0;r<t;r++)this.coeffs[r]=this.coeffs[r].divide(e);return this},gcd:function(t){if(this.coeffs.length-1<t.coeffs.length-1)return t.gcd(this);for(var r=this;!t.isZero();){var n=t.clone();t=(r=r.clone()).divide(n)[1],r=n}var i=e.Math2.QGCD.apply(null,r.coeffs);if(!i.equals(1))for(var a=r.coeffs.length,o=0;o<a;o++)r.coeffs[o]=r.coeffs[o].divide(i);return r},diff:function(){for(var e=[],t=this.coeffs.length,r=1;r<t;r++)e.push(this.coeffs[r].multiply(new h(r)));return this.coeffs=e,this},integrate:function(){for(var e=[0],t=this.coeffs.length,r=0;r<t;r++){var n=new h(r+1);e[n]=this.coeffs[r].divide(n)}return this.coeffs=e,this},gcf:function(t){for(var r=[],n=0;n<this.coeffs.length;n++){var i=this.coeffs[n];i.equals(0)||-1!==r.indexOf(i)||r.push(i)}var a=[e.Math2.QGCD.apply(void 0,r),function(e){for(var t=0;t<e.length;t++)if(!e[t].equals(0))return t}(this.coeffs)].toDecimal();if(t){var o=[];o[a[1]-1]=a[0],a=S.fromArray(o,this.variable).fill()}return a},quad:function(e){var t=[];if(this.coeffs.length>3)throw new Error("Cannot calculate quadratic order of "+(this.coeffs.length-1));if(0===this.coeffs.length)throw new Error("Polynomial array has no terms");var r=this.coeffs[2]||0,n=this.coeffs[1]||0,i=n*n-4*r*this.coeffs[0];return i<0&&!e||(t[0]=(-n+Math.sqrt(i))/(2*r),t[1]=(-n-Math.sqrt(i))/(2*r)),t},squareFree:function(){for(var e=this.clone(),t=1,r=e.clone().diff(),n=e.clone().gcd(r),i=e.divide(n)[0],a=S.fromArray([new h(1)],e.variable);!n.equalsNumber(1);){var o=i.gcd(n),s=i.divide(o)[0];if(!s.equalsNumber(1)&&t>1){for(var l=s.clone(),u=1;u<t;u++)l.multiply(s.clone());s=l}a=a.multiply(s),t++,i=o,n=n.divide(o)[0]}return[a,i,t]},toSymbol:function(){var r=this.coeffs.length,n=this.variable;if(0===r)return new e.Symbol(0);for(var i=r-1,a="",o=0;o<r;o++){var s=o===i?"":"+",l=this.coeffs[o];l.equals(0)||(a+=l+"*"+n+"^"+o+s)}return t.parse(a)},equalsNumber:function(e){return this.trim(),1===this.coeffs.length&&this.coeffs[0].toDecimal()===String(e)},toString:function(){return this.toSymbol().toString()}},y.prototype.coeffs=function(e,r){r&&!this.isPoly(!0)&&t.error("Polynomial expected when requesting coefficients with order"),e=e||[];var n=this.clone().distributeMultiplier();if(n.isComposite())for(var i in n.symbols){var a=n.symbols[i];a.isComposite()?a.clone().distributeMultiplier().coeffs(e,r):r?e[a.isConstant()?0:a.power.toDecimal()]=a.multiplier:e.push(a.multiplier)}else if(r)e[n.isConstant(!0)?0:n.power.toDecimal()]=n.multiplier;else if(n.group===c&&n.isImaginary()){var o=new y(n.multiplier);n.each((function(e){(e.isConstant(!0)||e.imaginary)&&(o=t.multiply(o,e))})),e.push(o)}else e.push(n.multiplier);if(r)for(var s=0;s<e.length;s++)void 0===e[s]&&(e[s]=new y(0));return e},y.prototype.tBase=function(e){if(void 0===e)throw new Error("Symbol.tBase requires a map object!");for(var t=[],r=this.collectSymbols(null,null,null,!0),n=r.length,i=0;i<n;i++){var a=r[i],o=a.group,s=new q(a.multiplier,[],e);if(o===c)for(var l in a.symbols){var u=a.symbols[l];s.terms[e[l]]=u.power}else s.terms[e[a.value]]=a.power;t.push(s.fill()),s.updateCount()}return t},y.prototype.altVar=function(e){var t=this.multiplier.toString(),r=this.power.toString();return("1"===t?"":t+"*")+e+("1"===r?"":"^"+r)},y.prototype.sameVars=function(e){if(!this.symbols&&this.group!==e.group)return!1;for(var t in this.symbols){var r=this.symbols[t],n=e.symbols[t];if(!n)return!1;if(r.value!==n.value)return!1}return!0},y.prototype.groupTerms=function(r){var n,i,a;r=String(r);var o=[];return this.each((function(s){if(s.group===l){a=s.groupTerms(r);for(var u=0;u<a.length;u++){var c=a[u];c&&(o[u]=c)}}else n=e.Utils.decompose_fn(s,r,!0),i=n.x.value===r?Number(n.x.power):0,o[i]=t.add(o[i]||new y(0),n.a)})),o},y.prototype.collectFactors=function(){var e=[];return this.group===c?this.each((function(t){e.push(t.clone())})):e.push(this.clone()),e},x.prototype.getNumberSymbolics=function(){var e=0;return this.each((function(t){t.isConstant(!0)||e++})),e},x.prototype.add=function(r){if(r.equals(0))return this;if(r.equals(-1)&&this.length>0){var n=e.Utils.firstObject(this.factors,null,!0);return this.add(t.symfunction(e.Settings.PARENTHESIS,[n.obj]).negate()),delete this.factors[n.key],this.length--,this}if(r.group===c){var i=this;r.multiplier.equals(1)||i.add(new y(r.multiplier)),r.each((function(e){i.add(e)}))}else{this.preAdd&&(r=this.preAdd(r)),this.pFactor&&(r=t.pow(r,new y(this.pFactor)));var a=r.isConstant();if(a&&r.equals(1))return this;var o=a?r.value:r.text();o in this.factors?(this.factors[o]=t.multiply(this.factors[o],r),this.factors[o].equals(1)&&(delete this.factors[o],this.length--)):(this.factors[o]=r,this.length++)}return this},x.prototype.toSymbol=function(){for(var r=new y(1),n=Object.values(this.factors).sort((function(e,t){return e.group>t.group})),i=0,a=n.length;i<a;i++){var o=n[i],s=o.power.equals(1)&&""!==o.fname?t.symfunction(e.PARENTHESIS,[o]):o;r=t.multiply(r,s)}return""===r.fname&&(r=y.unwrapPARENS(r)),r},x.prototype.merge=function(e){for(var r in e)r in this.factors?this.factors[r]=t.multiply(this.factors[r],e[r]):this.factors[r]=e[r];return this},x.prototype.each=function(t){for(var r in this.factors){var n=this.factors[r];n.fname===e.PARENTHESIS&&n.isLinear()&&(n=n.args[0]),t.call(this,n,r)}return this},x.prototype.count=function(){return p(this.factors).length},x.prototype.clean=function(){try{var t=e.Settings.CONST_HASH;this.factors[t].lessThan(0)&&(this.factors[t].equals(-1)?delete this.factors[t]:this.factors[t].negate(),this.each((function(e){e.negate()})))}catch(r){}},x.prototype.toString=function(){return this.toSymbol().toString()},q.prototype.updateCount=function(){this.count=this.count||0;for(var e=0;e<this.terms.length;e++)this.terms[e].equals(0)||this.count++;return this},q.prototype.getVars=function(){for(var e=[],t=0;t<this.terms.length;t++){var r=this.terms[t];this.getRevMap();r.equals(0)||e.push(this.rev_map[t])}return e.join(" ")},q.prototype.len=function(){return void 0===this.count&&this.updateCount(),this.count},q.prototype.toSymbol=function(e){e=e||this.getRevMap();for(var r=new y(this.coeff),n=0;n<this.terms.length;n++){var i=e[n],a=this.terms[n];if(!a.equals(0)&&i!==b){var o=new y(i);o.power=a,r=t.multiply(r,o)}}return r},q.prototype.getRevMap=function(){if(this.rev_map)return this.rev_map;var e={};for(var t in this.map)e[this.map[t]]=t;return this.rev_map=e,e},q.prototype.generateImage=function(){return this.image=this.terms.join(" "),this},q.prototype.getImg=function(){return this.image||this.generateImage(),this.image},q.prototype.fill=function(){for(var t=this.map.length,r=0;r<t;r++)void 0===this.terms[r]?this.terms[r]=new e.Frac(0):this.sum=this.sum.add(this.terms[r]);return this},q.prototype.divide=function(e){for(var t=this.coeff.divide(e.coeff),r=this.terms.length,n=new q(t,[],this.map),i=0;i<r;i++)n.terms[i]=this.terms[i].subtract(e.terms[i]),n.sum=n.sum.add(n.terms[i]);return n},q.prototype.multiply=function(e){for(var t=this.coeff.multiply(e.coeff),r=this.terms.length,n=new q(t,[],this.map),i=0;i<r;i++)n.terms[i]=this.terms[i].add(e.terms[i]),n.sum=n.sum.add(n.terms[i]);return n},q.prototype.isZero=function(){return this.coeff.equals(0)},q.prototype.toString=function(){return"{ coeff: "+this.coeff.toString()+", terms: ["+this.terms.join(",")+"]: sum: "+this.sum.toString()+", count: "+this.count+"}"},e.Utils.toMapObj=function(e){for(var t=0,r={},n=0;n<e.length;n++){var i=e[n];void 0===r[i]&&(r[i]=t,t++)}return r.length=t,r},e.Utils.filledArray=function(e,t,r){for(var n=[];t--;)n[t]=r?new r(e):e;return n},e.Utils.arrSum=function(e){for(var t=0,r=e.length,n=0;n<r;n++)t+=e[n];return t},e.Utils.haveIntersection=function(e,t){var r;return t.length>e.length&&(r=t,t=e,e=r),e.some((function(e){return t.indexOf(e)>-1}))},e.Utils.subFunctions=function(t,r){r=r||{};var n=[];return t.each((function(t){if(t.group===s||t.previousGroup===s){var i=e.Utils.text(t,"hash"),a=r[i];if(a)n.push(t.altVar(a));else{var o=t.fname+p(r).length;r[i]=o,n.push(t.altVar(o))}}else t.group===c||t.group===l||t.group===u?n.push(e.Utils.subFunctions(t,r)):n.push(t.text())})),t.group===u||t.group===l?t.altVar(e.Utils.inBrackets(n.join("+"))):t.group===c?t.altVar(e.Utils.inBrackets(n.join("*"))):t.text()},e.Utils.getFunctionsSubs=function(e){var r={};for(var n in e)r[e[n]]=t.parse(n);return r};var k=e.Algebra={version:"1.4.6",proots:function(r,n){n=n||7;var i=[],o=function(e,t,r){for(var n=N(e,t,r).concat(i),a=0;a<0;a++)n.unshift(0);return n};if(r instanceof y&&r.isPoly()){if(r.distributeMultiplier(),r.group===l){var s=e.Utils.arrayMin(p(r.symbols)),u=r.symbols[s].clone().toUnitMultiplier();r=t.expand(t.divide(r,u)),i.push(0)}if(r.group===e.groups.S)return[0];if(r.group===e.groups.PL){var c=p(r.symbols),f=e.Utils.arrayMin(c);r=e.PARSER.divide(r,e.PARSER.parse(r.value+"^"+f))}for(var m=p(r.symbols).sort().pop(),g=r.group===e.groups.PL?r.symbols:r.symbols[m],h=g.group,d=(c=h===a?[g.power.toDecimal()]:p(g.symbols),[]),w=e.Utils.arrayMax(c),S=1;S<=w;S++){var x=0;-1!==c.indexOf(S+"")&&(x=h===a?g.multiplier:g.symbols[S].multiplier),d.unshift(x)}return d.push(r.symbols[b].multiplier),g.group===a&&(d[0]=g.multiplier),o(d,c,w)}if(e.Utils.isArray(r)){var q=r,k=(d=[],c=[],0);for(S=0;S<q.length;S++){for(var M=q[S][0],E=q[S][1],A=E-k-1,U=0;U<A;U++)d.unshift(0);d.unshift(M),0!==E&&c.push(E),k=E}return o(d,c,w=Math.max.apply(void 0,c))}throw new e.exceptions.NerdamerTypeError("Cannot calculate roots. Symbol must be a polynomial!");function N(t,r,i){var a=t.slice(0);if(t.unshift(i),i>100)throw new e.exceptions.ValueLimitExceededError("This utility accepts polynomials of degree up to 100. ");var o=[],s={};for(s.Degree=i,S=0;S<i;S++)o.push(0);var l=o.slice(0);function u(e,t,r,n,i,a){i[0]=a.b=n[0],i[1]=a.a=-t*a.b+n[1];for(var o=2;o<e;o++)i[o]=-(t*a.a+r*a.b)+n[o],a.b=a.a,a.a=i[o]}function c(e,t,r,n,i,a,o,s,l){var c=new Object,p=3;return c.b=c.a=0,u(t,o,s,a,l,c),i.c=c.a,i.d=c.b,Math.abs(i.c)<=100*e*Math.abs(a[t-1])&&Math.abs(i.d)<=100*e*Math.abs(a[t-2])||(i.h=s*n,Math.abs(i.d)>=Math.abs(i.c)?(p=2,i.e=r/i.d,i.f=i.c/i.d,i.g=o*n,i.a3=i.e*(i.g+r)+i.h*(n/i.d),i.a1=-r+i.f*n,i.a7=i.h+(i.f+o)*r):(p=1,i.e=r/i.c,i.f=i.d/i.c,i.g=i.e*o,i.a3=i.e*r+(i.g+i.h/i.c)*n,i.a1=-r*(i.d/i.c)+n,i.a7=i.g*i.d+i.h*i.f+r)),p}function p(e,t,r,n,i,a,o,s,l){var u;if(3!=r)if(u=1==r?i:n,Math.abs(a.a1)>10*e*Math.abs(u)){a.a7/=a.a1,a.a3/=a.a1,o[0]=l[0],o[1]=-l[0]*a.a7+l[1];for(c=2;c<t;c++)o[c]=-l[c-1]*a.a7+s[c-2]*a.a3+l[c]}else{o[0]=0,o[1]=-l[0]*a.a7;for(c=2;c<t;c++)o[c]=-l[c-1]*a.a7+s[c-2]*a.a3}else{o[1]=o[0]=0;for(var c=2;c<t;c++)o[c]=s[c-2]}}function f(e,t,r,n,i,a,o,s,l,u,c,p,f,m,g,v,h){var d,y,b,w,S,x,q,k;t.b=t.a=0,3!=e&&(2!=e?(d=r+f*o+p*u,y=s+(f+m*u)*l):(d=(r+c)*u+p,y=(u+f)*s+m*l),0!=(k=-(q=-((S=(b=-g[v-1]/h[v])*a)+(x=b*b*i))+m*(w=-(g[v-2]+b*h[v-1])/h[v])*n)+y+b*d)&&(t.a=-(f*(x+S)+m*(b*n+w*a))/k+f,t.b=m*(1+q/k)))}function m(e,t,r,n){var i,a,o;n.sr=n.si=n.lr=n.li=0,0!=e?0!=r?(i=t/2,Math.abs(i)<Math.abs(r)?(o=-(o=r>=0?e:-e)+i*(i/Math.abs(r)),a=Math.sqrt(Math.abs(o))*Math.sqrt(Math.abs(r))):(o=-e/i*(r/i)+1,a=Math.sqrt(Math.abs(o))*Math.abs(i)),o>=0?(a=i>=0?-a:a,n.lr=(-i+a)/e,n.sr=0!=n.lr?r/n.lr/e:n.sr):(n.lr=n.sr=-i/e,n.si=Math.abs(a/e),n.li=-n.si)):n.lr=-t/e:n.sr=0!=t?-r/t:n.sr}function g(e,t,r,n,i,a,o,s,l,g,v,h){var d,y,b,w,S,x,q,k,M,E,A,U=new Object,N=0,L=0;r.NZ=0,x=n,k=i;do{if(U.li=U.lr=U.si=U.sr=0,m(1,x,k,U),r.szr=U.sr,r.szi=U.si,r.lzr=U.lr,r.lzi=U.li,Math.abs(Math.abs(r.szr)-Math.abs(r.lzr))>.01*Math.abs(r.lzr))break;for(u(o,x,k,l,a,s),y=Math.abs(-r.szr*s.b+s.a)+Math.abs(r.szi*s.b),E=Math.sqrt(Math.abs(k)),d=2*Math.abs(a[0]),S=-r.szr*s.b,A=1;A<t;A++)d=d*E+Math.abs(a[A]);if(y<=20*(d=(9*(d=d*E+Math.abs(S+s.a))+2*Math.abs(S)-7*(Math.abs(s.a+S)+E*Math.abs(s.b)))*e)){r.NZ=2;break}if(++N>20)break;if(N>=2&&w<=.01&&y>=b&&!L){for(u(o,x-=x*(w=w<e?Math.sqrt(e):Math.sqrt(w)),k+=k*w,l,a,s),A=0;A<5;A++)p(e,t,c(e,t,s.a,s.b,v,h,x,k,g),s.a,s.b,v,h,g,a);L=1,N=0}b=y,p(e,t,c(e,t,s.a,s.b,v,h,x,k,g),s.a,s.b,v,h,g,a),f(c(e,t,s.a,s.b,v,h,x,k,g),s,s.a,v.a1,v.a3,v.a7,s.b,v.c,v.d,v.f,v.g,v.h,x,k,h,t,l),q=s.a,0!=(M=s.b)&&(w=Math.abs((-k+M)/M),x=q,k=M)}while(0!=M)}function h(e,t,r,n,i,a,o,s,l){var u,c,p,f,m,g,v,h,d,y,b,w=n-1;for(t.NZ=b=d=0,v=r.a;;){for(g=i[0],o[0]=g,y=1;y<a;y++)o[y]=g=g*v+i[y];for(p=Math.abs(g),f=Math.abs(v),u=.5*Math.abs(o[0]),y=1;y<a;y++)u=u*f+Math.abs(o[y]);if(p<=20*e*(2*u-p)){t.NZ=1,t.szr=v,t.szi=0;break}if(++b>10)break;if(b>=2&&Math.abs(h)<=.001*Math.abs(-h+v)&&p>m){d=1,t.a=v;break}for(m=p,l[0]=c=s[0],y=1;y<n;y++)l[y]=c=c*v+s[y];if(Math.abs(c)>10*Math.abs(s[w])*e)for(h=-g/c,s[0]=o[0],y=1;y<n;y++)s[y]=h*l[y-1]+o[y];else for(s[0]=0,y=1;y<n;y++)s[y]=l[y-1];for(c=s[0],y=1;y<n;y++)c=c*v+s[y];v+=h=Math.abs(c)>10*Math.abs(s[w])*e?-g/c:0}return d}function d(e,t,r,n,i,a,o,s,l,m,v,d){var y,b,w,S,x,q,k,M,E,A,U,N,L,_,O,T,I,C,P,R,F,D,j,H,V,B=new Object,G=new Object,z=new Array(t),Z=new Array(t),Q=1;for(d.NZ=0,S=w=.25,x=n,M=i,B.b=B.a=0,u(l,v,i,s,m,B),y=B.a,b=B.b,G.h=G.g=G.f=G.e=G.d=G.c=G.a7=G.a3=G.a1=0,j=c(e,o,y,b,G,a,v,i,z),R=0;R<r;R++){if(C=1,p(e,o,j,y,b,G,a,z,m),f(j=c(e,o,y,b,G,a,v,i,z),B,y,G.a1,G.a3,G.a7,b,G.c,G.d,G.f,G.g,G.h,v,i,a,o,s),O=B.a,I=T=B.b,A=0!=a[o-1]?-s[o]/a[o-1]:0,U=L=1,0!=R&&3!=j&&(H=(_=(L=0!=I?Math.abs((I-M)/I):L)<k?L*k:1)<S?1:0,(F=(N=(U=0!=A?Math.abs((A-x)/A):U)<q?U*q:1)<w?1:0)||H)){for(P=0;P<o;P++)Z[P]=a[P];for(E=A,D=V=0;;){if(C&&0==(C=0)&&F&&(!H||N<_));else{if(g(e,o,d,O,T,m,l,B,s,z,G,a),y=B.a,b=B.b,d.NZ>0)return;if(Q=V=1,S*=.25,D||!F)Q=0;else for(P=0;P<o;P++)a[P]=Z[P]}if(0!=Q){if(B.a=E,Q=h(e,d,B,o,s,l,m,a,z),E=B.a,d.NZ>0)return;if(D=1,w*=.25,0!=Q){O=-(E+E),T=E*E;continue}}for(P=0;P<o;P++)a[P]=Z[P];if(!H||V)break}u(l,v,i,s,m,B),j=c(e,o,y=B.a,b=B.b,G,a,v,i,z)}M=I,x=A,k=L,q=U}}!function(e,t,r,n){var i,a,o,s,l,u,c,p,f,g,v,h,y,b,w,S,x,q,k,M,E,A,U,N=e.Degree,L=.017453292519943295,_=Math.LN2,O=e.Degree+1,T=new Array(O),I=new Array(O),C=new Array(O),P=new Array(O),R=new Object,F=new Object;h=1;do{a=h,y=1+(h/=2)}while(y>1);var D=Number.MIN_VALUE/a,j=Math.cos(94*L),H=Math.sin(94*L),V=Math.sqrt(.5),B=-V;for(F.NZ=q=0,F.szr=F.szi=F.lzr=F.lzi=0;0==t[N];)r[q]=n[q]=0,N--,q++;for(A=N+1;N>=1;){if(N<=2){N<2?(r[e.Degree-1]=-t[1]/t[0],n[e.Degree-1]=0):(R.li=R.lr=R.si=R.sr=0,m(t[0],t[1],t[2],R),r[e.Degree-2]=R.sr,n[e.Degree-2]=R.si,r[e.Degree-1]=R.lr,n[e.Degree-1]=R.li);break}for(c=0,p=Number.MAX_VALUE,G=0;G<A;G++)(g=Math.abs(t[G]))>c&&(c=g),0!=g&&g<p&&(p=g);if(((f=D/p)<=1&&c>=10||f>1&&Number.MAX_VALUE/f>=c)&&(f=0==f?Number.MIN_VALUE:f,M=Math.floor(Math.log(f)/_+.5),1!=(l=Math.pow(2,M))))for(G=0;G<A;G++)t[G]*=l;for(var G=0;G<A;G++)I[G]=Math.abs(t[G]);I[N]=-I[N],E=N-1,g=Math.exp((Math.log(-I[N])-Math.log(I[0]))/N),0!=I[E]&&(g=(v=-I[N]/I[E])<g?v:g),v=g;do{v=.1*(g=v),u=I[0];for(G=1;G<A;G++)u=u*v+I[G]}while(u>0);s=g;do{o=u=I[0];for(G=1;G<N;G++)o=g*o+(u=g*u+I[G]);g-=s=(u=g*u+I[N])/o}while(Math.abs(s/g)>.005);i=g;for(G=1;G<N;G++)T[G]=(N-G)*t[G]/N;for(T[0]=t[0],h=t[N],y=t[E],U=0==T[E]?1:0,k=0;k<5;k++)if(b=T[E],U){for(G=0;G<E;G++)T[q=E-G]=T[q-1];T[0]=0,U=0==T[E]?1:0}else{S=-h/b;for(G=0;G<E;G++)T[q=E-G]=S*T[q-1]+t[q];T[0]=t[0],U=Math.abs(T[E])<=Math.abs(y)*a*10?1:0}for(G=0;G<N;G++)P[G]=T[G];for(k=1;k<=20;k++){if(x=-H*B+j*V,B=H*V+j*B,d(a,O,20*k,w=i*(V=x),i,T,N,t,A,C,-2*w,F),0!=F.NZ){r[q=e.Degree-N]=F.szr,n[q]=F.szi,N=(A-=F.NZ)-1;for(G=0;G<A;G++)t[G]=C[G];1!=F.NZ&&(r[q+1]=F.lzr,n[q+1]=F.lzi);break}for(G=0;G<N;G++)T[G]=P[G]}if(k>20){e.Degree-=N;break}}}(s,a,l,o);var y=o.length;for(S=0;S<y;S++){var b=v(o[S],n+8),w=v(l[S],n+8),x=b<0?"-":"";0===(w=n-String(w).length>2?w:l[S])&&(w=""),0===b&&(b=""),b=1===Math.abs(b)?x+"i":b?b+"*i":"";var q=w&&b?w+"+"+b:w+b;l[S]=q.replace(/\+\-/g,"-")}return l}},roots:function(r){if(r.isConstant(!0,!0))return e.Utils.nroots(r);var n=k.proots(r).map((function(e){return t.parse(e)}));return e.Vector.fromArray(n)},froot:function(t,r,n){return function(r){for(var i=n||e.Utils.build(e.Calculus.diff(t.clone())),a=t instanceof Function?t:e.Utils.build(t),o=!1,s=0;!o;){var l=r-a(r)/i(r),u=Math.abs(l)-Math.abs(r);r=l,Math.abs(u)<1e-12?o=!0:s>1e4&&(r=null,o=!0),s++}return r}(Number(r))},quad:function(e,r,n){var i=function(e,r,n,i){return t.parse("-("+r+"+"+i+"*sqrt(("+r+")^2-4*("+e+")*("+n+")))/(2*"+e+")")};return[i(e,r,n,1),i(e,r,n,-1)]},sumProd:function(e,t){return k.quad(-t,e,-1).map((function(e){return e.invert()}))},coeffs:function(e,r,n){r=String(r),e=t.expand(e),n=n||[new y(0)],e.group===o&&e.contains(r,!0)&&t.error("Unable to get coefficients using expression "+e.toString());var i=m(e);if(1!==i.length||i[0]!==r||e.isImaginary())if(r||t.error("Polynomial contains more than one variable. Please specify which variable is to be used!"),-1===i.indexOf(r))n[0]=t.add(e,n[0]);else if(n=n||[new y(0)],e.group===c){var a=e.symbols[r];a||t.error("Expression is not a polynomial!");var s=Number(a.power);((v=t.divide(e.clone(),a.clone())).contains(r,!0)||s<0||!d(s))&&t.error("Expression is not a polynomial!"),(g=n[s])&&(v=t.add(g,v)),n[s]=v}else e.group===u&&e.each((function(e){k.coeffs(e.clone(),r,n)}),!0);else for(var l=new S(e).coeffs.map((function(e){return new y(e)})),p=0,f=l.length;p<f;p++){var g,v=l[p];(g=n[p])&&(v=t.add(g,v)),n[p]=v}for(p=0,f=n.length;p<f;p++)void 0===n[p]&&(n[p]=new y(0));return n},polyPowers:function(t,n,i){if(i=i||[],(f=f=t.group)===l&&n===t.value)i=i.concat(p(t.symbols));else if(f===u)for(var o in t.symbols){var s=t.symbols[o],f=s.group,m=s.value;if(f===a&&n===m)i.push(s.power);else if(f===l||f===u)i=k.polyPowers(s,n,i);else if(f===c&&s.contains(n)){var g=s.symbols[n];g&&i.push(g.power)}else f!==r&&n===m||i.push(0)}else f===c&&t.contains(n)&&i.push(e.Utils.decompose_fn(t,n,!0).x.power);return e.Utils.arrayUnique(i).sort()},Factor:{split:function(e){var r=new y(1),n=new y(1);return k.Factor.factor(e,new x).each((function(e){var i=t.parse(e);e.isConstant(!0)?r=t.multiply(r,i):n=t.multiply(n,i)})),[r,n]},mix:function(e,t){for(var r=p(e),n=r.length,i=[],a=0;a<n;a++){for(var o=r[a],s=e[o],l=i.length,u=0;u<l;u++){var c=i[u]*o;i.push(c),t&&i.push(-c)}for(u=1;u<=s;u++)i.push(Math.pow(o,u))}return i},common:function(r,n){try{if(r.group===u){for(var i=t.expand(r.clone(),!0).collectSymbols(null,null,(function(e,t){return(t.length||1)-(e.length||1)})),a={},o=[],s=0;s<i.length;s++){var l=i[s];o.push(l.multiplier.clone()),l.each((function(e){var t=Number(e.power);if(isNaN(t))throw new Error("exiting");e.value in a?(t<a[e.value][0]&&(a[e.value][0]=t),a[e.value][1].push(e)):a[e.value]=[t,[e]]}))}var c=new y(1);for(var p in a)a[p][1].length===i.length&&(c=t.multiply(c,t.pow(new y(p),new y(a[p][0]))));var f=e.Math2.QGCD.apply(null,o);if(!f.equals(1)){n.add(new y(f));for(s=0;s<i.length;s++)i[s].multiplier=i[s].multiplier.divide(f)}if(!c.equals(1)){n.add(c),r=new y(0);for(s=0;s<i.length;s++)r=t.add(r,t.divide(i[s],c.clone()))}}}catch(m){}return r},zeroes:function(r,n){var i=function(){throw new e.exceptions.ValueLimitExceededError("Exiting")};try{var a,o,s,l,c;c=(r=t.expand(r.clone())).toString(),a=m(r),s=new y(0);for(var p=[],f=[],g=0,v=a.length;g<a.length;g++){for(var b={},w=0;w<v;w++)g!==w&&(b[a[w]]=0);var S=(o=t.parse(c,b)).power;d(S)||i(),p.push(o),f.push(o.power)}if(e.Utils.allSame(f)){var x=r.length,q=p.length;2===q&&(l=new h(f[0]/(x-1))),3===q&&(l=new h(f[0]/Math.round((Math.sqrt(8*x-1)-3)/2)))}else l=e.Math2.QGCD.apply(null,f);d(l)||i();for(g=0;g<p.length;g++){var M=p[g],E=M.power.clone().divide(l);M.multiplier=new h(Math.pow(M.multiplier,1/E)),M.power=l.clone(),s=t.add(s,M)}if(s.group!==u)return r;for(;;){var A=k.div(r.clone(),s.clone());if(!A[1].equals(0))break;if(r=A[0],n.add(s.clone()),r.equals(1))break}}catch(c){}return r},factor:function(r,n){if(r.isConstant())return e.Math2.factor(r);var i=t.parse(r),a=k.Factor._factor(i,n);if(a.equals(r))return a;if(a.group===c){var o=new y(1),s=t.parse(a.power),l=t.parse(a.multiplier);a.toUnitMultiplier(),a.multiplier.lessThan(0)&&(o.negate(),a.negate()),a.each((function(e){var r=t.parse(k.Factor._factor(e));r.group===c?(l=t.multiply(l,y.create(r.multiplier)),r.each((function(e){var r=t.parse(k.Factor._factor(e));o=t.multiply(o,r),r.group===c&&(l=t.multiply(l,y.create(r.multiplier)))}))):o=t.multiply(o,r)})),a=t.pow(t.multiply(l,o),s)}return a},quadFactor:function(r,n){if(r.isPoly()&&k.degree(r.equals(2))){var i=e.Utils.variables(r)[0],a=k.coeffs(r,i),o=k.Factor._factor(a[2].clone());if(o.group===c){var s=o.collectSymbols();if(s.length>2)return r;var l=t.multiply(t.parse(a[0]),t.parse(s[0])),u=t.parse(a[1]).negate(),p=t.parse(s[1]),f=k.quad(p,u,l).filter((function(t){if(e.Utils.isInt(t))return t}));if(1===f.length){var m=f[0],v=t.divide(a[0],t.parse(m));e.Utils.isInt(v)&&(n.add(t.parse(g("({0})*({1})+({2})",s[1],i,v))),n.add(t.parse(g("({0})*({1})+({2})",s[0],i,m))),r=new y(1))}}}return r},cubeFactor:function(e,r){if(e.isComposite()){var n=e.collectSymbols();if(2===n.length){var i=n[0].sign(),a=n[0].clone().abs(),o=n[1].sign(),s=n[1].clone().abs();if(a.isCube()&&s.isCube()){if(i<o){var l=[o,i];i=l[0],o=l[1];var u=[s,a];a=u[0],s=u[1]}var c=t.parse(a.getNth(3)),p=t.parse(s.getNth(3)),f=t.multiply(t.expand(t.pow(a.clone().toUnitMultiplier(),t.parse("1/3"))),c),m=t.multiply(t.expand(t.pow(s.clone().toUnitMultiplier(),t.parse("1/3"))),p);1===i&&-1===o?(r.add(t.parse(g("(({0})-({1}))",f,m))),r.add(t.parse(g("(({0})^2+({0})*({1})+({1})^2)",f,m))),e=y(1)):1===i&&1===o&&(r.add(t.parse(g("(({0})+({1}))",f,m))),r.add(t.parse(g("(({0})^2-({0})*({1})+({1})^2)",f,m))),e=y(1))}}}return e},_factor:function(r,n){r.group;if(r.group===s){var i=r.args[0];if(i.group===a&&i.isSimple())return r}else if(r.group===a&&r.isSimple())return r;if(r.group===u){r.distributeMultiplier(!0);var o=new y(0);r.each((function(e){(e.group===u&&e.power.greaterThan(1)||e.group===c)&&(e=t.expand(e)),o=t.add(o,e)})),o.power=r.power,r=o}r.group===s&&"sqrt"!==r.fname&&(r=e.Utils.evaluate(r));var l=r.clone();try{if(r.group===c){var g,v,h,b,w,S,q=t.parse(r.power);if(g=k.Simplify.strip(r.getDenom()),v=k.Simplify.strip(r.getNum()),h=g.pop(),(b=v.pop()).equals(r))return r;S=k.Factor.factor(b),w=k.Factor.factor(h);var M=k.Simplify.unstrip(v,S),E=k.Simplify.unstrip(g,w);return H=t.divide(M,E)}if(r.group===a)return r;if(r.isConstant())return r.equals(1)?r.clone():e.Math2.factor(r);q=r.power.clone();if(d(q)&&(!q.lessThan(0)||r.group!==s)){var A=q.sign();r.toLinear(),n=n||new x;var U={};r=t.parse(e.Utils.subFunctions(r,U)),p(U).length>0&&(n.preAdd=function(r){return t.parse(r,e.Utils.getFunctionsSubs(U))}),r.isLinear()||(n.pFactor=r.power.toString(),r.toLinear());var N=m(r);r.isImaginary()&&N.push(e.Settings.IMAGINARY);var L=N.length>1;if(L){var _=!0,O=!0;if(r.each((function(e){e.group!==a&&(_=!1),e.multiplier.equals(1)||(O=!1)})),_&&O)return t.pow(t.parse(r,e.Utils.getFunctionsSubs(U)),t.parse(q))}var T=new x;r=k.Factor.coeffFactor(r,T),T.each((function(e){f(q)&&e.lessThan(0)&&e.negate(),A<0&&e.invert(),n.add(e)}));var I=new x;if(r=k.Factor.powerFactor(r,I),I.each((function(e){A<0&&e.invert(),n.add(e)})),L)r=k.Factor.cubeFactor(r,n),r=k.Factor.mfactor(r,n),n.each((function(e){A<0&&e.power.negate()}));else{var C=N[0];r=k.Factor.squareFree(r,n,C);var P=new x;r=k.Factor.trialAndError(r,P,C);var R=P.toSymbol();if(R.equals(l))return R;for(var F in P.factors){var D=P.factors[F];n.add(t.pow(D,t.parse(q)))}r.equals(l)&&(r=k.Factor.quadFactor(r,n))}r=t.parse(r,e.Utils.getFunctionsSubs(U));var j=1===n.length;n.add(t.pow(r,t.parse(q)));var H=n.toSymbol();return j&&r.equals(1)&&H.isLinear()&&(H=t.pow(H,t.parse(q))),H}return r}catch(V){return l}},reduce:function(e,r){if(e.group===u&&2===e.length){var n=e.collectSymbols().sort((function(e,t){return t.multiplier-e.multiplier}));if(n[0].power.equals(n[1].power)){var i=t.parse(n[0].power),a=n[0].clone().toLinear(),o=n[1].clone().toLinear();r.add(t.add(a.clone(),o.clone())),o.negate();for(var s=Number(i),l=new y(0),c=1;c<=s;c++){var p=t.pow(a.clone(),t.subtract(i.clone(),new y(c))),f=t.pow(o.clone(),t.subtract(new y(c),new y(1)));l=t.add(l,t.multiply(p,f))}return l}}return e},squareFree:function(e,t,r){if(e.isConstant()||e.group===a)return e;var n=new S(e,r).squareFree(),i=n[2];if(1!==i){var o=n[1].toSymbol();return o.power=o.power.multiply(new h(i)),t.add(k.Factor.factor(o)),k.Factor.squareFree(n[0].toSymbol(),t)}return e},powerFactor:function(r,n){if(r.group!==l||r.previousGroup===o)return r;var i=p(r.symbols);if(!e.Utils.allNumeric(i))return r;var a=e.Utils.arrayMin(i),s=new y(0),u=t.parse(r.value+"^"+a);return r.each((function(e){e=t.divide(e,u.clone()),s=t.add(s,e)})),n.add(u),s},coeffFactor:function(t,r){if(t.isComposite()){var n=e.Math2.QGCD.apply(null,t.coeffs());if(n.equals(1)){var i=function(e){var t;return e.group===c?(t=0,e.each((function(e){t+=e.power}))):t=Number(e.power),t},a=t.collectSymbols(null,null,null,!0).sort((function(e,t){return e.isConstant(!0)?1:t.power-e.power})),o=a[0];(i(o)>i(a[1])||a[1].isConstant(!0))&&o.multiplier.lessThan(0)&&(r.add(new y(-1)),t.each((function(e){e.negate()}),!0))}else t.each((function(e){e.isComposite()?e.each((function(e){e.multiplier=e.multiplier.divide(n)})):e.multiplier=e.multiplier.divide(n)})),t.updateHash();r&&r.add(new y(n))}return t},trialAndError:function(t,r,n){var i=t.clone();try{var o=[];if(t.isConstant()||t.group===a)return t;for(var s=new S(t,n),l=s.coeffs[0],u=e.Math2.ifactor(l),c=k.proots(t),p=0;p<c.length;p++){var f=c[p],m=1;if(!isNaN(f)){for(var g in u){var v=e.Utils.round(Math.log(g)/Math.log(Math.abs(f)),8);if(d(v)){f=g,m=v;break}}var y=new h(f),b=[new h(y.num).negate()];b[m]=new h(y.den);var w=S.fromArray(b,s.variable).fill(),x=s.divide(w);x[1].equalsNumber(0)&&(s=x[0],o.push(w.toSymbol()))}}return s.equalsNumber(1)||(s=k.Factor.search(s,r)),o.forEach((function(e){r.add(e)})),s.toSymbol()}catch(q){return i}},search:function(t,r,n){n=n||10;var i=t.variable,a=function(e,a,o,s){var l=S.fit(e,a,o,n,s,i);if(l&&l.coeffs.length>1){var u=t.divide(l);if(u[1].equalsNumber(0))return r.add(l.toSymbol()),[u[0],l]}return null},o=t.coeffs[0],s=e.Math2.ifactor(o),l=t.lc(),u=e.Math2.ifactor(l),c=t.sub(n),p=e.Math2.ifactor(c),f=k.Factor.mix(p,c<0),m=Math.ceil(t.coeffs.length/2),g=l.lessThan(0),v=o.lessThan(0);for(u[1]=1,s[1]=1;m--;)for(var h in u)for(var d in s)for(var y=0;y<f.length;y++){var b=a(h,d,f[y],m);if(b)return t=b[0],e.Utils.isPrime(t.sub(n))||(t=k.Factor.search(t,r)),t;b||(g&&v?b=a(-h,-d,f[y],m):g?b=a(-h,d,f[y],m):v&&(b=a(h,-d,f[y],m)))}return t},mSqfrFactor:function(t,r){if(t.group!==s)for(var n=m(t).reverse(),i=0;i<n.length;i++)do{if(n[i]!==t.value){var a=e.Calculus.diff(t,n[i]),o=k.Factor.coeffFactor(a);if(o.equals(0))break;var l=!0;if(o.isConstant()&&t.isComposite()&&t.each((function(e){e.multiplier%o!=0&&(l=!1)}),!0),l){var u=k.div(t,o.clone()),c=u[1].equals(0);if(t.equals(u[0])&&u[1].equals(0))break;if(u[0].isConstant()){r.add(u[0]);break}}else c=!1;c&&(r.add(u[0]),t=o)}else r.add(t),t=new y(1)}while(c);return t},sqdiff:function(r,n){if(r.isConstant("all"))return r;try{var i=function(t){return e.Utils.block("POSITIVE_MULTIPLIERS",(function(){return y.unwrapPARENS(w.sqrt(w.abs(t)))}),!0)},o=e.Utils.separate(r.clone()),s=[];for(var l in o)"constants"!==l&&s.push(o[l]);if(s.sort((function(e,t){return t.power-e.power})),2===s.length){var u,c;if(u=s.pop(),c=s.pop(),f(u.power)&&f(c.power)&&u.sign()===c.sign()&&u.group===a&&c.group===a)throw new Error("Unable to factor");if(u.isComposite()&&c.power.equals(2)){c=i(c);var p=k.Factor.factor(t.add(u,o.constants));p.power.equals(2)&&(p.toLinear(),n.add(t.subtract(p.clone(),c.clone())),n.add(t.add(p,c)),r=new y(1))}else if(u=u.powSimp(),c=c.powSimp(),(u.group===a||""===u.fname)&&u.power.equals(2)&&(c.group===a||""===c.fname)&&c.power.equals(2)&&!o.constants){if(u.multiplier.lessThan(0)){var m=c;c=u,u=m}u.multiplier.greaterThan(0)&&(u=i(u),c=i(c)),n.add(t.subtract(u.clone(),c.clone())),n.add(t.add(u,c)),r=new y(1)}}}catch(g){}return r},mfactor:function(r,n){if(r.group===s)if("sqrt"===r.fname){var i=new x,a=k.Factor.common(r.args[0].clone(),i);a=k.Factor.coeffFactor(a,i),r=t.multiply(t.symfunction("sqrt",[a]),t.parse(r.multiplier)),i.each((function(n){r=t.multiply(r,t.parse(e.Utils.format("sqrt({0})",n)))}))}else n.add(r);else{r=k.Factor.mSqfrFactor(r,n);for(var o=m(r),l=r.collectSymbols().map((function(e){return y.unwrapSQRT(e)})),u={},c={},p=o.length,f=l.length,g=0;g<p;g++){var v=o[g];u[v]=new y(0);for(var h=0;h<f;h++){var b=l[h];if(b.contains(v)){var w=b.value===v?b.power.toDecimal():b.symbols[v].power.toDecimal();(!c[v]||w<c[v])&&(c[v]=w),u[v]=t.add(u[v],b.clone())}}}for(var S in u){var q=t.parse(S+"^"+c[S]),M=t.divide(u[S],q),E=t.expand(M);if(E.equals(1))break;var A=k.div(r.clone(),E);if(A[0].equals(0))break;if(A[1].equals(0)){var U=!1;if(A[0].each((function(e){d(e.multiplier)||(U=!0)})),U){A[1]=t.expand(t.multiply(A[1],E));break}}var N=d(E)&&E.lessThan(0);if(A[1].equals(0)&&!N){var L=k.div(r.clone(),A[0].clone());if((q=L[0]).equals(0))return r;if(r=L[1],q.equals(-1)&&!r.equals(0))return r;var _=A[0];if(r.equals(_)){var O=k.Factor.reduce(_,n);return r.equals(O)?O:k.Factor.mfactor(O,n)}return n.add(_),r.equals(0)?q:q.isConstant("all")?(n.add(q),q):k.Factor.mfactor(q,n)}}}return r=k.Factor.sqdiff(r,n),r=k.Factor.zeroes(r,n)}},allLinear:function(e){for(var t=e.length,r=0;r<t;r++)if(!k.isLinear(e[r]))return!1;return!0},isLinear:function(e){var t=!1,n=e.group;if(n===l||n===u)for(var i in t=!0,e.symbols){var p=e.symbols[i],f=p.group;if(f!==s&&f!==o||(t=!1),f===c)t=1===m(p).length;else if(f===l||f===u)t=k.isLinear(p);else if(p.group!==r&&"1"!==p.power.toString()){t=!1;break}}else n===a&&1===e.power&&(t=!0);return t},gcd:function(){var r;if(0===(r=1===arguments.length&&arguments[0]instanceof e.Vector?arguments[0].elements:e.Utils.arguments2Array(arguments)).length)return new y(1);if(1===r.length)return r[0];for(var n=[],i=!1,a=0;a<r.length;a++)if(r[a].group===s&&"gcd"===r[a].fname)(r=r.concat(arguments[a].args)).splice(a,1);else{var o=m(r[a]);if(e.Utils.haveIntersection(o,n)){i=!0;break}n=n.concat(o)}if(i||0===n.length){if(r.every((function(e){return e.getDenom().equals(1)}))){var l=r[0];for(a=1;a<r.length;a++)l=k.gcd_(r[a],l);return l}return t.divide(k.gcd.apply(null,r.map((function(e){return e.getNum()}))),k.lcm.apply(null,r.map((function(e){return e.getDenom()}))))}return t.symfunction("gcd",r)},gcd_:function(r,n){if(r.group!==s&&r.group!==i||(r=e.Utils.block("PARSE2NUMBER",(function(){return t.parse(r)}))),n.group===s&&(n=e.Utils.block("PARSE2NUMBER",(function(){return t.parse(n)}))),r.isConstant()&&n.isConstant())return new y(e.Math2.QGCD(new h(+r),new h(+n)));var a=t.multiply(r.getDenom()||new y(1),n.getDenom()||new y(1)).invert();if(r=t.multiply(r.clone(),a.clone()),n=t.multiply(n.clone(),a.clone()),r=t.expand(r),n=t.expand(n),r.group===c||n.group===c){var l=t.divide(r.clone(),n.clone());if(!(g=t.multiply(n.clone(),l.getDenom().invert())).equals(1))return g}if(r.group===o||n.group===o){var u=new y(e.Math2.GCD(r.multiplier,n.multiplier)),p=k.gcd_(r.value===b?new y(1):t.parse(r.value),n.value===b?new y(1):t.parse(n.value)),f=k.gcd_(t.parse(r.power),t.parse(n.power));return t.multiply(u,t.pow(p,f))}if(r.length<n.length){var g=r;r=n,n=g}var v=m(r),d=m(n);if(v.length===d.length&&1===v.length&&v[0]===d[0]||1===v.length&&0===d.length||0===v.length&&1===d.length)return r=new S(r),n=new S(n),t.divide(r.gcd(n).toSymbol(),a);var w,x=[];for(r.each((function(e){x.push(e.multiplier)})),n.each((function(e){x.push(e.multiplier)}));!n.equals(0);){g=n.clone();if(r=r.clone(),w=k.div(r,g),n=w[1],w[0].equals(0))return t.divide(new y(e.Math2.QGCD(r.multiplier,n.multiplier)),a);r=g}var q=e.Math2.QGCD.apply(void 0,x);return q.equals(1)||r.each((function(e){e.multiplier=e.multiplier.divide(q)})),!r.equals(1)||r.isConstant()||n.isConstant()?t.divide(r,a):t.divide(t.symfunction("gcd",arguments),a)},lcm:function(){var r;1===arguments.length?arguments[0]instanceof e.Vector?r=arguments[0].elements:t.error("lcm expects either 1 vector or 2 or more arguments"):r=e.Utils.arguments2Array(arguments);var n,i=r.reduce((function(e,r){return t.multiply(e,r.clone())}),new y(1)),a=function(e,t){t=Number(t);var r,n,i,a=[],o=Math.pow(2,e.length);for(n=t;n<o;n++){r=[],i=e.length-1;do{0!=(n&1<<i)&&r.push(e[i])}while(i--);r.length===t&&a.push(r)}return a}(arguments,arguments.length-1).map((function(e){return e.reduce((function(e,r){return t.multiply(e,r.clone())}),new y(1))}));n=r.every((function(t){return e.Utils.isVariableSymbol(t)}))?t.symfunction("gcd",e.Utils.arrayUnique(a)):k.gcd.apply(null,a);var o=t.divide(i,n);return o},divide:function(r,n){var i,a,o,s;return(s=(o=e.Algebra.Factor.factor(r.clone())).getDenom()).isConstant("all")?s=new y(1):r=t.expand(y.unwrapPARENS(t.multiply(o,s.clone()))),i=k.div(r,n),a=t.divide(i[1],n),t.divide(t.add(i[0],a),s)},div:function(r,n){var i,o,s=[new y(0),r.clone()];try{if(n.isConstant("all"))return r.each((function(e){e.multiplier=e.multiplier.divide(n.multiplier)})),[r,new y(0)];if(r=t.expand(r),n=t.expand(n),r.group===a&&n.group===u){var l=r.value,c=e.Utils.decompose_fn(n.clone(),l,!0);if(r.isLinear()&&c.x&&c.x.isLinear()&&n.isLinear()){var p=y.create(r.multiplier);return[t.divide(p.clone(),c.a.clone()),t.divide(t.multiply(p,c.b),c.a).negate()]}}if(r.group===a&&n.group===a){var f=t.divide(r.clone(),n.clone());return f.isConstant()?[f,new y(0)]:[new y(0),r.clone()]}var g=r.hasFunc(),v=n.hasFunc(),d=!1;if(g||v){d=!0;var w={},x=(r=t.parse(e.Utils.subFunctions(r,w)),n=t.parse(e.Utils.subFunctions(n,w)),e.Utils.getFunctionsSubs(w))}var k,M,E=e.Utils.arrayUnique(m(r).concat(m(n)));if((r.isImaginary()||n.isImaginary())&&E.push(e.Settings.IMAGINARY),1===E.length){k=(Q=new S(r).divide(new S(n)))[0].toSymbol(),M=Q[1].toSymbol()}else{E.push(b);var A=function(e){for(var r=new y(0),n=0;n<e.length;n++){var i=e[n].toSymbol();r=t.add(r,i)}return r},U=function(e,t){var r,n=Math.max.apply(null,e.terms),i=0;if(!t)for(var a=0;a<e.terms.length;a++)if(e.terms[a].equals(n)&&(r=a,i++),i>1)return;if(t)for(a=0;a<e.terms.length;a++)if(e.terms[a].equals(n)){r=a;break}return[n,r,e]},N=e.Utils.toMapObj(E),L=function(e,t){return t.sum.subtract(e.sum)},_=function(e,t){if(!e||!t)return!1;for(var r=0;r<e.terms.length;r++)if(e.terms[r].lessThan(t.terms[r]))return!1;return!0},O=r.tBase(N).sort(L),T=n.tBase(N).sort(L),I=function e(t,r){var n=t[r=r||0],i=t.length;if(n){for(var a,o,s=U(n),l=r+1;l<i;l++){var u=t[l],c=n.sum.equals(u.sum);if(!c&&s)break;if(c){for(var p,f,m,g,v=n.terms.length,h=0;h<v;h++){var d=n.terms[h],y=u.terms[h];(void 0===p||d.greaterThan(p))&&(p=d,m=h),(void 0===f||y.greaterThan(f))&&(f=y,g=h)}var b=p.subtract(u.terms[m]),w=f.subtract(n.terms[g]);if(w>b){s=[f,g,u];break}if(b>w){s=[p,m,n];break}}else if(s=U(u))break;s=U(u)}if(!s)return U(t[0],!0);for(l=0;l<T.length;l++){var S=T[l].terms;if((o=s[1])===S.length-1)return;if(!(a=S[o]).equals(0))break}return a.equals(0)?e(t,++r):s}}(_(O[0],T[0])&&O[0].count>T[0].count?T:O),C=[];if(I){var P=I[1],R=function(e,t){var r=e.len(),n=t.len(),i=t.terms[P],a=e.terms[P];return n>r&&i.greaterThan(a)?n-r:i.subtract(a)};P=function(e,t,r){for(var n=[],i=0;i<e.length;i++)for(var a=e[i],o=0;o<a.terms.length;o++){var s=n[o],l=a.terms[o];0===i?n[o]=l:s&&!s.equals(l)&&(n[o]=void 0)}for(i=0;i<n.length;i++){if((a=n[i])&&!a.equals(0))return i}return r}(O,0,P),O.sort(R),T.sort(R);var F=T[0],D=O[0],j=new q(new h(1),[],D.map);if(F.sum.greaterThan(D.sum)&&D.len()>1)for(var H=0;H<D.terms.length;H++){var V=F.terms[H].subtract(D.terms[H]);if(V.equals(0))j.terms[H]=new h(0);else{var B=V.add(new h(1));j.terms[H]=V;for(var G=0;G<O.length;G++)O[G].terms[H]=O[G].terms[H].add(B)}}for(var z=_(O[0],T[0]),Z=0;z&&(o=T,!(i=O)[0].sum.equals(o[0].sum)||i.length>=o.length);){if(Z++>200)throw new e.exceptions.InfiniteLoopError("Unable to compute!");var Q=O[0].divide(T[0]);C.push(Q),O.shift();for(H=1;H<T.length;H++){var X=T[H].multiply(Q).generateImage(),Y=O.length;0===Y&&(X.coeff=X.coeff.neg(),O.push(X),O.sort(R));for(G=0;G<Y;G++){var K=O[G];if(K.getImg()===X.getImg()){K.coeff=K.coeff.subtract(X.coeff),K.coeff.equals(0)&&(e.Utils.remove(O,G),G--);break}G===Y-1&&(X.coeff=X.coeff.neg(),O.push(X),O.sort(R))}}if(!(z=_(O[0],T[0]))&&O.length>=T.length)for(H=1;H<O.length;H++)if(z=_(O[H],T[0])){O.unshift(e.Utils.remove(O,H));break}}}k=A(C),M=A(O),void 0!==j&&(j=j.toSymbol(),k=t.divide(k,j.clone()),M=t.divide(M,j))}return d&&(k=t.parse(k.text(),x),M=t.parse(M.text(),x)),[k,M]}catch(W){return s}},line:function(r,n,i){e.Utils.isArray(r)&&(r=e.Utils.convertToVector(r)),e.Utils.isArray(n)&&(n=e.Utils.convertToVector(n)),i=t.parse(i||"x"),e.Utils.isVector(r)&&e.Utils.isVector(n)||t.error('Line expects a vector! Received "'+r+'" & "'+n+'"');var a=t.subtract(n.e(1).clone(),r.e(1).clone()),o=t.subtract(n.e(2).clone(),r.e(2).clone()),s=t.divide(o,a),l=t.multiply(i,s.clone()),u=t.multiply(r.e(1).clone(),s);return t.add(t.subtract(l,u),r.e(2).clone())},PartFrac:{createTemplate:function(e,r,n,i){var o,l,u,c,p,f,m;(e=k.Factor.factor(e)).each((function(t,r){if(t.group===s&&""===t.fname&&t.args[0].group===a){var n=t.args[0];this.symbols?(delete this.symbols[r],this.symbols[n.value]=n):e=t.args[0]}})),o=r.collectFactors(),l=[],f=[],m=new y(1);for(var g=0;g<o.length;g++){var v=y.unwrapPARENS(o[g]);if(v.power.greaterThan(1)){c=Number(v.power),u=v.clone().toLinear(),p=Number(k.degree(u,i));for(var h=0;h<c;h++){var d=t.pow(u.clone(),new y(h+1));n.push(d.clone());var b=t.divide(e.clone(),d.clone());f.push(p),l.push(b)}}else{p=Number(k.degree(v,i)),n.push(v);b=t.divide(e.clone(),v.clone());b=t.expand(y.unwrapPARENS(b)),f.push(p),l.push(b)}}return[n=n.map((function(e){return t.multiply(e,m.clone())})),l,f]},partfrac:function(r,n,i){var a=m(r);n=n||t.parse(a[0]);try{var o,s,l,u,c,p,f,g,v,h,d,b,w,S,x,q,M,E,A;if(o=t.expand(r.getNum()),s=t.expand(r.getDenom().toUnitMultiplier()),o.multiplier=r.multiplier,c=o.groupTerms(n),Number(k.degree(o,n))>=Number(k.degree(s,n))?(w=(b=k.div(o.clone(),t.expand(s.clone())))[0],c=(o=b[1]).groupTerms(n)):w=new y(0),1===Number(k.degree(s,n))){var U=t.divide(o,s);return i?[w,U]:t.add(w,U)}u=k.Factor.factor(s),q=k.PartFrac.createTemplate(s.clone(),u,[],n),M=q[0],S=q[1],p=q[2],d=[c.length],f=[],l=[],x=[],S.map((function(e,r){E=M[r],A=p[r];for(var i=0;i<A;i++){l.push(E.clone());var a=y.create(n,i),o=t.expand(t.multiply(e,a.clone())).groupTerms(n),s=o.length;d.push(s),f.push(o),x.push(a.clone())}})),g=e.Utils.arrayMax(d),h=new e.Matrix(e.Utils.fillHoles(c,g)).transpose(),v=new e.Matrix;for(var N=0;N<f.length;N++)v.elements.push(e.Utils.fillHoles(f[N],g));var L=t.multiply(v.transpose().invert(),h),_=i?[w]:w;return L.each((function(e,r){var n=t.multiply(x[r],t.divide(e,l[r]));i?_.push(n):_=t.add(_,n)})),_}catch(C){try{if(r.isComposite()){var O={};r.each((function(e){var r=e.getDenom(),n=e.getNum(),i=O[r];O[r]=i?t.add(i,n):n}));var T=new y(0);for(var I in O)T=t.add(T,t.divide(O[I],t.parse(I)));r=T}}catch(P){}}return r}},degree:function(r,n,i){if(i=i||{nd:[],sd:[],depth:0},!n){var s=m(r);if(s.length>1)throw new Error("You must specify the variable for multivariate polynomials!");if(0===s.length)return new y(0);n=t.parse(s[0])}var l=r.group;r.isComposite()?((r=r.clone()).distributeExponent(),r.each((function(e){i.depth++,k.degree(e,n,i),i.depth--}))):r.group===c?r.each((function(e){i.depth++,k.degree(e,n,i),i.depth++})):l===o&&r.value===n.value?i.sd.push(r.power.clone()):l===a&&r.value===n.value?i.nd.push(t.parse(r.power)):i.nd.push(new y(0));var u=i.nd.length>0?e.Utils.arrayMax(i.nd):void 0;return 0===i.depth&&i.sd.length>0?(void 0!==u&&i.sd.unshift(u),t.symfunction("max",i.sd)):(e.Utils.isSymbol(u)||(u=t.parse(u)),u)},sqComplete:function(r,n,i){e.Utils.isSymbol(n)||(n=t.parse(n));var a,o,s,l,u,c,p,f,m,g,v,h=function(t){throw t=t||"Stopping",new e.exceptions.ValueLimitExceededError(t)};return r.isPoly(!0)||h("Must be a polynomial!"),m=e.Utils.inBrackets,r=r.clone(),(a=e.Algebra.degree(r,n)).equals(2)||h("Cannot complete square for degree "+a),o=(p=e.Algebra.coeffs(r,n))[2],f=p[1].sign(),s=t.divide(p[1],new y(2)),l=t.pow(s.clone(),new y(2)),i?[o,s,u]:(v=w.sqrt(o),c=t.divide(w.sqrt(l),v.clone()),u=t.subtract(p[0],t.pow(c.clone(),new y(2))),{a:g=t.parse(m(v.clone()+"*"+n+(f<0?"-":"+")+c)),c:u,f:t.add(t.pow(g.clone(),new y(2)),u.clone())})},Simplify:{strip:function(e){var r=t.parse(e.multiplier);e.toUnitMultiplier();var n=t.parse(e.power);return e.toLinear(),[r,n,e]},unstrip:function(e,r){var n=e[0],i=e[1];return t.multiply(n,t.pow(r,i))},complexSimp:function(e,r){var n,i,a,o,s,l,u,c,p;return l=e.realpart(),c=e.imagpart(),u=r.realpart(),p=r.imagpart(),n=t.multiply(l.clone(),u.clone()),i=t.multiply(c.clone(),p.clone()),a=t.multiply(u.clone(),c),o=t.multiply(l,p.clone()),s=t.add(t.pow(u,new y(2)),t.pow(p,new y(2))),t.divide(t.add(t.add(n,i),t.multiply(t.subtract(a,o),y.imaginary())),s)},trigSimp:function(r){if(r.containsFunction(["cos","sin","tan"])){r=r.clone();var n=k.Simplify.strip(r),i=(r=n.pop()).clone();if(r.group===u){var a=new y(0);r.each((function(e){var r=k.Simplify.trigSimp(e.fnTransform());a=t.add(a,r)}),!0),i=t.pow(t.multiply(new y(r.multiplier),a),new y(r.power))}else if(r.group===c){var o=r.getNum(),s=r.getDenom();if("sin"===o.fname&&"cos"===s.fname&&o.args[0].equals(s.args[0])&&o.power.equals(s.power)&&(i=t.parse(e.Utils.format("({0})*({1})*tan({2})^({3})",s.multiplier,o.multiplier,o.args[0],o.power))),i.group===c){var l=new y(1);i.each((function(r){"tan"===r.fname&&(r=t.parse(e.Utils.format("({0})*sin({1})^({2})/cos({1})^({2})",r.multiplier,k.Simplify.simplify(r.args[0]),r.power))),l=t.multiply(l,r)})),i=l}}r=i=k.Simplify.unstrip(n,i).distributeMultiplier()}return r},fracSimp:function(e){var r=e.getDenom();if((g=e.getNum()).isImaginary()&&r.isImaginary()&&(e=k.Simplify.complexSimp(g,r)),e.isComposite()){e.power>1&&(e=t.expand(e));var n,i,a,o,s,l,u,c,p,f,m,g,v=e.collectSymbols();for(i=v.pop();v.length;)a=v.pop(),o=t.parse(i.getDenom()),s=t.parse(a.getDenom()),l=i.getNum(),u=a.getNum(),m=t.multiply(o.clone(),s.clone()),p=t.multiply(l,s),f=t.multiply(u,o),c=t.add(p,f),i=t.divide(c,m);return r=t.expand(i.getDenom()),(n=(g=t.expand(i.getNum())).isImaginary()&&r.isImaginary()?k.Simplify.complexSimp(g,r):t.divide(g,r)).equals(e)?e:k.Simplify.simplify(n)}return e},ratSimp:function(e){if(e.group===c){var r=e.getDenom(),n=e.getNum().distributeMultiplier(),i=k.Simplify.fracSimp(r),a=k.Simplify.fracSimp(n);e=t.divide(a,i)}return e},sqrtSimp:function(e,n){if(e.isSQRT()){var i,a=k.Factor.factor(e.args[0].clone()),o=t.parse(a.multiplier),s=o.sign(),l=t.sqrt(o.abs());if(d(l)){if(a.group===c){var u=new y(1);a.each((function(e){if(e.group===r){var n=t.sqrt(e.clone());d(n)?l=t.multiply(l,n):u=t.multiply(u,e)}else u=t.multiply(u,e)}));var p=t.multiply(u,t.parse(s));(i=t.sqrt(p.clone())).isImaginary&&(i=t.sqrt(t.expand(p.clone())))}else i=t.sqrt(a.clone().toUnitMultiplier());return t.multiply(l,i)}}else e.isComposite()&&e.isLinear()?(l=new y(0),e.each((function(e){l=t.add(l,k.Simplify.sqrtSimp(e))}),!0),l=t.multiply(l,t.parse(e.multiplier))):e.group===c&&(l=t.parse(e.multiplier),e.each((function(e){var r=k.Simplify.sqrtSimp(e);l=t.multiply(l,r)}),!0),l=t.pow(l,t.parse(e.power)));return l||t.parse(e)},patternSub:function(t){var r={},n=function e(t){var r=!1;return t.each((function(t){t.group===u?r=!0:t.symbols&&(r=e(t))})),r};return function i(a){a.each((function(a){if(a.symbols||a.group===s)if(n(a))i(a);else if(!r[a.value]){var o=e.Utils.getU(t);r[a.value]=o,t=t.sub(a.value,o)}}),!0)}(t),[t,r]},simplify:function(r){var n=k.Simplify.strip(r);if(r=n.pop(),(r=k.Simplify.fracSimp(r)).isConstant()||r.group===e.groups.S)return n.push(r),k.Simplify.unstrip(n,r);var i=r.clone();if(i=k.Simplify.trigSimp(i),i=k.Simplify.ratSimp(i),(i=k.Factor.factor(i)).group===e.groups.CP&&i.isLinear()){var a=i.multiplier.clone();i.toUnitMultiplier();var o=new y(0);i.each((function(e){var r=k.Simplify.simplify(e);o=t.add(o,r)})),i=o,o.multiplier=o.multiplier.multiply(a)}return k.Simplify.unstrip(n,i)}},Classes:{Polynomial:S,Factors:x,MVTerm:q}};e.Expression.prototype.simplify=function(){return k.Simplify.simplify(this.symbol)},n.useAlgebraDiv=function(){var r=k.divideFn=t.divide,n=0;t.divide=function(t,i){var a;return a=1===++n?e.Algebra.divide(t,i):r(t,i),n=0,a}},n.useParserDiv=function(){k.divideFn&&(t.divide=k.divideFn),delete k.divideFn},n.register([{name:"factor",visible:!0,numargs:1,build:function(){return k.Factor.factor}},{name:"simplify",visible:!0,numargs:1,build:function(){return k.Simplify.simplify}},{name:"gcd",visible:!0,numargs:[1],build:function(){return k.gcd}},{name:"lcm",visible:!0,numargs:[1],build:function(){return k.lcm}},{name:"roots",visible:!0,numargs:-1,build:function(){return k.roots}},{name:"divide",visible:!0,numargs:2,build:function(){return k.divide}},{name:"div",visible:!0,numargs:2,build:function(){return k.div}},{name:"partfrac",visible:!0,numargs:[1,2],build:function(){return k.PartFrac.partfrac}},{name:"deg",visible:!0,numargs:[1,2],build:function(){return k.degree}},{name:"coeffs",visible:!0,numargs:[1,2],build:function(){return function(){var t=k.coeffs.apply(k,arguments);return new e.Vector(t)}}},{name:"line",visible:!0,numargs:[2,3],build:function(){return k.line}},{name:"sqcomp",visible:!0,numargs:[1,2],build:function(){return function(e,t){try{return t=t||m(e)[0],k.sqComplete(e.clone(),t).f}catch(r){return e}}}}]),n.updateAPI()}()},48:function(e,t,r){if(void 0===n){var n=r(1825);r(1133)}!function(){"use strict";var e=n.getCore(),t=e.PARSER,r=e.Frac,i=e.Settings,a=e.Utils.isSymbol,o=e.groups.FN,s=e.Symbol,l=e.Utils.text,u=e.Utils.inBrackets,c=e.Utils.isInt,p=e.Utils.format,f=e.Utils.even,m=e.Utils.evaluate,g=e.groups.N,v=e.groups.S,h=(o=e.groups.FN,e.groups.PL),d=e.groups.CP,y=e.groups.CB,b=e.groups.EX,w=e.groups.P,S=i.LOG,x="abs",q="sqrt",k="sin",M="cos",E="tan",A="sec",U="csc",N="cot",L="asin",_="acos",O="atan",T="asec",I="acsc",C="acot",P="sinh",R="cosh",F="tanh",D="csch",j="sech",H="coth",V="asech",B="acsch",G="acoth";function z(e){this.message=e||""}z.prototype=new Error,s.prototype.hasIntegral=function(){return this.containsFunction("integrate")},s.prototype.fnTransform=function(){if(this.group!==o)return this;var e,r=this.args[0],n=new s(this.multiplier),i=this.clone().toUnitMultiplier();if(this.isLinear())switch(this.fname){case P:e=t.parse(p("(e^({0})-e^(-({0})))/2",r));break;case R:e=t.parse(p("(e^({0})+e^(-({0})))/2",r));break;case F:e=t.parse(p("(e^({0})-e^(-({0})))/(e^({0})+e^(-({0})))",r));break;case E:e=t.parse(p("sin({0})/cos({0})",r));break;case U:e=t.parse(p("1/sin({0})",r));break;case A:e=t.parse(p("1/cos({0})",r));break;default:e=i}else if(this.power.equals(2))switch(this.fname){case k:e=t.parse(p("1/2-cos(2*({0}))/2",r));break;case M:e=t.parse(p("1/2+cos(2*({0}))/2",r));break;case E:e=t.parse(p("sin({0})^2/cos({0})^2",r));break;case R:e=t.parse(p("1/2+cosh(2*({0}))/2",r));break;case P:e=t.parse(p("-1/2+cosh(2*({0}))/2",r));break;case F:e=t.parse(p("(1+cosh(2*({0})))/(-1+cosh(2*({0})))",r));break;case A:e=t.parse(p("(1-cos(2*({0})))/(1+cos(2*({0})))+1",r));break;default:e=i}else if(this.fname===A)e=t.parse(p("1/cos({0})^({1})",this.args[0],this.power));else if(this.fname===U)e=t.parse(p("1/sin({0})^({1})",this.args[0],this.power));else if(this.fname===E)e=this.power.lessThan(0)?t.parse(p("cos({0})^(-({1}))/sin({0})^({1})",this.args[0],this.power.negate())):t.parse(p("sin({0})^({1})/cos({0})^({1})",this.args[0],this.power));else if(this.fname===k&&this.power.lessThan(0))e=t.parse(p("csc({0})^(-({1}))",this.args[0],this.power.negate()));else if(this.fname===M&&this.power.lessThan(0))e=t.parse(p("sec({0})^(-({1}))",this.args[0],this.power.negate()));else if(this.fname===k&&this.power.equals(3))e=t.parse(p("(3*sin({0})-sin(3*({0})))/4",this.args[0]));else if(this.fname===M&&this.power.equals(3))e=t.parse(p("(cos(3*({0}))+3*cos({0}))/4",this.args[0]));else if(this.fname!==M&&this.fname!==k||!f(this.power))e=i;else{var a=this.power/2,l=t.pow(this.clone().toLinear(),t.parse(2)).fnTransform(),u=t.expand(t.pow(l,t.parse(a)));e=new s(0),u.each((function(r){var n=r.fnTransform();e=t.add(e,n)}),!0)}return t.multiply(e,n)},s.prototype.hasTrig=function(){if(this.isConstant(!0)||this.group===v)return!1;if(this.fname&&(e.Utils.in_trig(this.fname)||e.Utils.in_inverse_trig(this.fname)))return!0;if(this.symbols)for(var t in this.symbols)if(this.symbols[t].hasTrig())return!0;return!1},e.Expression.prototype.hasIntegral=function(){return this.symbol.hasIntegral()},e.Utils.toCommonDenominator=function(r){if(r.isComposite()&&r.isLinear()){var n=new s(r.multiplier),i=new s(1),a=new s(0);return r.each((function(e){i=t.multiply(i,e.getDenom())}),!0),r.each((function(e){var r=e.getNum(),n=e.getDenom(),o=t.multiply(r,t.divide(i.clone(),n));a=t.add(a,o)})),t.multiply(n,e.Algebra.divide(t.expand(a),t.expand(i)))}return r},e.Utils.in_inverse_trig=function(e){return-1!==[L,_,O,I,T,C].indexOf(e)},e.Utils.in_trig=function(e){return-1!==[M,k,E,A,U,N].indexOf(e)},e.Utils.in_htrig=function(e){return-1!==[P,R,F,B,V,G].indexOf(e)},e.Matrix.jacobian=function(t,r){var n=new e.Matrix;return r||(r=e.Utils.arrayGetVariables(t)),r.forEach((function(r,i){t.forEach((function(t,a){var o=e.Calculus.diff(t.clone(),r);n.set(a,i,o)}))})),n},e.Matrix.prototype.max=function(){var e=new s(0);return this.each((function(t){var r=t.abs();r.gt(e)&&(e=r)})),e},e.Matrix.cMatrix=function(r,n){var i=new e.Matrix;return n.forEach((function(e,n){i.set(n,0,t.parse(r))})),i};var Z=e.Utils.all_functions=function(e){for(var t=0,r=e.length;t<r;t++)if(e[t].group!==o)return!1;return!0},Q=e.Utils.cosAsinBtranform=function(e,r){var n,i;return n=e.args[0],i=r.args[0],t.parse(p("(sin(({0})+({1}))-sin(({0})-({1})))/2",n,i))},X=e.Utils.cosAsinAtranform=function(e,r){return 1!==Number(r.power)?t.multiply(e,r):(n=e.args[0],t.parse(p("(sin(2*({0})))/2",n)));var n},Y=e.Utils.cosAsinBtranform=function(e,r){var n,i;return n=e.args[0],i=r.args[0],t.parse(p("(cos(({0})+({1}))-cos(({0})-({1})))/2",n,i))},K=e.Utils.trigTransform=function(e){for(var r,n,i={},a=new s(1),l=0,u=e.length;l<u;l++)if((r=e[l]).group===o){var c=r.fname;c===M&&i.sin?(n=i.sin.args[0].toString()!==r.args[0].toString()?Q(r,i.sin):X(r,i.sin),delete i.sin,a=t.multiply(a,n)):c===k&&i.cos?(n=i.cos.args[0].toString()!==r.args[0].toString()?Q(r,i.cos):X(r,i.cos),delete i.cos,a=t.multiply(a,n)):c===k&&i.sin?(i.sin.args[0].toString()!==r.args[0].toString()?(n=Y(r,i.sin),delete i.sin):(n=t.multiply(r,i.sin),delete i.sin),a=n):i[c]=r}else a=t.multiply(a,r);for(var p in i)a=t.multiply(a,i[p]);return a};e.Settings.integration_depth=10,e.Settings.max_lim_depth=10;var W=e.Calculus={version:"1.4.6",sum:function(r,n,i,a){if(n.group!==e.groups.S)throw new e.exceptions.NerdamerTypeError("Index must be symbol. "+l(n)+" provided");var o;if(n=n.value,e.Utils.isNumericSymbol(i)&&e.Utils.isNumericSymbol(a)){var u=a-i<200?"":"PARSE2NUMBER";i=Number(i),a=Number(a),o=e.Utils.block(u,(function(){for(var o=r.text(),l={"~":!0},u=new e.Symbol(0),c=i;c<=a;c++){l[n]=new s(c);var p=t.parse(o,l);u=t.add(u,p)}return u}))}else o=t.symfunction("sum",arguments);return o},product:function(r,n,i,a){if(n.group!==e.groups.S)throw new e.exceptions.NerdamerTypeError("Index must be symbol. "+l(n)+" provided");var o;if(n=n.value,e.Utils.isNumericSymbol(i)&&e.Utils.isNumericSymbol(a)){var u=a-i<200?"":"PARSE2NUMBER";o=e.Utils.block(u,(function(){i=Number(i),a=Number(a.multiplier);for(var o=r.text(),l={},u=new e.Symbol(1),c=i;c<=a;c++)l[n]=new s(c),u=t.multiply(u,t.parse(o,l));return u}))}else o=t.symfunction("product",arguments);return o},diff:function(n,c,f){if(e.Utils.isVector(n)){var m=new e.Vector([]);return n.each((function(e){m.elements.push(W.diff(e,c,f))})),m}if(e.Utils.isMatrix(n)){var P=new e.Matrix;return n.each((function(e,t,r){P.set(t,r,W.diff(e,c,f))})),P}var R=a(c)?c.text():c;if(f=a(f)?f.multiplier:f||1,void 0===R&&(R=e.Utils.variables(n)[0]),n.group===o&&n.fname===q){var z=n.args[0],Z=n.power.clone();z.group===g&&z.group===w||(z.power=a(z.power)?t.multiply(z.power,t.multiply(new s(.5)),Z):z.power.multiply(new r(.5)).multiply(Z),z.multiplier=z.multiplier.multiply(n.multiplier)),n=z}if(n.group!==o||a(n.power))n=K(n);else{var Q=K(t.parse(n)),X=W.diff(n.args[0].clone(),R);n=t.multiply(Q,X)}return f>1&&(f--,n=W.diff(n,c,f)),n;function Y(e){return(e.value===R||e.contains(R,!0))&&(e.multiplier=e.multiplier.multiply(e.power),e.power=e.power.subtract(new r(1)),e.power.equals(0)&&(e=s(e.multiplier))),e}function K(e){var n,f,m=e.group;if(m===g||m===v&&e.value!==R||m===w)e=s(0);else if(m===v)e=Y(e);else{if(m===y){var q=e.multiplier.clone();e.toUnitMultiplier();var P=t.multiply(function(e){for(var r=e.collectSymbols(),n=new s(0),i=r.length,a=0;a<i;a++){for(var o=W.diff(r[a].clone(),R),l=0;l<i;l++)a!==l&&(o=t.multiply(o,r[l].clone()));n=t.add(n,o)}return n}(e),Y(e));return P.multiplier=P.multiplier.multiply(q),P}if(m===o&&e.power.equals(1))switch(e.fname){case S:f=e.clone(),(e=e.args[0].clone()).power=e.power.negate(),e.multiplier=f.multiplier.divide(e.multiplier);break;case M:e.fname=k,e.multiplier.negate();break;case k:e.fname=M;break;case E:e.fname=A,e.power=new r(2);break;case A:e=J(e,E);break;case U:e=J(e,"-cot");break;case N:e.fname=U,e.multiplier.negate(),e.power=new r(2);break;case L:e=t.parse("(sqrt(1-("+l(e.args[0])+")^2))^(-1)");break;case _:e=t.parse("-(sqrt(1-("+l(e.args[0])+")^2))^(-1)");break;case O:e=t.parse("(1+("+l(e.args[0])+")^2)^(-1)");break;case x:q=e.multiplier.clone(),e.toUnitMultiplier(),(n=e.args[0].clone()).toUnitMultiplier(),(e=t.parse(u(l(e.args[0]))+"/abs"+u(l(n)))).multiplier=q;break;case"parens":e=s(1);break;case"cosh":e.fname="sinh";break;case"sinh":e.fname="cosh";break;case F:e.fname=j,e.power=new r(2);break;case j:e=J(e,"-tanh");break;case D:var z=String(e.args[0]);return t.parse("-coth("+z+")*csch("+z+")");case H:z=String(e.args[0]);return t.parse("-csch("+z+")^2");case"asinh":e=t.parse("(sqrt(1+("+l(e.args[0])+")^2))^(-1)");break;case"acosh":e=t.parse("(sqrt(-1+("+l(e.args[0])+")^2))^(-1)");break;case"atanh":e=t.parse("(1-("+l(e.args[0])+")^2)^(-1)");break;case V:z=String(e.args[0]);e=t.parse("-1/(sqrt(1/("+z+")^2-1)*("+z+")^2)");break;case G:e=t.parse("-1/(("+e.args[0]+")^2-1)");break;case B:z=String(e.args[0]);e=t.parse("-1/(sqrt(1/("+z+")^2+1)*("+z+")^2)");break;case T:z=String(e.args[0]);e=t.parse("1/(sqrt(1-1/("+z+")^2)*("+z+")^2)");break;case I:z=String(e.args[0]);e=t.parse("-1/(sqrt(1-1/("+z+")^2)*("+z+")^2)");break;case C:e=t.parse("-1/(("+e.args[0]+")^2+1)");break;case"S":z=String(e.args[0]);e=t.parse("sin((pi*("+z+")^2)/2)");break;case"C":z=String(e.args[0]);e=t.parse("cos((pi*("+z+")^2)/2)");break;case"Si":z=e.args[0];e=t.parse("sin("+z+")/("+z+")");break;case"Shi":z=e.args[0];e=t.parse("sinh("+z+")/("+z+")");break;case"Ci":z=e.args[0];e=t.parse("cos("+z+")/("+z+")");break;case"Chi":z=e.args[0];e=t.parse("cosh("+z+")/("+z+")");break;case"Ei":z=e.args[0];e=t.parse("e^("+z+")/("+z+")");break;case"Li":z=e.args[0];e=t.parse("1/"+i.LOG+"("+z+")");break;case"erf":e=t.parse("(2*e^(-("+e.args[0]+")^2))/sqrt(pi)");break;case"atan2":var Z=String(e.args[0]),Q=String(e.args[1]);e=t.parse("("+Q+")/(("+Q+")^2+("+Z+")^2)");break;case"sign":e=new s(0);break;case"sinc":e=t.parse(p("(({0})*cos({0})-sin({0}))*({0})^(-2)",e.args[0]));break;case i.LOG10:e=t.parse("1/(("+e.args[0]+")*"+i.LOG+"(10))");break;default:e=t.symfunction("diff",[e,c])}else if(m===b||m===o&&a(e.power)){var X;X=m===b?e.value:m===o&&e.contains(R)?e.fname+u(l(e.args[0])):e.value+u(l(e.args[0])),t.multiply(t.parse(S+u(X)),e.power.clone()),n=W.diff(t.multiply(t.parse(S+u(X)),e.power.clone()),R),e=t.multiply(e,n)}else if(m!==o||e.power.equals(1)){if(m===d||m===h){var $=e.clone(),ee=new s(0);for(var te in e.symbols)ee=t.add(ee,W.diff(e.symbols[te].clone(),R));e=t.multiply(Y($),ee)}}else(n=e.clone()).toLinear(),n.toUnitMultiplier(),e=t.multiply(Y(e.clone()),K(n))}return e.updateHash(),e}function J(e,r,n){return t.multiply(e,t.parse(r+u(n||l(e.args[0]))))}},integration:{u_substitution:function(r,n){function i(e,r,i){var a=W.diff(r,n),o=i?i(e,r):t.divide(e.clone(),a);return o.contains(n,!0)?null:o}function a(e,r){var n=W.integrate(t.symfunction(e,[new s(m)]),m,0);return(n=n.sub(new s(m),r)).updateHash(),n}var l,u=r[0].clone(),c=r[1].clone(),p=u.group,f=c.group,m="__u__";if(p===o&&f!==o){if(l=i(c,(g=u.args[0]).clone()))return t.multiply(l,a(u.fname,g));if(l=i(c,u))return W.integration.poly_integrate(u)}else if(f===o&&p!==o){var g;if(l=i(u,(g=c.args[0]).clone()))return t.multiply(l,a(c.fname,g))}else if(p===o&&f===o){if(l=i(u.clone(),c.clone()))return t.multiply(W.integration.poly_integrate(c),l);if(l=i(c.clone(),u.clone()))return t.multiply(W.integration.poly_integrate(c),l)}else{if(p===b&&f!==b){if(!(l=i(c,(x=u.power).clone()))){var v=W.integration.decompose_arg(x.clone(),n),h=W.diff(v[2].clone(),n),d=W.integration.decompose_arg(h.clone(),n);if(t.multiply(v[1],d[1]).power.equals(c.power)){var y=t.divide(v[0].clone(),d[0].clone()),w=t.multiply(y.clone(),t.pow(new s(u.value),t.multiply(v[0],new s(m))));return w=t.multiply(w,new s(m)),W.integration.by_parts(w,m,0,{}).sub(m,v[1].clone())}}var S=W.integrate(u.sub(x.clone(),new s(m)),m,0);return t.multiply(S.sub(new s(m),x),l)}if(f===b&&p!==b){var x;l=i(u,(x=c.power).clone());S=W.integrate(c.sub(x,new s(m)),m,0);return t.multiply(S.sub(new s(m),x),l)}if(u.isComposite()||c.isComposite()){var q=function(r,i){var a=W.diff(i,n),o=e.Algebra.Factor.factor(r),s=e.Algebra.Factor.factor(a);return t.divide(o,s)},k=u.isComposite()?u.clone().toLinear():u.clone(),M=c.isComposite()?c.clone().toLinear():c.clone();if(l=i(k.clone(),M.clone(),q))return t.multiply(W.integration.poly_integrate(c),l);if(l=i(M.clone(),k.clone(),q))return t.multiply(W.integration.poly_integrate(u),l)}}},poly_integrate:function(e){var r=e.power.toString(),n=e.multiplier.toDecimal(),i=e.toUnitMultiplier().toLinear();return-1===Number(r)?t.multiply(new s(n),t.symfunction(S,[i])):t.parse(p("({0})*({1})^(({2})+1)/(({2})+1)",n,i,r))},stop:function(t){throw t=t||"Unable to compute integral!",e.Utils.warn(t),new z(t)},partial_fraction:function(r,n,i,o){var l,u;return a(n)||(n=t.parse(n)),l=new s(0),(u=e.Algebra.PartFrac.partfrac(r,n)).group===y&&u.isLinear()?(u.each((function(e){e.isLinear()||W.integration.stop()})),u.each((function(e){l=t.add(l,W.integrate(e,n,i,o))}))):l=t.add(l,W.integrate(u,n,i,o)),l},get_udv:function(r){var n=[[],[],[],[],[]],i=function(t){var r=t.group;if(r===o){var i=t.fname;e.Utils.in_trig(i)||e.Utils.in_htrig(i)?n[3].push(t):e.Utils.in_inverse_trig(i)?n[1].push(t):i===S?n[0].push(t):W.integration.stop()}else r===v||t.isComposite()&&t.isLinear()||r===y&&t.isLinear()?n[2].push(t):r===b||t.isComposite()&&!t.isLinear()?n[4].push(t):W.integration.stop()};r.group===y?r.each((function(e){i(s.unwrapSQRT(e,!0))})):i(r);for(var a,l=new s(1),u=0;u<5;u++){var c,p=n[u],f=p.length;if(f>0){if(f>1){c=new s(1);for(var m=0;m<f;m++)c=t.multiply(c,p[m].clone())}else c=p[0].clone();a?l=t.multiply(l,c):(a=c).multiplier=a.multiplier.multiply(r.multiplier)}}return[a,l]},trig_sub:function(r,n,i,a,o,s){(o=o||W.integration.decompose_arg(r.clone().toLinear(),n))[3],o[2];var l=o[0],c=o[1];if(c.power.equals(2)&&l.greaterThan(0)){var p=e.Utils.getU(r),f=t.parse(E+u(p)),m=t.parse(A+u(p)+"^2"),g=t.multiply(r.sub(c,f),m),v=W.integrate(g,p,i,a).sub(f,c);return e.Utils.clearU(f),v}},by_parts:function(r,n,i,a){var o,l,u,c,p,f,m,g,v,h,d,y;if(a.previous=a.previous||[],l=(o=W.integration.get_udv(r))[0],u=o[1],d=(c=s.unwrapSQRT(t.expand(W.diff(l.clone(),n)),!0)).clone().stripVar(n),c=t.divide(c,d.clone()),p=W.integrate(u.clone(),n,i||0),y=(f=t.multiply(p.clone(),c)).toString(),-1!==a.previous.indexOf(y)&&e.Utils.in_trig(l.fname)&&u.isE())return a.is_cyclic=!0,new s(1);if(a.previous.push(y),m=t.multiply(l,p),h=f.multiplier.clone(),f.toUnitMultiplier(),(v=t.multiply(W.integrate(f.clone(),n,i,a),d)).multiplier=v.multiplier.multiply(h),g=t.subtract(m,v),a.is_cyclic&&(a.previous.pop(),0===a.previous.length)){g=t.expand(g);var b=new s(0);g.each((function(e){e.contains(n)||(b=t.add(b,e.clone()))})),g=t.divide(t.subtract(g,b.clone()),t.subtract(new s(1),b))}return g},decompose_arg:e.Utils.decompose_fn},integrate:function(n,l,m,g){if(!l){var w=e.Utils.variables(n);1===w.length&&(l=w[0]),l=l||"x"}if(e.Utils.isVector(n)){var Q=new e.Vector([]);return n.each((function(e){Q.elements.push(W.integrate(e,l))})),Q}return isNaN(l)||t.error("variable expected but received "+l),n.isConstant(!0)?t.multiply(n.clone(),t.parse(l)):(g=g||{},e.Utils.block("PARSE2NUMBER",(function(){m=m||0;var w,Q=a(l)?l.toString():l,X=s.unwrapSQRT(n.clone(),!0),Y=X.group;try{if(++m>e.Settings.integration_depth&&W.integration.stop("Maximum depth reached. Exiting!"),X.contains(Q,!0)){if(Y===v)w=W.integration.poly_integrate(X,Q,m);else if(Y===b)if(X.previousGroup===o&&"sqrt"!==X.fname&&X.fname!==i.PARENTHESIS&&W.integration.stop(),X.contains(Q)&&X.previousGroup!==o){if(X.power.contains(Q))W.integration.stop();else(Ye=W.diff(X.clone().toLinear(),Q)).contains(Q)&&W.integration.stop(),w=W.integration.poly_integrate(X,Q,m)}else{if((ae=W.diff(X.power.clone(),Q)).contains(Q)){var J=ae.stripVar(Q);if((oe=t.divide(ae.clone(),J.clone())).group===v&&oe.isLinear())return J.multiplier=J.multiplier.divide(new r(2)),t.parse(p("({2})*(sqrt(pi)*erf(sqrt(-{0})*{1}))/(2*sqrt(-{0}))",J,Q,X.multiplier));W.integration.stop()}if(X.isE())ae.isLinear()?w=X:ae.isE()&&ae.power.group===v&&ae.power.power.equals(1)?w=t.multiply(t.symfunction("Ei",[X.power.clone()]),X.power):W.integration.stop();else{var $=t.symfunction(S,[t.parse(X.value)]);w=t.divide(X,$)}w=t.divide(w,ae)}else if(X.isComposite()&&X.isLinear()){var ee=t.parse(X.multiplier);X.toUnitMultiplier(),w=new s(0),X.each((function(e){w=t.add(w,W.integrate(e,Q,m))})),w=t.multiply(ee,w)}else if(Y===d)if(X.power.greaterThan(1)&&(X=t.expand(X)),X.power.equals(1))w=new s(0),X.each((function(e){w=t.add(w,W.integrate(e,Q,m))}),!0);else{var te=Number(X.power);ee=X.multiplier.clone();X.toUnitMultiplier();var re=X.clone().toLinear(),ne=(It=W.integration.decompose_arg(re,Q))[3],ie=It[2],ae=It[0],oe=It[1];if(-1===te&&oe.group!==h&&oe.power.equals(2)){var se=!c(ne)||ne>0;if(oe.group===v&&oe.power.equals(2)&&se){var le=function(e){var r=new s(1);return e.each((function(e){r=t.multiply(r,"abs"===e.fname?e.args[0]:e)})),r},ue=ae.clone(),ce=ne.clone();ue=t.pow(ue,new s(.5)),ce=t.pow(ce,new s(.5));$=t.multiply(le(ce),le(ue));var pe=t.symfunction(O,[t.divide(t.multiply(ae,oe.toLinear()),$.clone())]);w=t.divide(pe,$)}else if(oe.group===v&&oe.isLinear())w=t.divide(W.integration.poly_integrate(X),ae);else if(oe.power.equals(4)){var fe,me,ge,ve,he,de,ye=u;ue=t.parse(q+ye(ae)+"*"+Q+"^2"),ce=t.parse(q+ye(2)+"*"+ye(ae)+"^"+ye("1/4")+"*"+ye(ne)+"^"+ye("1/4")+"*"+Q),fe=t.parse(q+ye(ne)),_e=t.add(t.add(ue.clone(),ce.clone()),fe.clone()),et=t.add(t.subtract(ue,ce),fe),me=t.parse(q+ye(2)+"*"+ye(ne)+"^"+ye("3/4")),ge=t.parse(q+ye(ne)+"*"+ye(ne)+"^"+ye("1/4")+"*"+Q),ve=t.parse("2*"+ye(ne)+"*"+q+ye(2)+"*"+ye(ne)+"^"+ye("1/4")),he=t.divide(t.subtract(me.clone(),ge.clone()),t.multiply(ve.clone(),et)),de=t.divide(t.add(me,ge),t.multiply(ve,_e.clone())),w=t.add(W.integrate(he,Q,m,g),W.integrate(de,Q,m,g))}else w=W.integration.partial_fraction(X,Q,m)}else if(-.5===te)if(oe.group===v&&oe.power.equals(2))if(ie.multiplier.lessThan(0)&&!ne.multiplier.lessThan(0))if(ae.negate(),ne.isConstant()&&ae.isConstant()){$=t.symfunction(q,[ae.clone()]);var be=t.symfunction(q,[t.multiply(ae.clone(),ne)]);w=t.divide(t.symfunction(L,[t.divide(ie.toLinear(),be)]),$)}else{var we=t.symfunction(q,[ae]),Se=t.multiply(we.clone(),oe.clone().toLinear());w=t.divide(t.symfunction(O,[t.divide(Se,t.symfunction(q,[re.clone()]))]),we)}else W.integration.stop();else W.integration.stop();else if(.5===te&&oe.power.equals(2)&&ae.greaterThan(0))W.integration.stop();else if(oe.isLinear()&&oe.group!==h)w=t.divide(W.integration.poly_integrate(X),ae);else{if(oe.power.equals(2)&&ae.greaterThan(0)){var xe,qe,ke,Me,Ee,Ae;xe=t.parse(q+u(ae)),qe=t.parse(q+u(ne)),ke=t.multiply(xe.clone(),qe.clone()).invert(),Me=t.pow(ne,new s(X.power)),Ae=e.Utils.getU(X),Pe=t.multiply(ke,oe.clone().toLinear()),Ee=t.parse(O+u(Pe));var Ue=2*(Math.abs(X.power)-1),Ne=W.integrate(t.parse(M+u(Ae)+"^"+Ue));return e.Utils.clearU(Ae),t.multiply(Ne.sub(Ae,Ee),Me)}if(X.group===y||X.power.lessThan(0)){pe=X.clone().toLinear();var Le=e.Algebra.Factor.factor(pe).toString()!==pe.toString();if(e.Algebra.degree(pe,t.parse(Q)).equals(2)&&!Le)try{var _e,Oe,Te;Te=e.Algebra.sqComplete(pe,Q),Pe=e.Utils.getU(pe),_e=Te.f.sub(Te.a,Pe),Oe=t.pow(_e,t.parse(X.power)),w=W.integrate(Oe,Pe).sub(Pe,Te.a)}catch(er){W.integration.stop()}else w=W.integration.partial_fraction(X,Q,m,g)}else w=W.integration.by_parts(X,Q,m,g)}w.multiplier=w.multiplier.multiply(ee)}else if(Y===o){var Ie=X.args[0];ee=X.multiplier.clone();X.toUnitMultiplier();ae=(It=W.integration.decompose_arg(Ie,Q))[0],oe=It[1];var Ce=X.fname;if(Ce===S||Ce===L||Ce===_||Ce===O&&oe.isLinear()){te=X.power.toString();if(c(te)&&(m-=te),Ie.isComposite()){var Pe=e.Utils.getU(X),Re=(pe=t.pow(t.parse(S+u(Pe)),new s(te)),W.diff(Ie,Q)),Fe=t.multiply(pe,Re);Ne=W.integrate(Fe,Pe,m,g);w=t.multiply(t.parse(ee),Ne.sub(Pe,Ie))}else w=t.multiply(t.parse(ee),W.integration.by_parts(X,Q,m,g))}else{if(Ce===E&&X.power.lessThan(0))return(zt=X.clone()).power.negate(),zt.fname=N,t.multiply(t.parse(ee),W.integrate(zt,Q,m));if(!ae.contains(Q,!0)&&X.isLinear())if(Ce===x){if((oe=t.divide(Ie.clone(),ae.clone())).group!==v||oe.power.lessThan(0))W.integration.stop();else if(e.Utils.even(oe.power))w=W.integrate(Ie,Q,m);else{var De=W.integrate(oe,Q,m);De.power=De.power.subtract(new r(1)),w=t.multiply(t.multiply(t.symfunction(x,[oe.toLinear()]),De),ae)}}else{var je=X.args[0].group,He=W.integration.decompose_arg(Ie,Q);switch((je!==d&&je!==v&&je!==y||!He[1].power.equals(1)||Ie.hasFunc())&&W.integration.stop(),Ce){case M:w=t.symfunction(k,[Ie]);break;case k:(w=t.symfunction(M,[Ie])).negate();break;case E:w=t.parse(p(i.LOG+"(sec({0}))",Ie));break;case A:w=t.parse(p(i.LOG+"(tan({0})+sec({0}))",Ie));break;case U:w=t.parse(p("-"+i.LOG+"(csc({0})+cot({0}))",Ie));break;case N:w=t.parse(p(i.LOG+"(sin({0}))",Ie));break;case P:w=t.symfunction(R,[Ie]);break;case R:w=t.symfunction(P,[Ie]);break;case F:w=t.parse(p(i.LOG+"(cosh({0}))",Ie));break;case T:case I:case C:case V:case B:case G:w=W.integration.by_parts(X,Q,m,g);break;case j:w=t.parse(p("atan(sinh({0}))",Ie));break;case D:w=t.parse(p(i.LOG+"(tanh(({0})/2))",Ie));break;case H:w=t.parse(p(i.LOG+"(sinh({0}))",Ie));break;case"exp":w=W.integrate(t.parse(p("e^({0})",Ie)),Q,m);break;case"S":Ie=X.args[0].clone();var Ve=(jt=W.integration.decompose_arg(Ie,Q))[1],Be=jt[0],Ge=jt[3];w=t.parse(p("(cos((1/2)*pi*(({1})+({0})*({2}))^2)+pi*(({1})+({0})*({2}))*S(({1})+({0})*({2})))/(({0})*pi)",Be,Ge,oe));break;case"C":Ie=X.args[0].clone(),Ve=(jt=W.integration.decompose_arg(Ie,Q))[1],Be=jt[0],Ge=jt[3];w=t.parse(p("(pi*(({1})+({0})*({2}))*C(({1})+({0})*({2}))-sin((1/2)*pi*(({1})+({0})*({2}))^2))/(({0})*pi)",Be,Ge,Ve));break;case"erf":Ie=X.args[0].clone(),Ve=(jt=W.integration.decompose_arg(Ie,Q))[1],Be=jt[0];w=t.parse(p("e^(-(({2}))^2)/(({0})*sqrt(pi))+(1/({0})+({1}))*erf(({2}))",Be,Ve,Ie));break;case"sign":w=t.multiply(X.clone(),Ie.clone());break;default:W.integration.stop()}w=t.divide(w,ae)}else if(oe.isLinear()){if(Ce===M||Ce===k)if((te=Number(X.power))<0)X.fname=Ce===k?U:A,X.invert().updateHash(),w=W.integrate(X,Q,m);else{Ie=X.args[0];var ze=X.clone(),Ze=X.clone(),Qe=new s((te-1)/te),Xe=t.multiply(ae.clone(),new s(te)).invert();ze.power=ze.power.subtract(new r(1)),Ze.power=Ze.power.subtract(new r(2));var Ye=t.symfunction(Ce===M?k:M,[Ie.clone()]);Ce===k&&Ye.negate(),w=t.add(t.multiply(t.multiply(Xe,ze),Ye),t.multiply(Qe,W.integrate(t.parse(Ze),Q,m)))}else if(Ce===E||Ce===N){if(X.args[0].isLinear(Q)){Ue=X.power.subtract(new r(1)).toString();var Ke=X.clone().toUnitMultiplier(),We=t.parse(p((Ce===N?"-":"")+"1/({2}*{0})*{3}({1})^({0})",Ue,Ie,ae,Ce));Ke.power=Ke.power.subtract(new r(2)),Ke.power.equals(0)&&(Ke=t.parse(Ke)),w=t.subtract(We,W.integrate(Ke,Q,m))}}else if(Ce===A||Ce===U){var Je=X.power.subtract(new r(1)).toString(),$e=X.power.subtract(new r(2)).toString(),et=Ce===A?E:N,tt=(Ke=X.clone().toUnitMultiplier(),p((Ce===U?"-":"")+"1/({0}*{1})*{4}({3})^({2})*{5}({3})",ae,Je,$e,Ie,Ce,et));We=t.parse(tt);Ke.power=Ke.power.subtract(new r(2)),Ke.power.equals(0)&&(Ke=t.parse(Ke)),w=t.add(We,t.multiply(new s($e/Je),W.integrate(Ke,Q,m)))}else Ce!==R&&Ce!==P||!X.power.equals(2)?W.integration.stop():w=W.integrate(X.fnTransform(),Q,m)}else W.integration.stop();w.multiplier=w.multiplier.multiply(ee)}}else if(Y===h)w=W.integration.partial_fraction(X,Q,m);else if(Y===y){X.getDenom().group===v&&(X=t.expand(X));var rt=X.stripVar(Q),nt=t.divide(X.clone(),rt.clone());if(rt.contains(Q)&&(nt=t.multiply(nt,rt),rt=new s(1)),nt.group!==y){if(nt.equals(1))return W.integrate(t.expand(X),Q,m);nt.clone().toLinear().isPoly(!0)&&e.Utils.variables(nt).length>1&&(nt=e.Algebra.Factor.factor(nt)),w=W.integrate(nt,Q,m)}else{var it=nt.collectSymbols().sort((function(e,t){return e.group===t.group?Number(e.power)===Number(t.power)?e<t?1:-1:t.power-e.power:t.group-e.group})).map((function(e){var r=s.unwrapSQRT(e,!0);return"exp"===r.fname?t.parse(p("({1})*e^({0})",r.args[0],r.multiplier)):r})),at=it.length;if(X.power<0){if(2===at)return W.integrate(t.expand(X),Q,m,g)}else if(2===at){try{w=W.integration.u_substitution(it,Q)}catch(er){}if(!w){var ot=it[0].group,st=it[1].group,lt=it[0],ut=it[1],ct=lt.fname,pt=ut.fname;if(X=t.multiply(lt.clone(),ut.clone()),ot===o&&st===o)if(ct===S||pt===S)w=W.integration.by_parts(X.clone(),Q,m,g);else{it.sort((function(e,t){return t.fname>e.fname}));var ft=lt.args[0];(!ft.isLinear()||ft.group!==d&&ft.group!==y&&ft.group!==v)&&W.integration.stop(),oe=(It=W.integration.decompose_arg(ft,Q))[1],ae=It[0],oe.isLinear()||W.integration.stop();var mt=ut.args[0];if(ft.equals(mt))if(ct===k&&pt===M||ct===M&&pt===k)if(lt.power.lessThan(0)&&W.integration.stop(),ct===k&&lt.power.add(ut.power).equals(0))lt.fname=E,lt.updateHash(),w=W.integrate(lt,Q,m);else if(f(lt.power)&&pt===M&&ut.power.lessThan(0)){Ue=Number(lt.power)/2;var gt=t.parse(p("(1-cos({0})^2)^({1})",lt.args[0],Ue));w=W.integrate(t.expand(t.multiply(gt,ut.clone())),Q,m,g)}else if(f(lt.power)&&pt===k&&ut.power.lessThan(0)){Ue=Number(lt.power)/2,gt=t.parse(p("(1-sin({0})^2)^({1})",lt.args[0],Ue));w=W.integrate(t.expand(t.multiply(gt,ut.clone())),Q,m,g)}else{var vt=e.Utils.even(lt.power),ht=e.Utils.even(ut.power);if(w=new s(0),vt&&ht){var dt=function(e){var r,n=e.power/2;return r=e.fname===M?"((1/2)+(cos(2*("+e.args[0]+"))/2))^"+n:"((1/2)-(cos(2*("+e.args[0]+"))/2))^"+n,t.parse(r)};ae=dt(lt),ne=dt(ut),Ye=t.multiply(ae,ne);return(zt=t.expand(Ye)).each((function(e){w=t.add(w,W.integrate(e,Q,m))})),t.multiply(w,rt)}vt?(Pe=lt,Ke=ut):(Pe=ut,Ke=lt);var yt=Pe.fname===M?-1:1,bt=((Ue=Ke.power)-1)/2,wt=t.parse("(1-"+Pe.fname+e.Utils.inBrackets(ft)+"^2)^"+bt);(zt=t.expand(t.multiply(new s(yt),t.multiply(Pe.clone(),wt)))).each((function(e){w=t.add(w,W.integration.poly_integrate(e.clone()))}))}else if(ct===A&&pt===E&&oe.isLinear()&&ut.isLinear())w=t.parse(p("sec({0})^({1})/({1})",lt.args[0],lt.power));else if(ct===E&&pt===A&&oe.isLinear())if(lt.isLinear()&&ut.isLinear())w=t.divide(t.symfunction(A,[ft.clone()]),ae);else if(f(lt.power)){te=Number(lt.power)/2,Ye=t.parse(p("(sec({0})^2-1)^({1})",lt.args[0],te));w=W.integrate(t.expand(t.multiply(Ye,ut)),Q,m)}else W.integration.stop();else if(ct===A&&pt===M)lt.fname=M,lt.invert().updateHash(),w=W.integrate(t.multiply(lt,ut),Q,m);else if(ct===k&&pt===U)ut.fname=k,ut.invert().updateHash(),w=W.integrate(t.multiply(lt,ut),Q,m);else if(ct!==E||pt!==M&&pt!==k||!ut.power.lessThan(0)){Ye=t.multiply(lt.fnTransform(),ut.fnTransform());w=W.integrate(t.expand(Ye),Q,m)}else{var Ye=t.multiply(lt.fnTransform(),ut);w=W.integrate(t.expand(Ye),Q,m)}else if(ct!==k&&ct!==M||pt!==k&&pt!==M)W.integration.stop();else if(lt.isLinear()&&ut.isLinear())if(lt.args[0].isLinear()&&ut.args[0].isLinear()){pt===k?(ie=lt.args[0],Ht=ut.args[0]):(Ht=lt.args[0],ie=ut.args[0]),pe=t.parse(p("(sin(({1})+({0}))+sin(({1})-({0})))/2",ie.toString(),Ht.toString())),w=W.integrate(pe,Q,m)}else{var St=K(it);w=W.integrate(t.expand(St),Q,m)}else{St=new s(1);it.map((function(e){var r=e.fnTransform();St=t.multiply(St,r)}));Ye=t.expand(St);(w=W.integrate(Ye,Q,m)).hasIntegral()&&(w=W.integrate(K(St.collectSymbols()),Q,m))}}else if(ot===o&&st===v){var xt=lt.isLinear();if(lt.fname===M&&xt&&ut.power.equals(-1))w=t.symfunction("Ci",[lt.args[0]]);else if(lt.fname===M&&ut.power.equals(-1))w=W.integrate(t.multiply(lt.fnTransform(),ut.clone()),Q,m);else if(lt.fname===R&&xt&&ut.power.equals(-1))w=t.symfunction("Chi",[lt.args[0]]);else if(lt.fname===R&&ut.power.equals(-1))w=W.integrate(t.multiply(lt.fnTransform(),ut.clone()),Q,m);else if(lt.fname===k&&xt&&ut.power.equals(-1))w=t.symfunction("Si",[lt.args[0]]);else if(lt.fname===k&&ut.power.equals(-1))w=W.integrate(t.multiply(lt.fnTransform(),ut.clone()),Q,m);else if(lt.fname===P&&xt&&ut.power.equals(-1))w=t.symfunction("Shi",[lt.args[0]]);else if(lt.fname===P&&ut.power.equals(-1))w=W.integrate(t.multiply(lt.fnTransform(),ut.clone()),Q,m);else if(lt.fname===S&&ut.power.equals(-1))w=W.integration.poly_integrate(lt,Q,m);else if("erf"===lt.fname){if(ut.power.equals(1)){Be=(jt=W.integration.decompose_arg(lt.args[0],Q))[0],Ve=jt[1],Ie=lt.args[0].toString();w=t.parse(p("(e^(-(({2}))^2)*(sqrt(pi)*e^((({2}))^2)*(2*({0})^2*({1})^2-3)*erf(({2}))+2*({0})*({1})-2))/(4*sqrt(pi)*({0})^2)",Be,Ve,Ie))}}else w=W.integration.by_parts(X,Q,m,g)}else if(ot===b&&st===v){oe=ct===S?W.integration.decompose_arg(lt.args[0],Q)[1]:null;w=lt.isE()&&(lt.power.group===v||lt.power.group===y)&&ut.power.equals(-1)?t.symfunction("Ei",[lt.power.clone()]):ct===S&&oe.value===ut.value?W.integration.poly_integrate(lt,Q,m):W.integration.by_parts(X,Q,m,g)}else if(ot===h&&st===v){if(ut.value===lt.value&&lt.power.equals(-1)){var qt=Math.min.apply(null,e.Utils.keys(lt.symbols)),kt=Math.min(qt,ut.power),Mt=ut.clone();Mt.power=new r(kt),ut=t.divide(ut,Mt.clone());Ye=new s(0);lt.each((function(e){Ye=t.add(Ye,t.divide(e.clone(),Mt.clone()))})),Ye.multiplier=lt.multiplier,X=t.divide(ut,Ye)}else X=t.expand(X);w=W.integration.partial_fraction(X,Q,m)}else if(ot===d&&st===v){pe=lt.clone().toLinear();var Et=e.Algebra.degree(pe,t.parse(Q)).equals(1);if(lt.power.equals(-.5)){ae=(It=W.integration.decompose_arg(lt.clone().toLinear(),Q))[0].negate(),oe=It[1],ne=It[3];var At=Number(lt.power),Ut=Number(ut.power);if(c(Ut)&&e.Utils.even(Ut)&&oe.power.equals(2)){var Nt=t.divide(t.multiply(t.pow(ne.clone(),new s(2)),t.symfunction(q,[t.divide(ne.clone(),ae.clone())])),t.pow(ae.clone(),new s(2)));Nt=t.multiply(Nt,t.symfunction(q,[ne]).invert());var Lt=t.parse("sin(u)");Lt.power=Lt.power.multiply(ut.power);Ne=W.integrate(Lt,"u",m);var _t=t.parse("asin(sqrt("+ae+"/"+ne+")*"+Q+")");w=t.multiply(Nt,Ne.sub(new s("u"),_t))}else if(-.5===At){var Ot=function(e,r){var n=t.parse(W.integrate(e,Q,m,g).sub(Q,p(r,Q)));if(!n.hasIntegral())return n};-1===Ut?w=Ot(t.expand(t.expand(t.pow(t.multiply(lt.invert(),ut.invert()),new s(2)))).invert(),"sqrt(1-1/({0})^2)"):-2===Ut&&(w=Ot(t.sqrt(t.expand(t.divide(t.pow(X,new s(2)).invert(),t.pow(new s(Q),new s(2))).negate())).invert(),"sqrt(1-1/({0})^2)"))}}else if(lt.power.equals(-1)&&ut.isLinear()&&Et)w=W.integration.partial_fraction(X,Q,m);else if(!lt.power.lessThan(0)&&c(lt.power)){var Tt=t.expand(lt);w=new s(0),Tt.each((function(e){e.group===h?e.each((function(e){w=t.add(w,W.integrate(t.multiply(ut.clone(),e),Q,m))})):w=t.add(w,W.integrate(t.multiply(ut.clone(),e),Q,m))}))}else if(lt.power.lessThan(-2))w=W.integration.by_parts(X,Q,m,g);else if(lt.power.lessThan(0)&&ut.power.greaterThan(1)){var It;ae=(It=W.integration.decompose_arg(lt.clone().toLinear(),Q))[0].negate(),oe=It[1],ne=It[3],re=lt.clone().toLinear();if(oe.group!==h&&oe.isLinear()){te=Number(ut.power),Pe=new s(Re="_u_");var Ct=t.expand(t.divide(t.pow(t.subtract(Pe.clone(),ne.clone()),new s(te)),Pe.clone())),Pt={};Pt[Re]=re;var Rt=t.parse(Ct,Pt);w=W.integrate(Rt,Q,0)}else if(ut.power.greaterThan(oe.power)||ut.power.equals(oe.power)){var Ft=new e.Algebra.Classes.Factors;lt=e.Algebra.Factor.coeffFactor(lt.invert(),Ft);var Dt=e.Algebra.divide(ut,lt);Dt.group!==y?(w=new s(0),Dt.each((function(e){w=t.add(w,W.integrate(e,Q,m))})),Ft.each((function(e){w=t.divide(w,e)})),w=t.expand(w)):w=W.integration.by_parts(X,Q,m,g)}else w=W.integration.partial_fraction(X,Q,m)}else if(lt.power.den.equals(2)){ae=(jt=W.integration.decompose_arg(lt.clone().toLinear(),Q))[3],oe=jt[1],ne=jt[0];var jt,Ht=jt[2];if(oe.power.equals(2)&&ne.lessThan(0)){ae.equals(1)||(rt=t.multiply(rt,t.pow(ae,new s(2))));Pe=Q,Nt=t.divide(t.pow(ne.clone().negate(),new s(.5)),t.pow(ae,new s(.5))),Re=t.symfunction(M,[new s(Pe)]);var Vt=t.pow(t.symfunction(M,[new s(Pe)]),new s(lt.power.num)),Bt=t.pow(t.symfunction(k,[new s(Pe)]),new s(ut.power)),Gt=t.multiply(t.multiply(Vt,Re),Bt);Ne=W.integrate(Gt,Pe,m);w=Ne.sub(Pe,t.symfunction(L,[t.multiply(new s(Q),Nt)]))}else w=W.integration.partial_fraction(X,Q,m,g)}else Et&&(w=W.integration.partial_fraction(X,Q,m))}else if(lt.isComposite()&&ut.isComposite())if(w=new s(0),lt.power.greaterThan(0)&&ut.power.greaterThan(0)){var zt;(zt=t.expand(X)).each((function(e){w=t.add(w,W.integrate(e,Q,m))}),!0)}else{At=Number(lt.power),Ut=Number(ut.power);if(At<0&&Ut>0){Ye=lt;lt=ut,ut=Ye}-1===At&&-1===Ut?w=W.integration.partial_fraction(X,Q):lt.each((function(e){var r=t.multiply(e,ut.clone()),n=W.integrate(r,Q,m);w=t.add(w,n)}))}else if(ot===d&&it[0].power.greaterThan(0))lt=t.expand(lt),w=new s(0),lt.each((function(e){w=t.add(w,W.integrate(t.multiply(e,ut.clone()),Q,m))}),!0);else if(ot===o&&st===b&&e.Utils.in_htrig(lt.fname))lt=lt.fnTransform(),w=W.integrate(t.expand(t.multiply(lt,ut)),Q,m);else if(ot===o&&st===d||st===o&&ot===d){if(st===o&&ot===d){Ye=lt;lt=ut,ut=Ye}var Zt,Qt,Xt;if(Re=s.unwrapSQRT(W.diff(lt.clone(),Q),!0),Zt=s.unwrapSQRT(ut,!0),Re.power.equals(Zt.power)){if(te=new s(ut.power),Qt=Re.clone().toLinear(),Xt=ut.clone().toLinear(),(Qe=e.Algebra.divide(Qt.toLinear(),Xt)).isConstant()){var Yt=t.pow(Qe,te.negate());w=t.multiply(Yt,W.integration.poly_integrate(lt.clone()))}}else w=W.integration.by_parts(X,Q,m,g)}else{var Kt=lt.clone().toLinear(),Wt=ut.clone().toLinear();w=ot===b&&st===b&&lt.power.contains(Q)&&ut.power.contains(Q)&&!Kt.contains(Q)&&!Wt.contains(Q)?t.parse(p("(({0})^(({2})*({4}))*({1})^(({3})*({4})))/(log(({0})^({2}))+log(({1})^({3})))",Kt.toString(),Wt.toString(),lt.power.multiplier.toString(),ut.power.multiplier.toString(),Q)):W.integration.by_parts(X,Q,m,g)}}}else if(3===at&&(it[2].group===v&&it[2].power.lessThan(2)||it[0].group===d)){var Jt=it[0];if(Jt.group===d){Jt.power.greaterThan(1)&&(Jt=t.expand(Jt));Ke=t.multiply(it[1],it[2]);w=new s(0),Jt.each((function(e){var r=t.multiply(e,Ke.clone()),n=W.integrate(r,Q,m);w=t.add(w,n)}),!0)}else w=W.integration.by_parts(X,Q,m,g)}else if(Z(it)){Ye=new s(1);var $t=0;for(at=it.length;$t<at;$t++)Ye=t.multiply(Ye,it[$t].fnTransform());Ye=t.expand(Ye),w=W.integrate(Ye,Q,m)}else{St=K(it);w=W.integrate(t.expand(St),Q,m)}}w=t.multiply(w,rt)}}else w=t.multiply(X.clone(),t.parse(Q));if(w)return w}catch(tr){if(!(tr instanceof z||tr instanceof e.exceptions.DivisionByZero))throw tr}return t.symfunction("integrate",[n,l])}),!1))},defint:function(r,n,i,a){a=a||"x";var o,l,u=function(e,r,n){try{return t.parse(e,r)}catch(i){return W.Limit.limit(e,a,n)}},c=e.Utils.variables(r),p=r.hasTrig();if(1!==c.length||a||(a=c[0]),p||(l=W.integrate(r,a)),p||l.hasIntegral())if(1===c.length&&n.isConstant()&&i.isConstant()){var f=e.Utils.build(r);o=new s(e.Math2.num_integrate(f,Number(n),Number(i)))}else o=t.symfunction("defint",[r,n,i,a]);else{var m,g,v={},h={};v[a]=i,h[a]=n,m=u(l,v,i),g=u(l,h,n),o=t.subtract(m,g)}return o},Limit:{interval:function(e,r){return t.parse(p("[{0}, {1}]",e,r))},diverges:function(){return W.Limit.interval("-Infinity","Infinity")},divide:function(r,n,a,o,l){if(!(l++>i.max_lim_depth)){r.clone();var u=n.clone();if(n.fname===x){var c=r.sign(),p=o.sign();if(o.isInfinity)return t.multiply(new s(c),new s(p));if(o.equals(0)){var f=t.parse(r.multiplier),g=t.parse(n.multiplier);return t.divide(t.multiply(f,W.Limit.interval("-1","1")),g)}W.Limit.diverges()}var v=function(t){if(e.Utils.isVector(t)){for(var r=0;r<t.elements.length;r++)if(!t.elements[r].isInfinity)return!1;return!0}return t.isInfinity},h=function(t,r){return!e.Utils.isVector(t)&&t.equals(r)};do{var d=m(W.Limit.limit(r.clone(),a,o,l)),y=m(W.Limit.limit(n.clone(),a,o,l)),b=v(d)&&v(y)||h(d,0)&&h(y,0);if(b){var w=W.diff(r.clone(),a),S=W.diff(n.clone(),a),q=t.expand(t.divide(w,S));r=q.getNum(),n=q.getDenom()}}while(b);var k=y.equals(0),M=Number(u.power);return o.isConstant(!0)&&k?s.infinity(e.Utils.even(M)&&d.lessThan(0)?-1:void 0):k?W.Limit.diverges():t.divide(d,y)}},rewriteToLog:function(e){var r=e.power.clone();return e.toLinear(),t.pow(new s("e"),t.multiply(r,t.symfunction(i.LOG+"",[e])))},getSubbed:function(e,t,r){var n;e.group===b&&(e=W.rewriteToLog(e));try{n=e.sub(t,r)}catch(i){n=e}return n},isInterval:function(t){return e.Utils.isVector(t)},isConvergent:function(e){return!(W.Limit.isInterval(e)&&e.elements[0].isInfinity&&e.elements[1].isInfinity||e.containsFunction("limit"))},limit:function(r,n,a,l){if(r.isLinear()&&r.isComposite()){var u=new s(0);return r.each((function(e){u=t.add(u,W.Limit.limit(e,n,a,l))}),!0),u}if(r=e.Algebra.Simplify.simplify(r),l=l||1,!(l++>i.max_lim_depth)){var c=t.parse(r.multiplier);r.toUnitMultiplier();try{var f;if(r.isConstant(!0))f=r;else{var g={};g[n]=a;try{var h=t.parse(r.sub(n,a),g);(h.isConstant(!0)||h.isInfinity)&&(f=h)}catch(J){}if(!f){var d=r.getNum(),w=r.getDenom();if(w.isConstant(!0)){if(r.group===b){var x=r.clone().toLinear(),q=(r.power.clone(),x.getNum()),A=x.getDenom(),U=e.Utils.decompose_fn(A,n,!0);if(q.group===v&&q.multiplier.isOne()&&U.ax.group===v&&U.b.isConstant(!0)&&U.a.isOne()&&U.b.isConstant(!0))f=t.parse(p("(1/e^({0}))",U.b));else{var N=W.Limit.rewriteToLog(r.clone()),L=N.power.clone(),_=N.clone().toLinear(),O=W.Limit.limit(_,n,a,l),T=W.Limit.limit(L,n,a,l);f=t.pow(O,T)}}else if(r.group===o&&1===r.args.length){var I,C=W.Limit.limit(r.args[0],n,a,l);if(e.Utils.isVector(C))return f=C.map((function(e){return r.clone().args[0]=e,W.Limit.limit(t.symfunction(r.fname,[e]),n,a,l)})),t.multiply(c,f);if(C.isConstant(!0)){var P=t.symfunction(r.fname,[C]);try{m(P),I=!0}catch(J){I=!1}}if(I)f=P;else if(W.Limit.isConvergent(C))if(r.fname===S)switch(C.toString()){case"0":f=s.infinity().negate();break;case"Infinity":case"-Infinity":f=s.infinity()}else if(r.fname!==M&&r.fname!==k||!a.isInfinity){if(r.fname===E){var R=r.args[0],F=R.getNum(),D=R.getDenom(),j=F.toUnitMultiplier();(a.isInfinity||j.equals("pi")&&D.equals(2))&&(f=divergent())}else if(r.fname===i.FACTORIAL&&C.isInfinity)return s.infinity()}else f=W.Limit.interval(-1,1)}else if(r.group===v){if(r.power>0)return t.parse(r,g);f=e.Utils.even(r.power)?s.infinity():W.Limit.diverges()}else if(r.group===y){var H,V;x=(z=r.collectSymbols().sort((function(e,t){return e.group-t.group}))).pop();for(H=m(W.Limit.limit(x,n,a,l));z.length;){var B=z.pop();V=m(W.Limit.limit(B,n,a,l)),H.isInfinity||!W.Limit.isConvergent(H)&&V.equals(0)||H.equals(0)&&W.Limit.isConvergent(V)?(B.containsFunction(S)&&(B=[x,x=B][0]),B.invert(),H=H.isInfinity&&V.isInfinity?s.infinity():W.Limit.divide(x,B,n,a,l)):(H=t.multiply(H,V),x=t.multiply(x,B))}f=H}else if(r.isComposite()){var G;r.isLinear()||(r=t.expand(r)),f=new s(0);for(var z=r.collectSymbols().sort((function(e,t){return t.group-e.group})),Z=[],Q=new s(0),X=0,Y=z.length;X<Y;X++){(K=z[X].clone()).group===o||K.group===y&&K.hasFunc()?Q=t.add(Q,K):Z.push(K)}Z.unshift(Q),1!==Z.length&&(z=Z);for(X=0,Y=z.length;X<Y;X++){var K=z[X];try{G=W.Limit.limit(K,n,a,l)}catch(J){G=W.Limit.diverges()}try{f=t.add(f,G)}catch(J){if(l++>i.max_lim_depth)return;f=W.Limit.limit(W.diff(r,n),n,a,l)}}}}else f=W.Limit.divide(d,w,n,a,l)}}f||(f=t.symfunction("limit",[r,n,a]))}catch(J){f=t.symfunction("limit",[r,n,a])}return t.multiply(c,f)}}},Fresnel:{S:function(e){return e.isConstant(!0)?W.defint(t.parse("sin(pi*x^2/2)"),s(0),e,"x"):t.symfunction("S",arguments)},C:function(e){return e.isConstant(!0)?W.defint(t.parse("cos(pi*x^2/2)"),s(0),e,"x"):t.symfunction("C",arguments)}}};n.register([{name:"diff",visible:!0,numargs:[1,3],build:function(){return W.diff}},{name:"sum",visible:!0,numargs:4,build:function(){return W.sum}},{name:"product",visible:!0,numargs:4,build:function(){return W.product}},{name:"integrate",visible:!0,numargs:[1,2],build:function(){return W.integrate}},{name:"defint",visible:!0,numargs:[3,4],build:function(){return W.defint}},{name:"S",visible:!0,numargs:1,build:function(){return W.Fresnel.S}},{name:"C",visible:!0,numargs:1,build:function(){return W.Fresnel.C}},{name:"limit",visible:!0,numargs:[3,4],build:function(){return W.Limit.limit}}]),n.updateAPI()}()},4596:function(e,t,r){var n=r(1825);r(48),r(1133),function(){"use strict";var e=n.getCore(),t=e.PARSER,r=e.Symbol,i=e.Utils.format,a=e.Utils.isVector,o=e.Utils.isArray,s=(e.Vector,e.groups.S),l=(e.groups.EX,e.groups.CP),u=e.groups.CB,c=e.groups.FN;e.Settings.Laplace_integration_depth=40,r.prototype.findFunction=function(e){if(this.group===c&&this.fname===e)return this.clone();var t;if(this.symbols)for(var r in this.symbols)if(t=this.symbols[r].findFunction(e))break;return t};var p=e.Extra={version:"1.4.2",LaPlace:{transform:function(n,a,o){n=n.clone(),a=a.toString();var l,f=(n=r.unwrapSQRT(n,!0)).stripVar(a),m=n.group;if((n=t.divide(n,f.clone())).isConstant()||!n.contains(a,!0))l=t.parse(i("({0})/({1})",n,o));else if(m===s&&e.Utils.isInt(n.power)){var g=String(n.power);l=t.parse(i("factorial({0})/({1})^({0}+1)",g,o))}else if(n.group===s&&n.power.equals(.5))l=t.parse(i("sqrt(pi)/(2*({0})^(3/2))",o));else if(n.isComposite())l=new r(0),n.each((function(e){l=t.add(l,p.LaPlace.transform(e,a,o))}),!0);else if(!n.isE()||n.power.group!==s&&n.power.group!==u){if(n.group!==c||-1===["sin","cos","sinh","cosh"].indexOf(n.fname)||n.args[0].group!==s&&n.args[0].group!==u){var v=e.Settings.integration_depth<e.Settings.Laplace_integration_depth;if(v){var h=e.Settings.integration_depth;e.Settings.integration_depth=e.Settings.Laplace_integration_depth}e.Utils.block("PARSE2NUMBER",(function(){var i=a,s=n.sub(a,i),u=t.parse("e^(-"+o+"*"+i+")*"+s);if((l=e.Calculus.integrate(u,i)).hasIntegral())return t.symfunction("laplace",arguments);l=l.sub(a,0),l=(l=t.expand(t.multiply(l,new r(-1)))).sub(i,a)}),!1),l=e.Utils.block("PARSE2NUMBER",(function(){return t.parse(l)}),!0),v&&(e.Settings.integration_depth=h)}else{d=n.args[0].stripVar(a);switch(n.fname){case"sin":l=t.parse(i("({0})/(({1})^2+({0})^2)",d,o));break;case"cos":l=t.parse(i("({1})/(({1})^2+({0})^2)",d,o));break;case"sinh":l=t.parse(i("({0})/(({1})^2-({0})^2)",d,o));break;case"cosh":l=t.parse(i("({1})/(({1})^2-({0})^2)",d,o))}}}else{var d=n.power.stripVar(a);l=t.parse(i("1/(({1})-({0}))",d,o))}return t.multiply(l,f)},inverse:function(n,a,o){var c=n.clone();return e.Utils.block("POSITIVE_MULTIPLIERS",(function(){if(n.group===u&&(n=e.Algebra.PartFrac.partfrac(t.expand(n),a)),n.group===s||n.group===u||n.isComposite()){var f,m,g,v,h,d,y,b=function(){(v=t.multiply(v,f)).multiplier=v.multiplier.multiply(n.multiplier),v=t.divide(v,h.a)};if(d=n.multiplier.clone(),n.toUnitMultiplier(),f=n.getNum(),(m=n.getDenom().toUnitMultiplier()).group===l?(y=m.power.clone(),m.toLinear()):y=new e.Frac(1),g=a.toString(),h=e.Utils.decompose_fn(m,g,!0),e.Utils.decompose_fn(t.expand(f.clone()),g,!0),f.multiplier=f.multiplier.multiply(d),(m.group===s||m.group===u)&&h.x.value===g&&h.b.equals(0)&&e.Utils.isInt(h.x.power))k=h.x.power-1,M=e.Math2.factorial(k),v=t.divide(t.pow(o,new r(k)),new r(M)),b();else if(m.group===l&&y.equals(1)){if(h.x.group===e.groups.PL&&e.Algebra.degree(m).equals(2)){var w=e.Algebra.sqComplete(m,g),S=e.Utils.getU(m),x=e.Utils.decompose_fn(w.a,g,!0).b,q=p.LaPlace.inverse(t.parse("1/((".concat(S,")^2+(").concat(w.c,"))")),S,o);v=t.multiply(q,t.parse("(".concat(d,")*e^(-(").concat(x,")*(").concat(o,"))")))}else if(h.x.isLinear()&&!f.contains(g)){o=t.divide(o,h.a.clone());var k,M=0===(k=y-1)||1===k?"1":"(".concat(y,"-1)!");v=t.parse(i("(({0})^({3}-1)*e^(-(({2})*({0}))/({1})))/(({4})*({1})^({3}))",o,h.a,h.b,y,M)),b()}else if(h.x.group===s&&h.x.power.equals(2))if(f.contains(g)){x=new r(1);if(f.group===u){var E=new r(1);f.each((function(e){e.contains(g)?E=t.multiply(E,e):x=t.multiply(x,e)})),f=E}var A,U,N,L,_,O,T,I,C,P,R=e.Utils.decompose_fn(f,g,!0);if(A=R.a,U=R.b,N=A.containsFunction("sin"),_=A.containsFunction("cos"),L=U.containsFunction("cos"),O=U.containsFunction("sin"),R.x.value===g&&R.x.isLinear()&&!(N&&L||_||O))v=t.parse(i("(({1})*cos((sqrt(({2})*({3}))*({0}))/({2})))/({2})",o,R.a,h.a,h.b));else if(N&&L)if(T=A.findFunction("sin"),I=U.findFunction("cos"),T.args[0].equals(I.args[0])&&!T.args[0].contains(g))F=t.divide(U,I.toUnitMultiplier()).toString(),C=T.args[0].toString(),D=h.b,P=t.divide(A,T.toUnitMultiplier()),j="(({1})*({2})*cos({3})*sin(sqrt({4})*({0})))/sqrt({4})+({1})*sin({3})*({5})*cos(sqrt({4})*({0}))",v=t.parse(i(j,o,x,F,C,D,P))}else v=t.parse(i("(({1})*sin((sqrt(({2})*({3}))*({0}))/({2})))/sqrt(({2})*({3}))",o,f,h.a,h.b))}else if(h.x.power.num&&h.x.power.num.equals(3)&&h.x.power.den.equals(2)&&f.contains("sqrt(pi)")&&!f.contains(g)&&f.isLinear()){var F=t.divide(f.clone(),t.parse("sqrt(pi)"));v=t.parse(i("(2*({2})*sqrt({0}))/({1})",o,h.a,F,f))}else if(y.equals(2)&&h.x.power.equals(2)){var D,j;if(f.contains(g))if((R=e.Utils.decompose_fn(t.expand(f.clone()),g,!0)).x.isComposite()){var H=[],V=f.collectSymbols((function(t){t=r.unwrapPARENS(t);var n=e.Utils.decompose_fn(t,g,!0);return n.symbol=t,n})).sort((function(e,t){var r;return r=e.x.value!==g?0:e.x.power,(t.x.value!==g?0:t.x.power)-r}));x=new r(-1);for(var B=0;B<V.length;B++){var G=V[B];G.x.value===g?H.push(G):x=t.multiply(x,G.symbol)}H[0].x.power.equals(2)&&H[1].x.power.equals(1)&&H[1].b.equals(0)&&!H[0].b.equals(0)&&(F=H[0].a.negate(),j="-(({1})*({2})*({5})*({0})*sin((sqrt(({4})*({5}))*({0}))/({4})))/(2*({4})^2*sqrt(({4})*({5})))-(({1})*({3})*({0})*sin((sqrt(({4})*({5}))*({0}))/({4})))/(2*({4})*sqrt(({4})*({5})))+(({1})*({2})*cos((sqrt(({4})*({5}))*({0}))/({4})))/({4})^2",v=t.parse(i(j,o,x,F,H[0].b,h.a,h.b)))}else R.x.isLinear()?(x=t.divide(R.a,new r(2)),j="(({1})*({0})*sin((sqrt(({2})*({3}))*({0}))/({2})))/(({2})*sqrt(({2})*({3})))",v=t.parse(i(j,o,x,h.a,h.b))):R.x.power.equals(2)&&(R.b.equals(0)?(x=t.divide(R.a,new r(2)),j="(({1})*sin((sqrt(({2})*({3}))*({0}))/({2})))/(({2})*sqrt(({2})*({3})))+(({1})*({0})*cos((sqrt(({2})*({3}))*({0}))/({2})))/({2})^2",v=t.parse(i(j,o,x,h.a,h.b))):(x=t.divide(R.a,new r(2)),D=R.b.negate(),j="-((({2})*({4})-2*({1})*({3}))*sin((sqrt(({2})*({3}))*({0}))/({2})))/(2*({2})*({3})*sqrt(({2})*({3})))+(({4})*({0})*cos((sqrt(({2})*({3}))*({0}))/({2})))/(2*({2})*({3}))+(({1})*({0})*cos((sqrt(({2})*({3}))*({0}))/({2})))/({2})^2",v=t.parse(i(j,o,x,h.a,h.b,D))));else x=t.divide(f,new r(2)),j="(({1})*sin((sqrt(({2})*({3}))*({0}))/({2})))/(({3})*sqrt(({2})*({3})))-(({1})*({0})*cos((sqrt(({2})*({3}))*({0}))/({2})))/(({2})*({3}))",v=t.parse(i(j,o,x,h.a,h.b))}else n.isComposite()&&(y.equals(2)&&h.x.group===s?v=t.parse("(".concat(d,")*(").concat(o,")*e^(-(").concat(h.b,")*(").concat(o,"))")):(v=new r(0),n.each((function(e){v=t.add(v,p.LaPlace.inverse(e,a,o))}),!0)))}return v||(v=t.symfunction("ilt",[c,a,o])),v}),!0)}},Statistics:{frequencyMap:function(e){for(var t={},r=0,n=e.length;r<n;r++){var i=e[r].toString();t[i]||(t[i]=0),t[i]++}return t},sort:function(e){return e.sort((function(e,r){return e.isConstant()&&r.isConstant()||t.error("Unable to sort! All values must be numeric"),e.multiplier.subtract(r.multiplier)}))},count:function(e){return new r(e.length)},sum:function(e,n){for(var i=new r(0),a=0,o=e.length;a<o;a++){var s=e[a].clone();i=n?t.add(t.pow(t.subtract(s,n.clone()),new r(2)),i):t.add(s,i)}return i},mean:function(){var e=[].slice.call(arguments);return a(e[0])?p.Statistics.mean.apply(this,e[0].elements):t.divide(p.Statistics.sum(e),p.Statistics.count(e))},median:function(){var r,n=[].slice.call(arguments);if(a(n[0]))return p.Statistics.median.apply(this,n[0].elements);try{var i=p.Statistics.sort(n),o=n.length;if(e.Utils.even(o)){var s=o/2;r=p.Statistics.mean(i[s-1],i[s])}else r=i[Math.floor(o/2)]}catch(l){r=t.symfunction("median",n)}return r},mode:function(){var r,n=[].slice.call(arguments);if(a(n[0]))return p.Statistics.mode.apply(this,n[0].elements);var i=p.Statistics.frequencyMap(n);if(1===e.Utils.keys(i).length)r=n[0];else{var s={};for(var l in i){var u=i[l];if(u in s){var c=s[u];o(c)?c.push(l):s[u]=[l,s[u]]}else s[u]=l}var f=s[Math.max.apply(null,e.Utils.keys(s))];r=o(f)?t.symfunction("mode",f.sort()):t.parse(f)}return r},gVariance:function(e,r){var n=p.Statistics.mean.apply(p.Statistics,r),i=p.Statistics.sum(r,n);return t.multiply(e,i)},variance:function(){var e=[].slice.call(arguments);if(a(e[0]))return p.Statistics.variance.apply(this,e[0].elements);var n=t.divide(new r(1),p.Statistics.count(e));return p.Statistics.gVariance(n,e)},sampleVariance:function(){var e=[].slice.call(arguments);if(a(e[0]))return p.Statistics.sampleVariance.apply(this,e[0].elements);var n=t.divide(new r(1),t.subtract(p.Statistics.count(e),new r(1)));return p.Statistics.gVariance(n,e)},standardDeviation:function(){var e=[].slice.call(arguments);return a(e[0])?p.Statistics.standardDeviation.apply(this,e[0].elements):t.pow(p.Statistics.variance.apply(p.Statistics,e),new r(.5))},sampleStandardDeviation:function(){var e=[].slice.call(arguments);return a(e[0])?p.Statistics.sampleStandardDeviation.apply(this,e[0].elements):t.pow(p.Statistics.sampleVariance.apply(p.Statistics,e),new r(.5))},zScore:function(e,r,n){return t.divide(t.subtract(e,r),n)}},Units:{table:{foot:"12 inch",meter:"100 cm",decimeter:"10 cm"}}};n.register([{name:"laplace",visible:!0,numargs:3,build:function(){return p.LaPlace.transform}},{name:"ilt",visible:!0,numargs:3,build:function(){return p.LaPlace.inverse}},{name:"mean",visible:!0,numargs:-1,build:function(){return p.Statistics.mean}},{name:"median",visible:!0,numargs:-1,build:function(){return p.Statistics.median}},{name:"mode",visible:!0,numargs:-1,build:function(){return p.Statistics.mode}},{name:"smpvar",visible:!0,numargs:-1,build:function(){return p.Statistics.sampleVariance}},{name:"variance",visible:!0,numargs:-1,build:function(){return p.Statistics.variance}},{name:"smpstdev",visible:!0,numargs:-1,build:function(){return p.Statistics.sampleStandardDeviation}},{name:"stdev",visible:!0,numargs:-1,build:function(){return p.Statistics.standardDeviation}},{name:"zscore",visible:!0,numargs:3,build:function(){return p.Statistics.zScore}}]),n.updateAPI()}(),e.exports=n},4824:function(e,t,r){var i=r(1825);r(48),r(1133),function(){var e,t=i.getCore(),r=t.PARSER,a=t.Algebra,o=t.Calculus,s=o.integration.decompose_arg,l=t.Utils.evaluate,u=t.Utils.remove,c=t.Utils.format,p=t.Utils.build,f=t.Utils.knownVariable,m=t.Symbol,g=t.Utils.isSymbol,v=t.Utils.variables,h=t.groups.S,d=t.groups.PL,y=t.groups.CB,b=t.groups.CP,w=t.groups.FN,S=t.Settings,x=t.Utils.range,q=t.Utils.isArray;function k(e,r){if(r.isConstant()&&e.isConstant()&&!e.equals(r)||e.equals(t.Settings.IMAGINARY)&&r.isConstant(!0)||r.equals(t.Settings.IMAGINARY)&&e.isConstant(!0))throw new t.exceptions.NerdamerValueError(e.toString()+" does not equal "+r.toString());this.LHS=e,this.RHS=r}t.Settings.SOLVE_RADIUS=1e3,t.Settings.ROOTS_PER_SIDE=10,t.Settings.make_pi_conversions=!1,t.Settings.STEP_SIZE=.1,t.Settings.EPSILON=1e-13,t.Settings.MAX_NEWTON_ITERATIONS=200,t.Settings.MAX_NON_LINEAR_TRIES=12,t.Settings.NON_LINEAR_JUMP_AT=50,t.Settings.NON_LINEAR_JUMP_SIZE=100,t.Settings.NON_LINEAR_START=.01,t.Settings.NEWTON_SLICES=200,t.Settings.NEWTON_EPSILON=2*Number.EPSILON,t.Settings.SOLUTION_PROXIMITY=1e-14,t.Settings.FILTER_SOLUTIONS=!0,t.Settings.MAX_SOLVE_DEPTH=10,t.Settings.ZERO_EPSILON=1e-9,t.Settings.MAX_BISECTION_ITER=2e3,t.Settings.BI_SECTION_EPSILON=1e-12,t.Symbol.prototype.hasTrig=function(){return this.containsFunction(["cos","sin","tan","cot","csc","sec"])},t.Symbol.prototype.hasNegativeTerms=function(){if(this.isComposite())for(var e in this.symbols){var t=this.symbols[e];if(t.group===d&&t.hasNegativeTerms()||this.symbols[e].power.lessThan(0))return!0}return!1},k.prototype={toString:function(){return this.LHS.toString()+"="+this.RHS.toString()},text:function(e){return this.LHS.text(e)+"="+this.RHS.text(e)},toLHS:function(e){var t,n=(t=(e=void 0===e)?this.removeDenom():this.clone()).LHS,i=t.RHS;if(n.isConstant(!0)&&!i.isConstant(!0)){var a=[i,n];n=a[0],i=a[1]}var o=r.subtract(n,i),s=e?r.expand(o):o;return s=new k(s,new m(0)).removeDenom().LHS},removeDenom:function(){var e=this.LHS.clone(),t=this.RHS.clone(),n=r.multiply(e.getDenom(),t.getDenom());if(e=r.expand(r.multiply(e,n.clone())),(t=r.expand(r.multiply(t,n))).group===b&&t.group!==b){var i=e;e=t,t=i}if(e.group===y){i=new m(e.multiplier);var a=t.clone();e.each((function(e){e.power.lessThan(0)?a=r.divide(a,e):i=r.multiply(i,e)})),e=i,t=a}else if(e.group===b)for(var o in e.symbols){var s=e.symbols[o];if(s.group===y)for(var l in s.symbols){var u=s.symbols[l];if(u.power.lessThan(0))return new k(r.expand(r.multiply(u.clone().toLinear(),e)),r.expand(r.multiply(u.clone().toLinear(),t)))}}return new k(e,t)},clone:function(){return new k(this.LHS.clone(),this.RHS.clone())},sub:function(e,t){var r=this.clone();return r.LHS=r.LHS.sub(e.clone(),t.clone()),r.RHS=r.RHS.sub(e.clone(),t.clone()),r},isZero:function(){return t.Utils.evaluate(this.toLHS()).equals(0)},latex:function(e){return[this.LHS.latex(e),this.RHS.latex(e)].join("=")}},r.equals=function(e,t){return new k(e,t)},e=r.functions.simplify[0],r.functions.simplify[0]=function(t){return t instanceof k?(t.LHS=e(t.LHS),t.RHS=e(t.RHS),t):e(t)},t.Expression.prototype.equals=function(e){return e instanceof t.Expression&&(e=e.symbol),new k(this.symbol,e)},t.Expression.prototype.solveFor=function(e){var r;if(this.symbol instanceof k){if(this.symbol.LHS.isConstant()&&this.symbol.RHS.equals(e))return new t.Expression(this.symbol.LHS);if(this.symbol.RHS.isConstant()&&this.symbol.LHS.equals(e))return new t.Expression(this.symbol.RHS);r=this.symbol.toLHS()}else r=this.symbol;return U(r,e).map((function(e){return new t.Expression(e)}))},t.Expression.prototype.expand=function(){if(this.symbol instanceof k){var e=this.symbol.clone();return e.RHS=r.expand(e.RHS),e.LHS=r.expand(e.LHS),new t.Expression(e)}return new t.Expression(r.expand(this.symbol))},t.Expression.prototype.variables=function(){return this.symbol instanceof k?t.Utils.arrayUnique(v(this.symbol.LHS).concat(v(this.symbol.RHS))):v(this.symbol)};var M=function(e,t){return r.equals(e,t)};t.Equation=k;var E=t.Utils.checkAll=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return!1;return!0},A=t.Solve={version:"2.0.3",solutions:[],solve:function(e,r){var n=U(e,String(r));return new t.Vector(n)},toLHS:function(e,t){if(g(e))return e;if(!(e instanceof k)){var n=e.split("=");n[1]=n[1]||"0",e=new k(r.parse(n[0]),r.parse(n[1]))}return e.toLHS(t)},solveCircle:function(e,n){for(var i=n.map((function(e){return r.parse(e)})),a=[],o=[],s=0;s<e.length;s++){for(var l=[],u=0;u<i.length;u++)l.push(Number(t.Algebra.degree(e[s],i[u])));l.push(t.Utils.arraySum(l,!0)),a.push(l)}var c=e[0],p=e[1];if(a[0][2]>a[1][2]){var m=[c,p];p=m[0],c=m[1];var g=[a[0],a[1]];a[1]=g[0],a[0]=g[1]}if(1===a[0][0]&&2===a[0][2]&&2===a[1][0]&&4===a[1][2]){var v=n[0],h=n[1],d=U(r.parse(p,f(v,U(r.parse(c),v)[0])),h).map((function(e){return e.toString()})),y=[U(r.parse(c,f(h,d[0])))[0].toString()];if(d[1]&&y.push(U(r.parse(c,f(h,d[1])))[0].toString()),S.SOLUTIONS_AS_OBJECT)(o={})[v]=y,o[h]=d;else d.unshift(h),y.unshift(v),o=[y,d]}return o},solveNonLinearSystem:function(e,i,a){if(i<0)return[];a=void 0===a?t.Settings.NON_LINEAR_START:a;var o=t.Settings.MAX_NON_LINEAR_TRIES,s=Math.floor(o/2);i=void 0===i?o:i;var l,u,c,f,m,g,v,h,d=t.Settings.NON_LINEAR_JUMP_AT,y=t.Settings.NON_LINEAR_JUMP_SIZE,b=!0,w=function(e,t){return e.map((function(e,r){return Number(t.get(r,0))}))},S=t.Utils.arrayGetVariables(e),x=t.Matrix.jacobian(e,S,(function(e){return p(e,S)}),!0),q=t.Settings.MAX_NEWTON_ITERATIONS,k=e.map((function(e){return p(e,S)})),M=x.map((function(e){return p(e,S)}),!0);f=t.Matrix.cMatrix(0,S);var E=t.Matrix.cMatrix(a,S);c=0;do{if(c>q)break;l=w(S,E),v=E.clone(),k.forEach((function(e,t){E.set(t,0,e.apply(null,l))}));var U=new t.Matrix;if(M.each((function(e,t,r){var n=e.apply(null,l);U.set(t,r,n)})),U=U.invert(),h=(u=r.multiply(U,E).negate()).subtract(f,(function(e){return r.parse(Number(e))})),f=v.add(u,(function(e){return r.parse(Number(e))})),E=f,c>=d&&m>1){i===s&&(a=0);var N=i>s?1:-1;return n=i%Math.floor(s)+1,a+=N*n*y,A.solveNonLinearSystem(e,--i,a)}if(g=m,c++,m=h.max(),Number(m)===Number(g))break}while(Number(m)>=Number.EPSILON);return b?A.systemSolutions(E,S,!0,(function(e){return t.Utils.round(Number(e),14)})):[]},systemSolutions:function(e,n,i,a){var o=t.Settings.SOLUTIONS_AS_OBJECT?{}:[];return e.each((function(e,s){var l=(i?r.expand(e):e).valueOf();a&&(l=a.call(e,l));var u=n[s];t.Settings.SOLUTIONS_AS_OBJECT?o[u]=l:o.push([u,l])})),o},solveSystemBySubstitution:function(e){var r=v(e[0]),n=v(e[1]);return 2===e.length&&2===r.length&&t.Utils.arrayEqual(r,n)?A.solveCircle(e,r):[]},solveSystem:function(e,n){for(var o=0;o<e.length;o++)e[o]=A.toLHS(e[o]);var l,c=e.length,p=new t.Matrix,f=new t.Matrix,g=!1;if(void 0===n){if(!a.allLinear(e))try{return A.solveNonLinearSystem(e)}catch(d){if(d instanceof t.exceptions.DivisionByZero)return A.solveSystemBySubstitution(e)}if(1===(l=t.Utils.arrayGetVariables(e)).length){var v,h=0;do{var d=e[h].clone();h>0&&(d=d.sub(l[0],v[0])),v=U(d,l[0])}while(++h<e.length);return S.SOLUTIONS_AS_OBJECT?(w={})[l[0]]=v:w=0===v.length?v:[l[0],v],w}if(l.length<e.length){var y=[];for(h=e.length,o=0;o<h-1;o++)y.push(r.parse(e[o]));var b={},w=A.solveSystem(y,l);Array.isArray(w)?w.forEach((function(e){b[e[0]]=e[1]})):b=w;var x=!0;for(o=h-1;o<h;o++)r.parse(e[o],b).equals(0)||(x=!1);if(x)return w}for(o=0;o<l.length;o++)i.setVar(l[o],"delete");for(o=0;o<c;o++){d=e[o];for(var q=0;q<l.length;q++){var k=l[q],M=[];d.each((function(e){e.contains(k)&&(M=M.concat(e.coeffs()))}));var E=t.Utils.arraySum(M);p.set(o,q,E)}var N=d.clone();l.map((function(e){N=N.stripVar(e,!0)})),f.set(o,0,N.negate())}}else for(l=n,g=!0,o=0;o<c;o++){f.set(o,0,new m(0));for(d=r.expand(e[o]).collectSymbols(),q=0;q<n.length;q++){p.set(o,q,new m(0));k=n[q];for(var L=0;L<d.length;L++){for(var _=d[L],O=!1,T=0;T<n.length;T++)_.contains(n[T])&&(O&&t.err("Multiple variables found for term "+_),O=!0);if(_.contains(k)){var I=s(u(d,L),k);p.set(o,q,r.add(p.get(o,q),I[0]))}}}for(L=0;L<d.length;L++)f.set(o,0,r.add(f.get(o,0),d[L]))}if(l.length!==e.length||p.determinant().equals(0))throw new t.exceptions.SolveError("System does not have a distinct solution");var C=(p=p.invert()).multiply(f);return t.Utils.isArray(n)&&C.each((function(e){return e.negate()})),A.systemSolutions(C,l,g)},quad:function(e,t,n){var i=r.subtract(r.pow(t.clone(),m(2)),r.multiply(r.multiply(n.clone(),e.clone()),m(4)));i=r.expand(i);var a=r.pow(i,m(.5)),o=r.parse(r.multiply(new m(2),n.clone()));return[r.parse(c("(-({0})+({1}))/({2})",t,a,o)),r.parse(c("(-({0})-({1}))/({2})",t,a,o))]},cubic:function(e,t,n,i){var a=i.text(),o=n.text(),s=t.text(),l=e.text(),u="(-(".concat(o,")^3/(27*(").concat(a,")^3)+(").concat(o,")*(").concat(s,")/(6*(").concat(a,")^2)-(").concat(l,")/(2*(").concat(a,")))"),c="((".concat(s,")/(3*(").concat(a,"))-(").concat(o,")^2/(9*(").concat(a,")^2))"),p="(".concat(o,")/(3*(").concat(a,"))"),f="((".concat(u,")+sqrt((").concat(u,")^2+(").concat(c,")^3))^(1/3)+((").concat(u,")-sqrt((").concat(u,")^2+(").concat(c,")^3))^(1/3)-(").concat(p,")"),m="1/2+sqrt(3)/2*i";return[r.parse(f),r.parse("(".concat(f,")(").concat(m,")")),r.parse("(".concat(f,")(").concat(m,")^2"))]},quartic:function(e,n,i,a,o){var s,l,u,p,f,m={};return t.Utils.arrayUnique(v(o).concat(v(a)).concat(v(i)).concat(v(n)).concat(v(e))).map((function(e){m[e]=1})),o=o.toString(),a=a.toString(),i=i.toString(),n=n.toString(),e=e.toString(),s=r.parse(c("(8*({0})*({2})-3*({1})^2)/(8*({0})^2)",o,a,i)).toString(),l=r.parse(c("(({1})^3-4*({0})*({1})*({2})+8*({0})^2*({3}))/(8*({0})^3)",o,a,i,n)).toString(),u=r.parse(c("12*({0})*({4})-3*({1})*({3})+({2})^2",o,a,i,n,e)).toString(),p=r.parse(c("2*({2})^3-9*({1})*({2})*({3})+27*({1})^2*({4})+27*({0})*({3})^2-72*({0})*({2})*({4})",o,a,i,n,e)).toString(),f=r.parse(c("((({1})+(({1})^2-4*({0})^3)^(1/2))/2)^(1/3)",u,p)).toString(),h=r.parse(c("(1/2)*(-(2/3)*({1})+(1/(3*({0}))*(({2})+(({3})/({2})))))^(1/2)",o,s,f,u)).toString(),[r.parse(c("-(({1})/(4*({0})))-({4})+(1/2)*sqrt(-4*({4})^2-2*({2})+(({3})/({4})))",o,a,s,l,h)),r.parse(c("-(({1})/(4*({0})))-({4})-(1/2)*sqrt(-4*({4})^2-2*({2})+(({3})/({4})))",o,a,s,l,h)),r.parse(c("-(({1})/(4*({0})))+({4})+(1/2)*sqrt(-4*({4})^2-2*({2})-(({3})/({4})))",o,a,s,l,h)),r.parse(c("-(({1})/(4*({0})))+({4})-(1/2)*sqrt(-4*({4})^2-2*({2})-(({3})/({4})))",o,a,s,l,h))]},divideAndConquer:function(e,r){var n=[],i=t.Algebra.Factor.factor(e);return i.group===y&&i.each((function(e){e=m.unwrapPARENS(e),n=n.concat(U(e,r))})),n},csolve:function(e,n){return t.Utils.block("IGNORE_E",(function(){var i,a,o,s,l,u,p,f;if(f=[],(i=t.Utils.decompose_fn(e,n,!0)).x.group===h){var g,v;a=r.parse(i.x.power),o=Number(a),s=r.pow(r.divide(i.b.negate(),i.a),a.invert()),u=(l=m.toPolarFormArray(s))[0],l[1],p=u.toString(),a.toString();for(var d=0;d<o;d++)v=c("({0})*e^(2*{1}*pi*{2}*{3})",p,d,a,t.Settings.IMAGINARY),g=r.parse(v),f.push(g)}return f}),!0)},getPoints:function(e,r,n){r=r||.01,n=n||[];var i=p(e),a=Math.round(0),o=i(a),s=o/Math.abs(o),l=t.Settings.ROOTS_PER_SIDE,u=l;n.push(Math.floor(a/2)),n.push(Math.abs(a)),n.push(a),e.each((function(e){e.containsFunction(t.Settings.LOG)&&n.push(.1)}));var c=x(-t.Settings.SOLVE_RADIUS,a,r),f=x(a,t.Settings.SOLVE_RADIUS,r),m=function(e,t){for(var r,a,o,l=[],u=0,c=e.length;u<c;u++)r=e[u],o=(a=i(r))/Math.abs(a),isNaN(a)||!isFinite(a)||l.length>t||(o!==s&&l.push(r),s=o);n=n.concat(l)};return m(c,u),m(f,l),n},bisection:function(e,r){var n=e-1,i=e+1;if(Math.sign(r(n))!==Math.sign(r(i))){var a,o,s=0;do{if(a=Math.abs(i-n),s++>t.Settings.MAX_BISECTION_ITER||isNaN(a))return;o=(n+i)/2,r(n)*r(o)>0?n=o:i=o}while(a>=S.EPSILON);var l=(n+i)/2,u=r(l);if(!isNaN(u)&&Math.abs(u)<=t.Settings.BI_SECTION_EPSILON)return t.Utils.round(l,13)}},Newton:function(e,r,n){var i,a=t.Settings.MAX_NEWTON_ITERATIONS,o=0,s=e;do{var l=r(s);if(0===s&&0===l){i=0;break}if(++o>a)return;i=s-l/n(s);var u=Math.abs(i-s);s=i}while(u>S.NEWTON_EPSILON);if(Math.abs(r(i))<=S.EPSILON)return i},rewrite:function(e,n,i){if(n=n||new m(0),e.isComposite()&&e.isLinear()){var a=[],o=[];e.each((function(e){"sqrt"===(e=e.clone()).fname&&e.contains(i)?a.push(e):o.push(e)}),!0),1===a.length&&(n=r.expand(r.pow(r.subtract(n,t.Utils.arraySum(o)),new m(2))),e=r.expand(r.pow(m.unwrapSQRT(a[0]),new m(2))))}else e=m.unwrapSQRT(r.expand(e));var s=0,l=e.length;if(e.group===b&&e.contains(i)&&e.isLinear()){e.distributeMultiplier();var u=new m(0);return e.each((function(e){e.contains(i)?(s++,u=r.add(u,e.clone())):n=r.subtract(n,e.clone())})),e=u,s!==l?A.rewrite(e,n,i):[e,n]}if(e.group===y&&e.contains(i)&&e.isLinear()){if(e.multiplier.lessThan(0)&&(e.multiplier=e.multiplier.multiply(new t.Frac(-1)),n.multiplier=n.multiplier.multiply(new t.Frac(-1))),n.equals(0))return new m(0);u=new m(1);return e.each((function(e){e.contains(i)?u=r.multiply(u,e.clone()):n=r.divide(n,e.clone())})),e=u,A.rewrite(e,n,i)}if(!e.isLinear()&&e.contains(i)){var c=r.parse(e.power.clone().invert());return e=r.pow(e,c.clone()),n=r.pow(r.expand(n),c.clone()),A.rewrite(e,n,i)}if(e.group===w||e.group===h||e.group===d)return[e,n]},sqrtSolve:function(e,t){var n=new m(0),i=new m(0);if(e.isComposite()&&(e.each((function(e){"sqrt"===e.fname&&e.contains(t)?n=r.add(n,e.clone()):i=r.add(i,e.clone())})),!n.equals(0))){var a=r.expand(r.multiply(r.parse(e.multiplier),r.subtract(r.pow(i,new m(2)),r.pow(n,new m(2))))),o=U(a,t);return o=o.filter((function(r){if(r.isImaginary())return r;var n={};return n[t]=r,l(e,n).equals(0)?r:void 0}))}}},U=function e(n,i,u,c,f){if(c=c||0,c++>S.MAX_SOLVE_DEPTH)return u;if(n instanceof k){if(n.isZero())return[new m(0)];if(n.LHS.equals(i)&&!n.RHS.contains(i))return[n.RHS];if(n.RHS.equals(i)&&!n.LHS.contains(i))return[n.LHS]}if(n instanceof t.Vector&&(n=n.elements),i=i||"x",q(n))return A.solveSystem.apply(void 0,arguments);u=u||[];var v={},x={};if(x[i]=0,g(n)&&!0===l(n.getDenom(),x).equals(0))return u;var M=function e(n,i){var a=g(n);if(!(void 0===n||"number"==typeof n&&isNaN(n)))if(q(n))n.forEach((function(t){e(t)}));else if("null"!==n.valueOf()){if("function"==typeof t.Settings.PRE_ADD_SOLUTION&&(n=t.Settings.PRE_ADD_SOLUTION(n)),a||(n=r.parse(n)),t.Settings.make_pi_conversions&&i){var o=r.divide(n.clone(),new m(Math.PI)),s=o.multiplier,l=Math.abs(s.num),c=Math.abs(s.den);l<10&&c<10&&(n=r.multiply(o,new m("pi")))}var p=n.toString();v[p]||u.push(n),v[p]=!0}};if(n.group===h&&n.contains(i)){try{var U={};U[i]=0,l(f,U,"numer"),M(new m(0))}catch(ve){}return u}if(n.group===y){var N=n.getNum();if(N.group===y){var L=String(i);return N.each((function(t){t.contains(L)&&e(t,i,u,c,n)})),u}return e(N,i,u,c,f)}n.group===w&&"sqrt"===n.fname&&(n=r.pow(m.unwrapSQRT(n),new m(2)));var _=(t.Utils.isSymbol(n)?n:A.toLHS(n,!1)).getNum(),O=t.Utils.variables(_),T=O.length;if(t.Utils.isInt(_.power)&&_.power>0&&(_=r.parse(_).toLinear()),_.group===h||_.group===y&&_.contains(i))return[new m(0)];var I,C={},P=function e(n){var a=(n=r.expand(n,{expand_denominator:!0,expand_functions:!0})).clone();if(n.symbols)for(var o in n.symbols){var l=n.symbols[o],u=l.getDenom();if(!u.isConstant(!0)&&n.isComposite()){var c=new m(0);return n.each((function(e){c=r.add(c,r.multiply(e,u.clone()))})),e(r.multiply(r.parse(n.multiplier),c))}var p=s(l,i),f=p[1].fname===t.Settings.SQRT,v=m.unwrapSQRT(p[1]),h=v.power.clone();if(!g(h)&&!h.equals(.5))if(h.den.gt(1)){if(f)return n=r.subtract(n,l.clone()),e(n=r.add(n,r.multiply(p[0].clone(),v)));var y=C[h.den];C[h.den]=y?y++:1}else{if(-1===h.sign()){var b=r.parse(i+"^"+Math.abs(h));return n.each((function(e,t){e.contains(i)&&(n.symbols[t]=r.multiply(e,b.clone()))})),C={},e(r.parse(n))}if(l.group===d){var w=t.Utils.arrayMin(t.Utils.keys(l.symbols));if(w<0){b=r.parse(i+"^"+Math.abs(w));var S=new m(0);return a.each((function(e){S=r.add(S,r.multiply(e.clone(),b.clone()))}),!0),S}}}}return n},R=function(e){var t=new m(0),n=new m(0);return e.each((function(e){e.contains(i,!0)?t=r.add(t,e.clone()):n=r.subtract(n,e.clone())})),[t,n]};if(A.inverseFunctionSolve=function(e,t,n){var a=s(t.args[0],i);if(a[1].group===h)return r.divide(r.symfunction(e,[r.divide(n,r.parse(t.multiplier))]),a[0])},(_=P(_)).equals(0))return[_];var F=t.Utils.keys(C);if(1===F.length&&(I=F[0],_.each((function(e,n){if(e.contains(i)){var a=s(e,i),o=a[1],l=o.power;l.den.gt(1)&&(o.power=l.multiply(new t.Frac(I)),_.symbols[n]=r.multiply(o,a[0]))}})),_=r.parse(_)),M(A.sqrtSolve(_,i)),1===T)if(_.isPoly(!0)){var D=new t.Algebra.Classes.Factors;if(t.Algebra.Factor.factor(_,D),D.getNumberSymbolics()>1)for(var j in D.factors)M(e(D.factors[j],i));else{var H=(ne=t.Utils.getCoeffs(_,i)).length-1,V=!1;if(O[0]===i){if(E(ne,(function(e){return e.group!==t.groups.N}))){var B=t.Algebra.proots(_);E(B,(function(e){return!t.Utils.isInt(e)}))&&(V=!0,B.map((function(e){M(new m(e))})))}if(!V)if((n=r.parse(n))instanceof t.Equation&&(n=n.toLHS()),1===H)M(r.divide(ne[0],ne[1].negate()));else if(2===H)M(r.expand(A.quad.apply(void 0,ne)));else if(3===H){u=[];var G=t.Algebra.Factor.factor(n);(u=[]).length>0?M(u):M(A.cubic.apply(void 0,ne))}else a.proots(_).map(M)}}}else try{var z,Z,Q,X=_.hasTrig(),Y=A.getPoints(_,.1),K=A.getPoints(_,.05),W=A.getPoints(_,.01),J=t.Utils.arrayUnique(Y.concat(K).concat(W)).sort((function(e,t){return e-t})),$=p(_.clone()),ee=[];for(z=0;z<J.length;z++)Z=J[z],void 0!==(Q=A.bisection(Z,$))?M(Q,X):ee.push(Z);J=ee;var te=o.diff(_.clone()),re=p(te);for(z=0;z<J.length;z++)Z=J[z],M(A.Newton(Z,$,re),X);u.sort()}catch(ve){console.log(ve)}else if(!_.hasFunc(i)&&_.isComposite())try{if((G=t.Algebra.Factor.factor(_.clone())).group===y)G.each((function(t){M(e(t,i))}));else{var ne,ie=(ne=t.Utils.getCoeffs(_,i)).length;switch(H=ie-1){case 0:var ae=(fe=R(_))[0],oe=fe[1];if(ae.group===t.groups.EX){var se=t.Settings.LOG,le="".concat(se,"((").concat(oe,")/(").concat(ae.multiplier,"))/").concat(se,"(").concat(ae.value,")/").concat(ae.power.multiplier);M(r.parse(le))}break;case 1:M(r.divide(ne[0],ne[1].negate()));break;case 2:M(A.quad.apply(void 0,ne));break;case 3:M(A.cubic.apply(void 0,ne));break;case 4:M(A.quartic.apply(void 0,ne));break;default:M(A.csolve(_,i)),0===u.length&&M(A.divideAndConquer(_,i))}0===u.length&&M(e(G,i,u,c))}}catch(ve){}else try{var ue=A.rewrite(_,null,i);ae=ue[0],oe=ue[1];if(ae.group===w)if("abs"===ae.fname)M([oe.clone(),oe.negate()]);else if("sin"===ae.fname)M(A.inverseFunctionSolve("asin",ae,oe));else if("cos"===ae.fname)M(A.inverseFunctionSolve("acos",ae,oe));else if("tan"===ae.fname)M(A.inverseFunctionSolve("atan",ae,oe));else if(ae.fname===t.Settings.LOG){var ce=s(ae.args[0],i);if((j=ce[1]).group===h){_=new k(j,oe=r.divide(r.subtract(r.pow(ae.args.length>1?ae.args[1]:new m("e"),r.divide(oe,r.parse(ae.multiplier))),ce[3]),ce[0])).toLHS();M(e(_,i))}}else M(r.subtract(ae,oe));else{var pe=new k(ae,oe).toLHS();if(pe.equals(_))throw new Error("Stopping. No stop condition exists");M(e(pe,i))}}catch(he){try{if(_.group===y)M(0);else if(_.group===b){var fe;ae=(fe=R(_))[0],oe=fe[1];if(ae.group===t.groups.EX&&ae.value===i){var me=ae.power.clone().invert();M(r.pow(oe,me))}}}catch(he){}}if(I&&(u=u.map((function(e){return r.pow(e,new m(I))}))),g(n)){var ge={};u=u.filter((function(e){try{ge[i]=e;var t=Number(l(n,ge));return isNaN(t),!0}catch(ve){return!1}}))}return u};i.register([{name:"solveEquations",parent:"nerdamer",numargs:-1,visible:!0,build:function(){return U}},{name:"solve",parent:"Solve",numargs:2,visible:!0,build:function(){return t.Solve.solve}},{name:"setEquation",parent:"Solve",visible:!0,build:function(){return M}}]),i.updateAPI()}()},9107:function(e,t,r){var n=r(1825);r(1133),r(48),r(4824),r(4596),e.exports=n},9483:function(e,t,r){var n=r(4411),i=r(6330),a=TypeError;e.exports=function(e){if(n(e))return e;throw a(i(e)+" is not a constructor")}},1530:function(e,t,r){"use strict";var n=r(8710).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},8544:function(e,t,r){var n=r(7293);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},6178:function(e){e.exports=function(e,t){return{value:e,done:t}}},7850:function(e,t,r){var n=r(111),i=r(4326),a=r(5112)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},3061:function(e,t,r){"use strict";var n=r(3383).IteratorPrototype,i=r(30),a=r(9114),o=r(8003),s=r(7497),l=function(){return this};e.exports=function(e,t,r,u){var c=t+" Iterator";return e.prototype=i(n,{next:a(+!u,r)}),o(e,c,!1,!0),s[c]=l,e}},3383:function(e,t,r){"use strict";var n,i,a,o=r(7293),s=r(614),l=r(111),u=r(30),c=r(9518),p=r(8052),f=r(5112),m=r(1913),g=f("iterator"),v=!1;[].keys&&("next"in(a=[].keys())?(i=c(c(a)))!==Object.prototype&&(n=i):v=!0),!l(n)||o((function(){var e={};return n[g].call(e)!==e}))?n={}:m&&(n=u(n)),s(n[g])||p(n,g,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:v}},7497:function(e){e.exports={}},9518:function(e,t,r){var n=r(2597),i=r(614),a=r(7908),o=r(6200),s=r(8544),l=o("IE_PROTO"),u=Object,c=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=a(e);if(n(t,l))return t[l];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof u?c:null}},7651:function(e,t,r){var n=r(6916),i=r(9670),a=r(614),o=r(4326),s=r(2261),l=TypeError;e.exports=function(e,t){var r=e.exec;if(a(r)){var u=n(r,e,t);return null!==u&&i(u),u}if("RegExp"===o(e))return n(s,e,t);throw l("RegExp#exec called on incompatible receiver")}},2261:function(e,t,r){"use strict";var n,i,a=r(6916),o=r(1702),s=r(1340),l=r(7066),u=r(2999),c=r(2309),p=r(30),f=r(9909).get,m=r(9441),g=r(7168),v=c("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,d=h,y=o("".charAt),b=o("".indexOf),w=o("".replace),S=o("".slice),x=(i=/b*/g,a(h,n=/a/,"a"),a(h,i,"a"),0!==n.lastIndex||0!==i.lastIndex),q=u.BROKEN_CARET,k=void 0!==/()??/.exec("")[1];(x||k||q||m||g)&&(d=function(e){var t,r,n,i,o,u,c,m=this,g=f(m),M=s(e),E=g.raw;if(E)return E.lastIndex=m.lastIndex,t=a(d,E,M),m.lastIndex=E.lastIndex,t;var A=g.groups,U=q&&m.sticky,N=a(l,m),L=m.source,_=0,O=M;if(U&&(N=w(N,"y",""),-1===b(N,"g")&&(N+="g"),O=S(M,m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&"\n"!==y(M,m.lastIndex-1))&&(L="(?: "+L+")",O=" "+O,_++),r=new RegExp("^(?:"+L+")",N)),k&&(r=new RegExp("^"+L+"$(?!\\s)",N)),x&&(n=m.lastIndex),i=a(h,U?r:m,O),U?i?(i.input=S(i.input,_),i[0]=S(i[0],_),i.index=m.lastIndex,m.lastIndex+=i[0].length):m.lastIndex=0:x&&i&&(m.lastIndex=m.global?i.index+i[0].length:n),k&&i&&i.length>1&&a(v,i[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&A)for(i.groups=u=p(null),o=0;o<A.length;o++)u[(c=A[o])[0]]=i[c[1]];return i}),e.exports=d},7066:function(e,t,r){"use strict";var n=r(9670);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},4706:function(e,t,r){var n=r(6916),i=r(2597),a=r(7976),o=r(7066),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!a(s,e)?t:n(o,e)}},2999:function(e,t,r){var n=r(7293),i=r(7854).RegExp,a=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=a||n((function(){return!i("a","y").sticky})),s=a||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},9441:function(e,t,r){var n=r(7293),i=r(7854).RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:function(e,t,r){var n=r(7293),i=r(7854).RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},8003:function(e,t,r){var n=r(3070).f,i=r(2597),a=r(5112)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,a)&&n(e,a,{configurable:!0,value:t})}},6707:function(e,t,r){var n=r(9670),i=r(9483),a=r(8554),o=r(5112)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||a(r=n(s)[o])?t:i(r)}},8710:function(e,t,r){var n=r(1702),i=r(9303),a=r(1340),o=r(4488),s=n("".charAt),l=n("".charCodeAt),u=n("".slice),c=function(e){return function(t,r){var n,c,p=a(o(t)),f=i(r),m=p.length;return f<0||f>=m?e?"":void 0:(n=l(p,f))<55296||n>56319||f+1===m||(c=l(p,f+1))<56320||c>57343?e?s(p,f):n:e?u(p,f,f+2):c-56320+(n-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},1340:function(e,t,r){var n=r(648),i=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},6373:function(e,t,r){"use strict";var n=r(2109),i=r(6916),a=r(1702),o=r(3061),s=r(6178),l=r(4488),u=r(7466),c=r(1340),p=r(9670),f=r(8554),m=r(4326),g=r(7850),v=r(4706),h=r(8173),d=r(8052),y=r(7293),b=r(5112),w=r(6707),S=r(1530),x=r(7651),q=r(9909),k=r(1913),M=b("matchAll"),E="RegExp String",A="RegExp String Iterator",U=q.set,N=q.getterFor(A),L=RegExp.prototype,_=TypeError,O=a("".indexOf),T=a("".matchAll),I=!!T&&!y((function(){T("a",/./)})),C=o((function(e,t,r,n){U(this,{type:A,regexp:e,string:t,global:r,unicode:n,done:!1})}),E,(function(){var e=N(this);if(e.done)return s(void 0,!0);var t=e.regexp,r=e.string,n=x(t,r);return null===n?(e.done=!0,s(void 0,!0)):e.global?(""===c(n[0])&&(t.lastIndex=S(r,u(t.lastIndex),e.unicode)),s(n,!1)):(e.done=!0,s(n,!1))})),P=function(e){var t,r,n,i=p(this),a=c(e),o=w(i,RegExp),s=c(v(i));return t=new o(o===RegExp?i.source:i,s),r=!!~O(s,"g"),n=!!~O(s,"u"),t.lastIndex=u(i.lastIndex),new C(t,a,r,n)};n({target:"String",proto:!0,forced:I},{matchAll:function(e){var t,r,n,a,o=l(this);if(f(e)){if(I)return T(o,e)}else{if(g(e)&&(t=c(l(v(e))),!~O(t,"g")))throw _("`.matchAll` does not allow non-global regexes");if(I)return T(o,e);if(void 0===(n=h(e,M))&&k&&"RegExp"==m(e)&&(n=P),n)return i(n,e,o)}return r=c(o),a=new RegExp(e,"g"),k?i(P,a,r):a[M](r)}}),k||M in L||d(L,M,P)},3728:function(e,t,r){r(6373)},5718:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(7294),i=(r(1082),function(){return n.createElement("footer",{className:"credits"},n.createElement("p",{style:{fontSize:"0.75em"}},'"Alex Colwell & Nikolai Tan 2022"'))}),a=function(e){var t=e.children;return n.createElement("div",{className:"container"},t,n.createElement(i,null))}},2824:function(e,t,r){"use strict";r.d(t,{Z:function(){return nt}});var n=r(5785),i=(r(3728),r(7294)),a=r(5900),o=r.n(a);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e,t,r){return m=f()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&p(i,r.prototype),i},m.apply(null,arguments)}function g(e){var t="function"==typeof Map?new Map:void 0;return g=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return m(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,e)},g(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?v(e):t}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(m,e);var t,r,n,i,a,o=(t=m,r=f(),function(){var e,n=c(t);if(r){var i=c(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return h(this,e)});function m(e,t,r,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),l(v(i=o.call(this,"Internal ".concat(r," parse error"))),"start",void 0),l(v(i),"end",void 0),l(v(i),"type",void 0),l(v(i),"values",void 0),i.type=r,i.start=e,i.end=t,i.values=n,i}return n=m,i=[{key:"getParserError",value:function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:"parser-error",errorType:this.type,start:this.start,end:this.end,equation:e},this.values)}}],i&&s(n.prototype,i),a&&s(n,a),m}(g(Error)),y={"=":"equals","<":"less-than",">":"greater-than","≤":"less-than-equals","≥":"greater-than-equals","≈":"approximates","+":"plus","-":"minus","−":"minus","±":"plus-minus"," ":"multiply-implicit","*":"multiply-dot","∗":"multiply-dot","⋅":"multiply-dot","×":"multiply-cross","✕":"multiply-cross","/":"divide-fraction","∕":"divide-fraction","÷":"divide-inline","^":"power","?":"operator-placeholder"},b=/\s/,w=/[0-9.]/,S=/[0-9A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u01BF\u0391-\u03c9'"%‰°_∞]/,x=/^([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/;function q(e,t,r){var n=r;do{n++}while(n<e.length&&t.test(e[n]));return n}function k(e,t){throw new Error(t(e&&e.type||"unknown"))}var M={equals:1,"less-than":1,"greater-than":1,"less-than-equals":1,"greater-than-equals":1,approximates:1,plus:2,minus:2,"plus-minus":2,"multiply-implicit":3,"multiply-dot":3,"multiply-cross":3,"divide-fraction":3,"divide-inline":3,power:4,"operator-placeholder":5},E={plus:"positive",minus:"negative","plus-minus":"positive-negative","operator-placeholder":"operator-unary-placeholder"},A=["power"],U=function(e,t,r){var n,i=[],a=r;do{(n=N(e,t,a)).result&&i.push(n.result),a=n.last+1}while("comma"===n.terminator);return{results:i,terminator:n.terminator,last:n.last}},N=function e(t,r,n){for(var i=[],a=[],o=function(e){return r[e]?r[e].type:void 0},s=function(e){return r[e]&&r[e].position},l=function(e){var t=i.pop(),r=i.pop(),n=E[e.value];if(r&&t)i.push({type:e.value,a:r,b:t});else{if(!n||!t)throw t?new d(e.position,e.position,"invalidUnary",{symbol:e.symbol}):new Error("Unexpected parser state, operator with no operands");i.push({type:n,value:t})}},u=function(e,t){if("operator"===r[t-1].type)throw new d(s(t-1),s(t-1),"operatorLast",{});for(;a.length>0;)l(a.pop());if(i.length>1)throw new d(s(n),s(t-1),"multipleExpressions",{});return 0===i.length?{result:null,terminator:e,last:t}:{result:i[0],terminator:e,last:t}},c=n;c<r.length;c++){var p=r[c];switch(p.type){case"number":i.push({type:"number",value:p.value});break;case"name":if("parens-open"===o(c+1)){var f=U(t,r,c+2),m=f.results,g=f.last;if("parens-close"!==f.terminator)throw new d(s(c+1),s(g-1),"expectedCloseParens",{});"_"===p.value?i.push({type:"function-placeholder",args:m}):i.push({type:"function",name:p.value,args:m}),c=g}else"_"===p.value?i.push({type:"operand-placeholder"}):i.push({type:"variable",name:p.value});break;case"matrix-open":if("matrix-open"===o(c+1)){for(var v=[],h=c+1;"matrix-open"===o(h);){var y=U(t,r,h+1),b=y.results,w=y.last;if("matrix-close"!==y.terminator)throw new d(s(h),s(w-1),"expectedSquareBracket",{});if(v.length>0&&v[0].length!==b.length)throw new d(s(h),s(w),"matrixMixedDimension",{lengthExpected:v[0].length,lengthReceived:b.length});if(0===b.length)throw new d(s(h),s(w),"matrixEmpty",{});v.push(b),h=w+1}if("matrix-close"!==o(h))throw new d(s(c),s(h-1),"expectedSquareBracket",{});i.push({type:"matrix",n:v[0].length,m:v.length,values:v}),c=h}else{var S=U(t,r,c+1),x=S.results,q=S.last;if("matrix-close"!==S.terminator)throw new d(s(c),s(q-1),"expectedSquareBracket",{});if(0===x.length)throw new d(s(c),s(q),"vectorEmpty",{});i.push({type:"matrix",n:1,m:x.length,values:x.map((function(e){return[e]}))}),c=q}break;case"parens-open":var N=e(t,r,c+1),L=N.result,_=N.last;if("parens-close"!==N.terminator)throw new d(s(c),s(_-1),"expectedCloseParens",{});if(null===L)throw new d(s(c),s(_),"emptyBlock",{});i.push({type:"block",child:L}),c=_;break;case"operator":for(;a.length>0;){var O=a[a.length-1],T=M[p.value],I=M[O.value];if(I<T||A.includes(O.value)&&I===T)break;a.pop(),l(O)}a.push(p);break;case"comma":case"parens-close":case"matrix-close":return u(p.type,c);default:k(p,(function(e){return'Equation render: cannot resolve type "'.concat(e,'"')}))}}return u("end",r.length)},L=function(e){try{var t=function(e){for(var t=[],r=null,n=0;n<e.length;n++){var i=e[n];if(!b.test(i)){if(w.test(i)){var a=q(e,w,n);if("number"===r)throw new d(t[t.length-1].position,a-1,"numberWhitespace",{});"name"!==r&&"parens-close"!==r&&"matrix-close"!==r||t.push({type:"operator",value:"multiply-implicit",symbol:" ",position:n});var o=e.substring(n,a);if(!x.test(o))throw new d(n,a-1,"invalidNumber",{});t.push({type:"number",value:o,position:n}),n=a-1}else if(S.test(i)){"number"!==r&&"name"!==r&&"parens-close"!==r&&"matrix-close"!==r||t.push({type:"operator",value:"multiply-implicit",symbol:" ",position:n});var s=q(e,S,n);t.push({type:"name",value:e.substring(n,s),position:n}),n=s-1}else if(i in y){if("operator"===r)throw new d(n-1,n,"adjecentOperator",{});t.push({type:"operator",value:y[i],symbol:i,position:n})}else if("("===i)"number"!==r&&"parens-close"!==r&&"matrix-close"!==r||t.push({type:"operator",value:"multiply-implicit",symbol:" ",position:n}),t.push({type:"parens-open",position:n});else if(")"===i)t.push({type:"parens-close",position:n});else if("["===i)"number"!==r&&"name"!==r&&"parens-close"!==r||t.push({type:"operator",value:"multiply-implicit",symbol:" ",position:n}),t.push({type:"matrix-open",position:n});else if("]"===i)t.push({type:"matrix-close",position:n});else{if(","!==i)throw new d(n,n,"invalidChar",{character:i});t.push({type:"comma",position:n})}r=t[t.length-1].type}}return t}(e),r=N(e,t,0),n=r.result,i=r.last;if("end"!==r.terminator)throw new d(t[i].position,t[i].position,"expectedEnd",{});if(null===n)throw new d(0,0,"expectedEnd",{});return n}catch(a){if(a instanceof d)return a.getParserError(e);throw a}};function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function F(e,t,r){return F=R()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&P(i,r.prototype),i},F.apply(null,arguments)}function D(e){var t="function"==typeof Map?new Map:void 0;return D=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return F(e,arguments,C(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),P(n,e)},D(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?j(e):t}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){i=!0,a=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||G(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(s,e);var t,r,n,i,a,o=(t=s,r=R(),function(){var e,n=C(t);if(r){var i=C(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return H(this,e)});function s(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),O(j(n=o.call(this,"Internal ".concat(e," parse error"))),"type",void 0),O(j(n),"errorNode",void 0),O(j(n),"values",void 0),n.type=e,n.errorNode=t,n.values=r,n}return n=s,(i=[{key:"getResolveError",value:function(){return I({type:"resolve-error",errorType:this.type,errorNode:this.errorNode},this.values)}}])&&_(n.prototype,i),a&&_(n,a),s}(D(Error)),Q=function(e,t,r){if(e.args.length<t||e.args.length>r)throw new Z("functionArgLength",e,{name:e.name,minArgs:t,maxArgs:r})};function X(e){return"unit"===e.type?e.units:{}}function Y(e){return"unit"===e.type?e.value:e}function K(e,t){var r=Object.keys(e);return r.length===Object.keys(t).length&&r.every((function(r){return e[r]===t[r]}))}function W(e){return 0===Object.keys(e).length}function J(e,t,r){for(var n=$(e,(function(e,n){return r(e,t[n]||0,n)})),i=0,a=Object.entries(t);i<a.length;i++){var o=V(a[i],2),s=o[0],l=o[1];if(!(s in e)){var u=r(0,l,s);0!==u&&(n[s]=u)}}return n}function $(e,t){for(var r={},n=0,i=Object.entries(e);n<i.length;n++){var a=V(i[n],2),o=a[0],s=t(a[1],o);0!==s&&(r[o]=s)}return r}var ee=function(e){return{type:"number",value:e}},te=function(e,t){return{type:"matrix",m:e.m,n:e.n,values:e.values.map((function(e){return e.map(t)}))}};function re(e,t){throw new Error(t(e&&e.type||"unknown"))}var ne=function e(t){var r=t;switch(r.type){case"number":return ee(-r.value);case"matrix":return te(r,(function(t){return e(t)}));case"unit":return{type:"unit",units:I({},r.units),value:e(r.value)};default:return re(r,(function(e){return'Equation resolve: cannot resolve type "'.concat(e,'"')}))}};function ie(e,t,r){return ue(e,t,r,(function(t,r){if(!K(t,r))throw new Z("plusDifferentUnits",e,{});return t}),(function(e,t){return ee(e.value+t.value)}),(function(t,r){return te(r,(function(r){return ie(e,t,r)}))}),(function(t,r){return te(t,(function(t){return ie(e,t,r)}))}),(function(t,r){if(t.n!==r.n||t.m!==r.m)throw new Z("plusMatrixMismatch",e,{aDimensions:"".concat(t.m,"x").concat(t.n),bDimensions:"".concat(r.m,"x").concat(r.n)});return{type:"matrix",m:t.m,n:t.n,values:t.values.map((function(t,n){return t.map((function(t,i){return ie(e,t,r.values[n][i])}))}))}}))}function ae(e,t,r,n){return ue(e,t,r,(function(e,t){return J(e,t,(function(e,t){return e+t}))}),(function(e,t){return ee(e.value*t.value)}),(function(t,r){return te(r,(function(r){return ae(e,t,r,n)}))}),(function(t,r){return te(t,(function(t){return ae(e,t,r,n)}))}),(function(t,r){return 1===t.n&&1===r.n?n(e,t,r):function(e,t,r){if(t.n!==r.m)throw new Z("matrixProductMatrixMismatch",e,{aDimensions:"".concat(t.m,"x").concat(t.n),bDimensions:"".concat(r.m,"x").concat(r.n)});return{type:"matrix",m:t.m,n:r.n,values:t.values.map((function(e,n){return r.values[0].map((function(e,i){return ee(t.values[n].reduce((function(e,t,n){return e+t.value*r.values[n][i].value}),0))}))}))}}(e,t,r)}))}function oe(e,t,r){if(t.m!==r.m)throw new Z("scalarProductUnbalanced",e,{aLength:t.m,bLength:r.m});var n=t.values.reduce((function(e,t,n){return e+t[0].value*r.values[n][0].value}),0);return ee(n)}function se(e,t,r){if(3!==t.m||3!==r.m)throw new Z("vectorProduct3VectorOnly",e,{});return{type:"matrix",n:1,m:3,values:[[ee(t.values[1][0].value*r.values[2][0].value-t.values[2][0].value*r.values[1][0].value)],[ee(t.values[2][0].value*r.values[0][0].value-t.values[0][0].value*r.values[2][0].value)],[ee(t.values[0][0].value*r.values[1][0].value-t.values[1][0].value*r.values[0][0].value)]]}}function le(e,t,r){if("matrix"===t.type&&"matrix"===r.type)throw new Z("divideMatrixMatrix",e,{});if("number"===r.type&&0===r.value)throw new Z("divideNotZero",e,{});if("matrix"===r.type&&r.values.some((function(e){return e.some((function(e){return 0===e.value}))})))throw new Z("divideNotZero",e,{});return ue(e,t,r,(function(e,t){return J(e,t,(function(e,t){return e-t}))}),(function(e,t){return ee(e.value/t.value)}),(function(t,r){return te(r,(function(r){return le(e,t,r)}))}),(function(t,r){return te(t,(function(t){return le(e,t,r)}))}),null)}function ue(e,t,r,n,i,a,o,s){if("unit"===t.type||"unit"===r.type){var l=n(X(t),X(r)),u=ue(e,Y(t),Y(r),n,i,a,o,s);return W(l)?u:{type:"unit",units:l,value:u}}switch(t.type){case"number":switch(r.type){case"number":if(i)return i(t,r);break;case"matrix":if(a)return a(t,r)}break;case"matrix":switch(r.type){case"number":if(o)return o(t,r);break;case"matrix":if(s)return s(t,r)}}throw new Z("operatorInvalidArguments",e,{operator:e.type,a:t.type,b:r.type})}var ce=function e(t,r){switch(t.type){case"number":return{type:"number",value:parseFloat(t.value)};case"variable":return function(e,t){if(!t.variables||!t.variables[e.name])throw new Z("variableUnknown",e,{name:e.name});return t.variables[e.name]}(t,r);case"positive":return e(t.value,r);case"negative":return ne(e(t.value,r));case"positive-negative":case"plus-minus":throw new Z("plusminusUnhandled",t,{});case"block":return e(t.child,r);case"plus":return ie(t,e(t.a,r),e(t.b,r));case"minus":return function(e,t,r){return ie(e,t,ne(r))}(t,e(t.a,r),e(t.b,r));case"multiply-implicit":return function(e,t,r){if("matrix"===t.type&&"matrix"===r.type&&1===t.n&&1===r.n)throw new Z("multiplyImplicitNoVectors",e,{});return ae(e,t,r,oe)}(t,e(t.a,r),e(t.b,r));case"multiply-dot":return function(e,t,r){return ae(e,t,r,oe)}(t,e(t.a,r),e(t.b,r));case"multiply-cross":return function(e,t,r){return ae(e,t,r,se)}(t,e(t.a,r),e(t.b,r));case"divide-fraction":case"divide-inline":return le(t,e(t.a,r),e(t.b,r));case"power":return function(e,t,r){if("number"!==r.type)throw new Z("powerUnitlessNumberExponent",e,{});return ue(e,t,r,(function(e){return $(e,(function(e){return e*r.value}))}),(function(e,t){return ee(Math.pow(e.value,t.value))}),null,(function(e,t){return te(e,(function(e){return ee(Math.pow(e.value,t.value))}))}),null)}(t,e(t.a,r),e(t.b,r));case"function":return function(e,t){if(!t.functions||!t.functions[e.name])throw new Z("functionUnknown",e,{name:e.name});return t.functions[e.name](e,t)}(t,r);case"equals":case"less-than":case"less-than-equals":case"greater-than":case"greater-than-equals":case"approximates":throw new Z("noComparison",t,{});case"matrix":var n=null,i=t.values.map((function(i){return i.map((function(i){var a=e(i,r);if(n){if(!K(n,X(a)))throw new Z("matrixDifferentUnits",t,{})}else n=X(a);var o=Y(a);if("number"!==o.type)throw new Z("matrixNoNesting",t,{});return o}))}));return!n||W(n)?{type:"matrix",m:t.m,n:t.n,values:i}:{type:"unit",units:n,value:{type:"matrix",m:t.m,n:t.n,values:i}};case"function-placeholder":case"operand-placeholder":case"operator-placeholder":case"operator-unary-placeholder":throw new Z("placeholder",t,{});default:return re(t,(function(e){return'Equation resolve: cannot resolve type "'.concat(e,'"')}))}};var pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=arguments.length>3?arguments[3]:void 0;return function(i,a){Q(i,t,r);var o=i.args.map((function(e){return ce(e,a)})),s=o.findIndex((function(e){return"number"!==e.type}));if(-1!==s)throw new Z("functionNumberOnly",i.args[s],{name:i.name});var l=o.map((function(e){return e.value}));if(n){var u=n.apply(void 0,[i.name].concat(B(l)));if(u)throw new Z(u[1],i.args[u[0]],{name:i.name})}return ee(e.apply(void 0,B(l)))}};pe(Math.sin),pe(Math.cos),pe(Math.tan),pe(Math.asin),pe(Math.acos),pe(Math.atan),pe(Math.atan2,2),pe(Math.abs),pe(Math.ceil),pe(Math.floor),pe((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Math.pow(10,t);return Math.round(e*r)/r}),1,2),pe(Math.max,1,1/0),pe(Math.min,1,1/0),pe(Math.pow,2),pe(Math.sqrt,1,1,(function(e,t){if(t<0)return[0,"functionSqrt1Positive"]})),pe((function(e,t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}),2,2,(function(e,t,r){return Math.round(t)!==t||t<=0?[0,"functionRoot1PositiveInteger"]:t%2==0&&r<0?[1,"functionRoot2Positive"]:void 0})),pe(Math.log),pe((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Math.log(e)/Math.log(t)}),1,2),ee(Math.E),ee(Math.PI),ee(Math.PI),ee(1.618033988749895),ee(1.618033988749895),fe(1e-12,{m:1}),fe(1e-9,{m:1}),fe(1e-6,{m:1}),fe(.001,{m:1}),fe(.01,{m:1}),fe(.1,{m:1}),fe(1,{m:1}),fe(1e3,{m:1}),fe(1e6,{m:1}),fe(1e9,{m:1}),fe(254e-9,{m:1}),fe(254e-9,{m:1}),fe(.0254,{m:1}),fe(.0254,{m:1}),fe(.3048,{m:1}),fe(.3048,{m:1}),fe(.9144,{m:1}),fe(1609.344,{m:1}),fe(1852,{m:1}),fe(1852,{m:1}),fe(1e-10,{m:1}),fe(14959787e4,{m:1}),fe(30856776e9,{m:1}),fe(299792458,{m:1}),fe(946073047e7,{m:1}),fe(946073047e10,{m:1}),fe(946073047e13,{m:1}),fe(946073047e16,{m:1}),fe(4046.856,{m:2}),fe(1e4,{m:2}),fe(1e-28,{m:2}),fe(1e-9,{m:3}),fe(1e-6,{m:3}),fe(1e-5,{m:3}),fe(1e-4,{m:3}),fe(.001,{m:3}),fe(568e-6,{m:3}),fe(.00113652,{m:3}),fe(.00454609,{m:3}),fe(473e-6,{m:3}),fe(946e-6,{m:3}),fe(.003785,{m:3}),fe(551e-6,{m:3}),fe(.001101,{m:3}),fe(.004405,{m:3}),fe(1e-12,{kg:1}),fe(1e-9,{kg:1}),fe(1e-6,{kg:1}),fe(.001,{kg:1}),fe(1,{kg:1}),fe(1e3,{kg:1}),fe(1e6,{kg:1}),fe(1e3,{kg:1}),fe(1660539e-33,{kg:1}),fe(1660539e-33,{kg:1}),fe(.00283495,{kg:1}),fe(.453592,{kg:1}),fe(6.350293,{kg:1}),fe(1016,{kg:1}),fe(1e-18,{s:1}),fe(1e-15,{s:1}),fe(1e-12,{s:1}),fe(1e-9,{s:1}),fe(1e-6,{s:1}),fe(.001,{s:1}),fe(1,{s:1}),fe(60,{s:1}),fe(3600,{s:1}),fe(3600,{s:1}),fe(86400,{s:1}),fe(86400,{s:1}),fe(31557600,{s:1}),fe(31557600,{s:1}),fe(1e-9,{s:-1}),fe(1e-6,{s:-1}),fe(.001,{s:-1}),fe(1,{s:-1}),fe(1e3,{s:-1}),fe(1e6,{s:-1}),fe(1e9,{s:-1}),fe(1e12,{s:-1}),fe(1e15,{s:-1}),ee(1),ee(1),ee(.01745329252),ee(.01745329252),ee(.01),ee(.001),fe(1,{K:1}),fe(1,{K:1}),fe(.555556,{K:1}),fe(.555556,{K:1}),fe(273.15,{K:1}),fe(255.372,{K:1}),fe(.27778,{m:1,s:-1}),fe(.44704,{m:1,s:-1}),fe(.514444,{m:1,s:-1}),fe(299792458,{m:1,s:-1}),fe(9.80665,{m:1,s:-2}),fe(1e-9,{kg:1,m:1,s:-2}),fe(1e-6,{kg:1,m:1,s:-2}),fe(.001,{kg:1,m:1,s:-2}),fe(1,{kg:1,m:1,s:-2}),fe(1e3,{kg:1,m:1,s:-2}),fe(1e6,{kg:1,m:1,s:-2}),fe(1e9,{kg:1,m:1,s:-2}),fe(.278014,{kg:1,m:1,s:-2}),fe(4.448222,{kg:1,m:1,s:-2}),fe(9.80665,{kg:1,m:1,s:-2}),fe(1e-9,{kg:1,m:2,s:-2}),fe(1e-6,{kg:1,m:2,s:-2}),fe(.001,{kg:1,m:2,s:-2}),fe(1,{kg:1,m:2,s:-2}),fe(1e3,{kg:1,m:2,s:-2}),fe(1e6,{kg:1,m:2,s:-2}),fe(1e9,{kg:1,m:2,s:-2}),fe(1e12,{kg:1,m:2,s:-2}),fe(1e15,{kg:1,m:2,s:-2}),fe(4.1868,{kg:1,m:2,s:-2}),fe(4186.8,{kg:1,m:2,s:-2}),fe(4186.8,{kg:1,m:2,s:-2}),fe(1e-9,{kg:1,m:2,s:-3}),fe(1e-6,{kg:1,m:2,s:-3}),fe(.001,{kg:1,m:2,s:-3}),fe(1,{kg:1,m:2,s:-3}),fe(1e3,{kg:1,m:2,s:-3}),fe(1e6,{kg:1,m:2,s:-3}),fe(1e9,{kg:1,m:2,s:-3}),fe(1e12,{kg:1,m:2,s:-3}),fe(1e15,{kg:1,m:2,s:-3}),fe(1e-9,{kg:1,m:-1,s:-2}),fe(1e-6,{kg:1,m:-1,s:-2}),fe(.001,{kg:1,m:-1,s:-2}),fe(1,{kg:1,m:-1,s:-2}),fe(1e3,{kg:1,m:-1,s:-2}),fe(1e6,{kg:1,m:-1,s:-2}),fe(1e9,{kg:1,m:-1,s:-2}),fe(1e12,{kg:1,m:-1,s:-2}),fe(1e15,{kg:1,m:-1,s:-2}),fe(6894.75729,{kg:1,m:-1,s:-2}),fe(101325,{kg:1,m:-1,s:-2}),fe(1e5,{kg:1,m:-1,s:-2}),fe(1e-9,{mol:1}),fe(1e-6,{mol:1}),fe(.001,{mol:1}),fe(1,{mol:1}),fe(1e3,{mol:1}),fe(1e6,{mol:1}),fe(1e9,{mol:1}),fe(1e12,{mol:1}),fe(1e15,{mol:1}),fe(6022140857e14,{mol:-1}),fe(1e-9,{cd:1}),fe(1e-6,{cd:1}),fe(.001,{cd:1}),fe(1,{cd:1}),fe(1e3,{cd:1}),fe(1e6,{cd:1}),fe(1e9,{cd:1}),fe(1e12,{cd:1}),fe(1e15,{cd:1}),fe(1e-9,{cd:1}),fe(1e-6,{cd:1}),fe(.001,{cd:1}),fe(1,{cd:1}),fe(1e3,{cd:1}),fe(1e6,{cd:1}),fe(1e9,{cd:1}),fe(1e12,{cd:1}),fe(1e15,{cd:1}),fe(1e-9,{cd:1,m:-2}),fe(1e-6,{cd:1,m:-2}),fe(.001,{cd:1,m:-2}),fe(1,{cd:1,m:-2}),fe(1e3,{cd:1,m:-2}),fe(1e6,{cd:1,m:-2}),fe(1e9,{cd:1,m:-2}),fe(1e12,{cd:1,m:-2}),fe(1e15,{cd:1,m:-2}),fe(1e-9,{A:1}),fe(1e-6,{A:1}),fe(.001,{A:1}),fe(1,{A:1}),fe(1e3,{A:1}),fe(1e6,{A:1}),fe(1e9,{A:1}),fe(1e12,{A:1}),fe(1e15,{A:1}),fe(1e-9,{A:1,s:1}),fe(1e-6,{A:1,s:1}),fe(.001,{A:1,s:1}),fe(1,{A:1,s:1}),fe(1e3,{A:1,s:1}),fe(1e6,{A:1,s:1}),fe(1e9,{A:1,s:1}),fe(1e12,{A:1,s:1}),fe(1e15,{A:1,s:1}),fe(1e-9,{kg:1,m:2,s:-3,A:-1}),fe(1e-6,{kg:1,m:2,s:-3,A:-1}),fe(.001,{kg:1,m:2,s:-3,A:-1}),fe(1,{kg:1,m:2,s:-3,A:-1}),fe(1e3,{kg:1,m:2,s:-3,A:-1}),fe(1e6,{kg:1,m:2,s:-3,A:-1}),fe(1e9,{kg:1,m:2,s:-3,A:-1}),fe(1e12,{kg:1,m:2,s:-3,A:-1}),fe(1e15,{kg:1,m:2,s:-3,A:-1}),fe(1e-9,{kg:-1,m:-2,s:4,A:2}),fe(1e-6,{kg:-1,m:-2,s:4,A:2}),fe(.001,{kg:-1,m:-2,s:4,A:2}),fe(1,{kg:-1,m:-2,s:4,A:2}),fe(1e3,{kg:-1,m:-2,s:4,A:2}),fe(1e6,{kg:-1,m:-2,s:4,A:2}),fe(1e9,{kg:-1,m:-2,s:4,A:2}),fe(1e12,{kg:-1,m:-2,s:4,A:2}),fe(1e15,{kg:-1,m:-2,s:4,A:2}),fe(1e-9,{kg:1,m:2,s:-3,A:-2}),fe(1e-6,{kg:1,m:2,s:-3,A:-2}),fe(.001,{kg:1,m:2,s:-3,A:-2}),fe(1,{kg:1,m:2,s:-3,A:-2}),fe(1e3,{kg:1,m:2,s:-3,A:-2}),fe(1e6,{kg:1,m:2,s:-3,A:-2}),fe(1e9,{kg:1,m:2,s:-3,A:-2}),fe(1e12,{kg:1,m:2,s:-3,A:-2}),fe(1e15,{kg:1,m:2,s:-3,A:-2}),fe(1e-9,{kg:-1,m:-2,s:3,A:2}),fe(1e-6,{kg:-1,m:-2,s:3,A:2}),fe(.001,{kg:-1,m:-2,s:3,A:2}),fe(1,{kg:-1,m:-2,s:3,A:2}),fe(1e3,{kg:-1,m:-2,s:3,A:2}),fe(1e6,{kg:-1,m:-2,s:3,A:2}),fe(1e9,{kg:-1,m:-2,s:3,A:2}),fe(1e12,{kg:-1,m:-2,s:3,A:2}),fe(1e15,{kg:-1,m:-2,s:3,A:2}),fe(1e-9,{kg:1,m:2,s:-2,A:-1}),fe(1e-6,{kg:1,m:2,s:-2,A:-1}),fe(.001,{kg:1,m:2,s:-2,A:-1}),fe(1,{kg:1,m:2,s:-2,A:-1}),fe(1e3,{kg:1,m:2,s:-2,A:-1}),fe(1e6,{kg:1,m:2,s:-2,A:-1}),fe(1e9,{kg:1,m:2,s:-2,A:-1}),fe(1e12,{kg:1,m:2,s:-2,A:-1}),fe(1e15,{kg:1,m:2,s:-2,A:-1}),fe(1e-9,{kg:1,s:-2,A:-1}),fe(1e-6,{kg:1,s:-2,A:-1}),fe(.001,{kg:1,s:-2,A:-1}),fe(1,{kg:1,s:-2,A:-1}),fe(1e3,{kg:1,s:-2,A:-1}),fe(1e6,{kg:1,s:-2,A:-1}),fe(1e9,{kg:1,s:-2,A:-1}),fe(1e12,{kg:1,s:-2,A:-1}),fe(1e15,{kg:1,s:-2,A:-1}),fe(1e-9,{kg:1,m:2,s:-2,A:-2}),fe(1e-6,{kg:1,m:2,s:-2,A:-2}),fe(.001,{kg:1,m:2,s:-2,A:-2}),fe(1,{kg:1,m:2,s:-2,A:-2}),fe(1e3,{kg:1,m:2,s:-2,A:-2}),fe(1e6,{kg:1,m:2,s:-2,A:-2}),fe(1e9,{kg:1,m:2,s:-2,A:-2}),fe(1e12,{kg:1,m:2,s:-2,A:-2}),fe(1e15,{kg:1,m:2,s:-2,A:-2}),fe(1e-9,{s:-1}),fe(1e-6,{s:-1}),fe(.001,{s:-1}),fe(1,{s:-1}),fe(1e3,{s:-1}),fe(1e6,{s:-1}),fe(1e9,{s:-1}),fe(1e12,{s:-1}),fe(1e15,{s:-1}),fe(1e-9,{m:2,s:-2}),fe(1e-6,{m:2,s:-2}),fe(.001,{m:2,s:-2}),fe(1,{m:2,s:-2}),fe(1e3,{m:2,s:-2}),fe(1e6,{m:2,s:-2}),fe(1e9,{m:2,s:-2}),fe(1e12,{m:2,s:-2}),fe(1e15,{m:2,s:-2}),fe(1e-9,{m:2,s:-2}),fe(1e-6,{m:2,s:-2}),fe(.001,{m:2,s:-2}),fe(1,{m:2,s:-2}),fe(1e3,{m:2,s:-2}),fe(1e6,{m:2,s:-2}),fe(1e9,{m:2,s:-2}),fe(1e12,{m:2,s:-2}),fe(1e15,{m:2,s:-2}),fe(1,{bit:1}),fe(8,{bit:1}),fe(1e3,{bit:1}),fe(1e6,{bit:1}),fe(1e9,{bit:1}),fe(1e12,{bit:1}),fe(1e15,{bit:1}),fe(1e18,{bit:1}),fe(1e21,{bit:1}),fe(1e24,{bit:1}),fe(1024,{bit:1}),fe(1048576,{bit:1}),fe(107374182,{bit:1}),fe(1099511627776,{bit:1}),fe(0x4000000000000,{bit:1}),fe(0x1000000000000000,{bit:1}),fe(11805916207174113e5,{bit:1}),fe(12089258196146292e8,{bit:1}),fe(1e3,{bit:1}),fe(1e6,{bit:1}),fe(1e9,{bit:1}),fe(1e12,{bit:1}),fe(1e15,{bit:1}),fe(1e18,{bit:1}),fe(1e21,{bit:1}),fe(1e24,{bit:1}),fe(1024,{bit:1}),fe(1048576,{bit:1}),fe(107374182,{bit:1}),fe(1099511627776,{bit:1}),fe(0x4000000000000,{bit:1}),fe(0x1000000000000000,{bit:1}),fe(11805916207174113e5,{bit:1}),fe(12089258196146292e8,{bit:1}),fe(8e3,{bit:1}),fe(8e6,{bit:1}),fe(8e9,{bit:1}),fe(8e12,{bit:1}),fe(8e15,{bit:1}),fe(8e18,{bit:1}),fe(8e21,{bit:1}),fe(8e24,{bit:1}),fe(8192,{bit:1}),fe(8388608,{bit:1}),fe(8589934592,{bit:1}),fe(8796093022208,{bit:1}),fe(9007199254740992,{bit:1}),fe(0x8000000000000000,{bit:1}),fe(944473296573929e7,{bit:1}),fe(9671406556917033e9,{bit:1}),fe(667408e-16,{m:3,kg:-1,s:-2});function fe(e,t){return{type:"unit",units:t,value:ee(e)}}function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ge(){return ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ge.apply(this,arguments)}function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function de(e,t){return ye(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){i=!0,a=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||we(e,t)||xe()}function ye(e){if(Array.isArray(e))return e}function be(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function we(e,t){if(e){if("string"==typeof e)return Se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Se(e,t):void 0}}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var qe={main:{display:"inline-block",fontStyle:"italic"},index:{fontSize:"".concat(80,"%"),position:"relative"}};function ke(e){var t,r=e.name.split("_"),n=ye(t=r)||be(t)||we(t)||xe(),a=n[0],o=n.slice(1);return{type:"span",props:{style:he(he({},qe.main),{},{marginLeft:/^[%‰°'"]/.test(a)?"-0.2em":null})},aboveMiddle:.7,belowMiddle:.7+.3*o.length,children:i.createElement(i.Fragment,null,a,o.map((function(e,t){return i.createElement("span",{key:t,style:he(he({},qe.index),{},{top:"".concat(.3*(t+1)/.8,"em")})},e)})))}}function Me(e){var t=e.height,r=e.type,n=void 0===r?"()":r,a=e.flip,o=void 0!==a&&a;return i.createElement("svg",{width:"0.4em",style:{verticalAlign:"top",transform:o?"scale(-1, 1)":void 0},viewBox:"0 0 0.4 ".concat(t)},i.createElement("path",{d:Ee[n](t)}))}var Ee={"()":function(e){return"M0.094 0.681q0 -0.312 0.18 -0.476l0.028 -0.024l0.013 0q0.012 0 0.015 0.003t0.003 0.006q0 0.004 -0.011 0.015q-0.155 0.164 -0.155 0.476l0 ".concat(e-1.4,"q0 0.321 0.155 0.476q0.011 0.011 0.011 0.015q0 0.009 -0.018 0.009l-0.013 0l-0.028 -0.024q-0.18 -0.164 -0.18 -0.476Z")},"[]":function(e){return"M0.134 0.19h0.24v0.08h-0.16v".concat(e-.55,"h0.16v0.08h-0.24Z")},"{}":function(e){var t=e-1.37;return"M0.3472 ".concat(1.161+t,"q0 0.014 -0.0048 0.02h-0.0144q-0.0608 0 -0.104 -0.026t-0.0544 -0.08q-0.0016 -0.006 -0.0024 -0.1445v").concat(-t/2,"q0 -0.021 0 -0.053q-0.0008 -0.089 -0.004 -0.1q-0.0008 -0.001 -0.0008 -0.002q-0.0096 -0.031 -0.0368 -0.053t-0.06 -0.023q-0.0088 0 -0.0112 -0.003t-0.0024 -0.016t0.0024 -0.016t0.0112 -0.003q0.0328 0 0.06 -0.022t0.0368 -0.054q0.0032 -0.012 0.0032 -0.025t0.0016 -0.131v").concat(-t/2,"q0.0008 -0.137 0.0024 -0.144q0.0064 -0.032 0.0256 -0.053q0.0208 -0.026 0.064 -0.042q0.0296 -0.008 0.0424 -0.009q0.0016 0 0.0104 0t0.0144 -0.001h0.016q0.0048 0.006 0.0048 0.018q0 0.013 -0.0024 0.016q-0.0016 0.003 -0.0128 0.003q-0.0448 0.003 -0.0744 0.032q-0.016 0.015 -0.0208 0.034q-0.004 0.013 -0.004 0.148v").concat(t/2,"q0 0.13 -0.0008 0.136q-0.004 0.039 -0.0272 0.067t-0.0576 0.041l-0.0112 0.005l0.0112 0.005q0.0336 0.013 0.0568 0.04t0.028 0.068q0.0008 0.006 0.0008 0.136v").concat(t/2,"q0 0.1355 0.004 0.1475q0.008 0.028 0.0352 0.046t0.06 0.02q0.0112 0 0.0128 0.004q0.0024 0.002 0.0024 0.014Z")}};function Ae(e){var t=[];e.args.forEach((function(e,r){r>0&&t.push(We(",",{paddingRight:"0.4em"})),Ke(e,t)}));var r=Ze("function"===e.type?{type:"variable",name:e.name}:{type:"operand-placeholder"}),n=Qe(t);return{type:"span",props:{style:{height:"".concat(Math.max(r.height,n.height),"em")}},aboveMiddle:Math.max(r.aboveMiddle,n.aboveMiddle),belowMiddle:Math.max(r.belowMiddle,n.belowMiddle),children:i.createElement(i.Fragment,null,i.createElement("span",{style:{position:"relative",top:"".concat(n.aboveMiddle-r.aboveMiddle,"em")}},r.elements),i.createElement(Me,{height:n.height}),n.elements,i.createElement(Me,{height:n.height,flip:!0}))}}var Ue=.06,Ne={wrapper:{display:"inline-block",verticalAlign:"top"},part:{fontSize:"".concat(90,"%"),display:"block",textAlign:"center",padding:"0 0.4em"},separator:{display:"block",background:"currentColor",borderTop:"".concat(Ue,"em solid currentColor")}};var Le={exponent:{fontSize:"".concat(70,"%"),display:"inline-block",verticalAlign:"top"}};var _e={wrapper:{padding:"0.1em 0"},table:{display:"inline-table",verticalAlign:"top",borderCollapse:"collapse",fontSize:"".concat(90,"%"),marginTop:"0.1em"},cell:{padding:"0.2em 0.5em",textAlign:"center",verticalAlign:"top"},cellContent:{width:"100%",height:"100%"}};function Oe(e,t){return e.reduce((function(e,r){return Math.max(e,t(r))}),0)}var Te={wrapper:{display:"inline-block"},block:{display:"inline-block",verticalAlign:"top",textAlign:"center"},icon:{display:"block",lineHeight:.8,fontSize:"2.25em",padding:"0 0.1em",top:"1px"},small:{display:"block",fontSize:"".concat(80,"%")}};function Ie(e){var t,r=de(e.args,4),n=r[0],a=r[1],o=r[2],s=r[3],l=Ze(o||{type:"operand-placeholder"}),u=Ze({type:"equals",a:n||{type:"operand-placeholder"},b:a||{type:"operand-placeholder"}}),c=Ze(Ce(t=s||{type:"operand-placeholder"})?t:{type:"block",child:t},!1,{type:"span",props:{style:Te.block},aboveMiddle:.9+.8*l.height,belowMiddle:.9+.8*u.height,children:i.createElement(i.Fragment,null,i.createElement("span",{style:he({height:"".concat(l.height,"em")},Te.small)},l.elements),i.createElement("span",{style:Te.icon},"Σ"),i.createElement("span",{style:he({height:"".concat(u.height,"em")},Te.small)},u.elements))});return{type:"span",props:{style:Te.wrapper},aboveMiddle:c.aboveMiddle,belowMiddle:c.belowMiddle,children:c.elements}}function Ce(e){return"variable"===e.type||"number"===e.type||"block"===e.type||"function"===e.type||"matrix"===e.type||"divide-fraction"===e.type||"power"===e.type||"operand-placeholder"===e.type||"function-placeholder"===e.type||("negative"===e.type||"positive"===e.type||"positive-negative"===e.type||"operator-unary-placeholder"===e.type)&&Ce(e.value)}var Pe={display:"inline-block",verticalAlign:"top",padding:"0 0.3em"},Re={position:"absolute",borderLeft:"0.08em solid currentColor",top:"0.2em",height:"calc(100% - 0.4em)"};function Fe(e){var t,r=e.height,n=e.style;return r=Math.max(r,1.4),i.createElement("svg",{width:"0.8em",style:n,viewBox:"0 0 0.8 ".concat(r-.1)},i.createElement("path",{d:(t=De(je,r),t.map((function(e){var t=e.c,r=e.v;return t+r.join(" ")})).join(""))}))}function De(e,t){var r=t-1.4,n=.015*Math.atan(1.25*r),i=.08*Math.atan(.556*r);return e.map((function(e,t){var a=e.c,o=e.v;return 0===t?{c:a,v:[o[0]-n,o[1]]}:1===t?{c:a,v:[o[0]-.75*n,o[1],o[2]-.5*n,o[3]]}:18===t?{c:a,v:[o[0]-.416*i,o[1]-.909*i+r]}:t>3?{c:a,v:o.map((function(e,t){return t%2==0?e:e+r}))}:{c:a,v:o}}))}var je=[{c:"M",v:[.7767,.014]},{c:"Q",v:[.7847,0,.7967,0]},{c:"L",v:[.8,0]},{c:"L",v:[.8,.08]},{c:"L",v:[.351,.993]},{c:"Q",v:[.347,1,.332,1]},{c:"Q",v:[.323,1,.32,.997]},{c:"L",v:[.126,.575]},{c:"L",v:[.11,.586]},{c:"Q",v:[.095,.598,.079,.61]},{c:"T",v:[.061,.622]},{c:"Q",v:[.057,.622,.048,.614]},{c:"T",v:[.038,.6]},{c:"Q",v:[.038,.597,.039,.596]},{c:"Q",v:[.041,.592,.106,.542]},{c:"T",v:[.173,.491]},{c:"Q",v:[.175,.489,.178,.489]},{c:"Q",v:[.185,.489,.19,.499]},{c:"L",v:[.3578,.8658]},{c:"Z",v:[]}],He={wrapper:{position:"relative",display:"inline-block",marginTop:"0.1em"},symbol:{verticalAlign:"top"},line:{position:"absolute",width:"calc(100% - 0.7em)",borderTop:"0.08em solid currentColor",top:0,left:"0.8em"}};function Ve(e){var t=Ze(de(e.args,1)[0]||{type:"operand-placeholder"});return{type:"span",props:{style:he(he({},He.wrapper),{},{height:"".concat(t.height+.1,"em")})},aboveMiddle:t.aboveMiddle+.1,belowMiddle:t.belowMiddle,children:i.createElement(i.Fragment,null,i.createElement(Fe,{style:He.symbol,height:t.height+.1}),i.createElement("div",{style:He.line}),t.elements)}}var Be={wrapper:{display:"inline-block",position:"relative"},indexOuter:{display:"inline-block"},indexInner:{fontSize:"".concat(70,"%"),verticalAlign:"top"}};var Ge=function(e){return"Error: ".concat(e.errorType)},ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.errorHandler,n=void 0===r?{}:r,a=t.className,o=t.style,s={className:a,style:he(he({},o),{},{display:"inline-block",lineHeight:1.4})};if("parser-error"===e.type)return i.createElement("span",s,i.createElement("div",null,e.equation.substring(0,e.start),i.createElement("span",{style:{color:"red"}},e.equation.substring(e.start,e.end+1)),e.equation.substring(e.end+1)),i.createElement("div",null,(n[e.errorType]||Ge)(e)));if("resolve-error"===e.type&&e.node){var l=Ze(e.node),u=l.elements,c=l.height;return i.createElement("span",s,i.createElement("span",{style:{height:"".concat(c,"em"),display:"inline-block"}},u),i.createElement("br",null),(n[e.errorType]||Ge)(e))}if("resolve-error"===e.type)return i.createElement("span",s,(n[e.errorType]||Ge)(e));var p=Ze(e),f=p.elements,m=p.height;return i.createElement("span",ge({},s,{style:he({height:"".concat(m,"em")},s.style)}),f)};function Ze(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return Qe(t&&"block"===e.type?Ke(e.child,n):Ke(e,n))}function Qe(e){var t,r=e.reduce((function(e,t){return Math.max(e,t.aboveMiddle)}),0),n=e.reduce((function(e,t){return Math.max(e,t.belowMiddle)}),0),a=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=we(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;o.props.style=he(he({},o.props.style),{},{top:o.aboveMiddle<r?"".concat(r-o.aboveMiddle,"em"):null,position:"relative"})}}catch(s){a.e(s)}finally{a.f()}return{aboveMiddle:r,belowMiddle:n,height:r+n,elements:e.map((function(e,t){return i.createElement(e.type,he({key:t},e.props),e.children)}))}}var Xe={plus:["+"],minus:["−"],"plus-minus":["±"],"multiply-implicit":["",{padding:"0 0.1em"}],"multiply-dot":["⋅",{padding:"0 0.15em"}],"multiply-cross":["×"],"divide-inline":["÷"],equals:["="],"less-than":["<"],"less-than-equals":["≤"],"greater-than":[">"],"greater-than-equals":["≥"],approximates:["≈"],"operator-placeholder":["?"]},Ye={positive:["+"],negative:["−"],"positive-negative":["±"],"operator-unary-placeholder":["?"]};function Ke(e,t){switch(e.type){case"number":t.push(We(e.value));break;case"variable":t.push(ke(e));break;case"operand-placeholder":t.push(We("_"));break;case"positive":case"negative":case"positive-negative":case"operator-unary-placeholder":var r=de(Ye[e.type],2),n=r[0],a=r[1],o=void 0===a?{padding:"0 0.1em"}:a;t.push(We(n,o)),Ke(e.value,t);break;case"plus":case"minus":case"plus-minus":case"multiply-implicit":case"multiply-dot":case"multiply-cross":case"divide-inline":case"equals":case"less-than":case"less-than-equals":case"greater-than":case"greater-than-equals":case"approximates":case"operator-placeholder":var s=de(Xe[e.type],2),l=s[0],u=s[1],c=void 0===u?{padding:"0 0.3em"}:u;Ke(e.a,t),t.push(We(l,c)),Ke(e.b,t);break;case"divide-fraction":t.push((f=(p=e).a,m=p.b,g=Ze(f,!0),v=Ze(m,!0),{type:"span",props:{style:he({},Ne.wrapper)},aboveMiddle:.9*g.height-.03,belowMiddle:.9*v.height+.09,children:i.createElement(i.Fragment,null,i.createElement("span",{style:he(he({},Ne.part),{},{height:"".concat(g.height,"em")})},g.elements),i.createElement("span",{style:Ne.separator}),i.createElement("span",{style:he(he({},Ne.part),{},{height:"".concat(v.height,"em")})},v.elements))}));break;case"power":t.push(function(e){var t=e.a,r=e.b,n=Ze(t,!1),a=Ze(r,!0),o=.7*a.height-.8;return{type:"span",props:{style:{height:"".concat(n.height+o,"em")}},aboveMiddle:n.height/2+o,belowMiddle:n.height/2,children:i.createElement(i.Fragment,null,i.createElement("span",{style:{position:"relative",top:"".concat(o,"em"),height:"".concat(n.height,"em")}},n.elements),i.createElement("span",{style:he(he({},Le.exponent),{},{height:"".concat(a.height,"em")})},a.elements))}}(e));break;case"block":t.push(function(e){var t=Ze(e.child);return{type:"span",props:{style:{height:"".concat(t.height,"em")}},aboveMiddle:t.aboveMiddle,belowMiddle:t.belowMiddle,children:i.createElement(i.Fragment,null,i.createElement(Me,{height:t.height}),t.elements,i.createElement(Me,{height:t.height,flip:!0}))}}(e));break;case"function":!function(e,t){switch(e.name){case"sum":t.push(Ie(e));break;case"abs":t.push(function(e){var t=Ze(de(e.args,1)[0]||{type:"operand-placeholder"});return{type:"span",props:{style:he(he({},Pe),{},{height:"".concat(t.height,"em")})},aboveMiddle:t.aboveMiddle,belowMiddle:t.belowMiddle,children:i.createElement(i.Fragment,null,i.createElement("span",{style:he(he({},Re),{},{left:"0.1em"})}),t.elements,i.createElement("span",{style:he(he({},Re),{},{right:"0.1em"})}))}}(e));break;case"sqrt":t.push(Ve(e));break;case"root":t.push(function(e){var t=de(e.args,2),r=t[0],n=t[1],a=Ze(r||{type:"operand-placeholder"}),o=Ve({type:"function",name:"sqrt",args:[n]}),s=o.belowMiddle-.8,l=1-.6*Math.atan(o.aboveMiddle+o.belowMiddle),u=Qe([{type:"span",props:{style:he(he({},Be.indexOuter),{},{height:"".concat(.7*a.height,"em"),marginRight:"".concat(-l,"em"),minWidth:"".concat(l,"em")})},aboveMiddle:.7*a.height-s,belowMiddle:s,children:i.createElement("span",{style:Be.indexInner},a.elements)},o]);return{type:"span",props:{style:Be.wrapper},aboveMiddle:u.aboveMiddle,belowMiddle:u.belowMiddle,children:u.elements}}(e));break;default:t.push(Ae(e))}}(e,t);break;case"function-placeholder":t.push(Ae(e));break;case"matrix":t.push(function(e){var t,r=e.values,n=e.m,a=r.map((function(e){return e.map((function(e){return Ze(e)}))})),o=.9*(.4*n+(t=function(e){return Oe(e,(function(e){return e.height}))},a.reduce((function(e,r){return e+t(r)}),0)));return{type:"span",props:{style:_e.wrapper},aboveMiddle:(o+.2)/2,belowMiddle:(o+.2)/2,children:i.createElement(i.Fragment,null,i.createElement(Me,{height:o,type:"[]"}),i.createElement("table",{style:_e.table},i.createElement("tbody",null,a.map((function(e,t){var r=Oe(e,(function(e){return e.height}))+.4,n=Oe(e,(function(e){return e.aboveMiddle}));return i.createElement("tr",{key:t,style:{height:"".concat(r,"em")}},e.map((function(e,t){return i.createElement("td",{key:t,style:_e.cell},i.createElement("div",{style:{position:"relative",top:"".concat(n-e.aboveMiddle,"em")}},e.elements))})))})))),i.createElement(Me,{height:o,type:"[]",flip:!0}))}}(e));break;default:!function(e,t){throw new Error(t(e&&e.type||"unknown"))}(e,(function(e){return'Equation render: cannot resolve type "'.concat(e,'"')}))}var p,f,m,g,v;return t}function We(e,t){return{type:"span",props:{style:t},children:e,aboveMiddle:.7,belowMiddle:.7}}var Je=(0,i.createContext)({}),$e=function(){return(0,i.useContext)(Je)},et=(0,i.memo)((0,i.forwardRef)((function(e,t){var r=e.value,n=e.errorHandler,a=e.className,s=e.style,l=$e(),u=l.errorHandler,c=l.className,p=l.style,f=L(r);return(0,i.useImperativeHandle)(t,(function(){return{valid:"parser-error"!==f.type,equation:f}})),ze(f,{errorHandler:he(he({},u),n),className:o()(c,a),style:he(he({},p),s)})}))),tt=r(1825),rt=r.n(tt),nt=(r(9107),function(e){var t=e.equation,r=e.knowns,a=(0,i.useState)(Object.assign({},r)),o=a[0],s=a[1],l=(0,i.useState)(null),u=l[0],c=l[1],p=(0,i.useState)(null),f=p[0],m=p[1],g=(0,n.Z)(t.matchAll(/[a-zA-Zα-ωΑ-Ω]+/g)),v=[];g.forEach((function(e){e.forEach((function(e){for(var t=0;t<e.length;t++){var r=e.charAt(t);v.includes(r)||v.push(r)}}))}));return i.createElement("div",{className:"equationContainer"},i.createElement("h2",null,i.createElement(et,{value:t})),null!==f&&i.createElement("p",null,"Solution: ",f," = ",rt()(t,o).solveFor(f).toString()),i.createElement("form",{className:"equationInputs",onSubmit:function(e){e.preventDefault();for(var t=v.length,r={},n=[].concat(v),i=0;i<v.length;i++)e.target[v[i]]&&""!==e.target[v[i]].value&&(r[v[i]]=e.target[v[i]].value,n.splice(n.indexOf(v[i]),1),t--,console.log("we have "+v[i]));t<1?(console.log("too many vars"),c("You need to leave one one variable blank to solve for it"),m(null)):t>1?(console.log("too few vars"),c("You need to fill in all but one of the variables"),m(null)):(console.log(typeof n[0]),c(null),m(n[0]),s(Object.assign({},r)),console.log(r))}},null!=u&&i.createElement("p",{style:{color:"red"}},u),v.map((function(e){return i.createElement("div",{style:{textAlign:"center",paddingBottom:20,fontWeight:"500"}},i.createElement("label",{for:e},e)," ",i.createElement("br",null),i.createElement("input",{type:"text",id:e}))})),i.createElement("input",{type:"submit",value:"Submit"})))})},8161:function(e,t,r){"use strict";var n=r(7294),i=r(1082);t.Z=function(){return n.createElement("div",{className:"navbar"},n.createElement(i.Link,{to:"/"},"Home"),n.createElement(i.Link,{to:"/angular"},"Angular Stuff"),n.createElement(i.Link,{to:"/energy"},"Energy"),n.createElement(i.Link,{to:"/kinematics"},"Kinematics"),n.createElement(i.Link,{to:"/momentum"},"Momentum"))}}}]);
//# sourceMappingURL=7d3f96adcd60ff11fe4b476b5cf07a7d4eeaa929-25d534fd48dc4d4dfaac.js.map